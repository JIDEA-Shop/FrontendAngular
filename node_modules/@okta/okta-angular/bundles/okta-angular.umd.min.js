!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("okta-angular",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],factory):factory(((global=global||self).ng=global.ng||{},global.ng.oktaAngular={}),global.ng.core,global.ng.common,global.rxjs,global.rxjs.operators)}(this,function(exports,core,common,rxjs,operators){"use strict";var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g={next:verb(0),throw:verb(1),return:verb(2)};return"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return{value:(o=o&&i>=o.length?void 0:o)&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}(arguments[i]));return ar}
/**
     * @license Angular v7.2.16
     * (c) 2010-2019 Google LLC. https://angular.io/
     * License: MIT
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var _DOM=null;var nodeContains,DefaultUrlSerializer=function(_super){function GenericBrowserDomAdapter(){var _this=_super.call(this)||this;_this._animationPrefix=null,_this._transitionEnd=null;try{var element_1=_this.createElement("div",document);if(null!=_this.getStyle(element_1,"animationName"))_this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(null!=_this.getStyle(element_1,domPrefixes[i]+"AnimationName")){_this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames_1={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(transEndEventNames_1).forEach(function(key){null!=_this.getStyle(element_1,key)&&(_this._transitionEnd=transEndEventNames_1[key])})}catch(_a){_this._animationPrefix=null,_this._transitionEnd=null}return _this}return __extends(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return this._animationPrefix||""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return this._transitionEnd||""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},GenericBrowserDomAdapter}(function(){function DomAdapter(){this.resourceLoaderType=null}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}()),_attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */core["ɵglobal"].Node&&(nodeContains=core["ɵglobal"].Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))});var urlParsingNode,BrowserDomAdapter=function(_super){function BrowserDomAdapter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){var adapter;adapter=new BrowserDomAdapter,_DOM=_DOM||adapter},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,__spread(args))},BrowserDomAdapter.prototype.logError=function(error){window.console&&(console.error?console.error(error):console.log(error))},BrowserDomAdapter.prototype.log=function(error){window.console&&window.console.log&&window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console&&window.console.group&&window.console.group(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.contains=function(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getTemplateContent=function(el){return"content"in el&&this.isTemplateElement(el)?el.content:null},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){for(var childNodes=el.childNodes,res=new Array(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(parent,ref,node){parent.insertBefore(node,ref)},BrowserDomAdapter.prototype.insertAllBefore=function(parent,ref,nodes){nodes.forEach(function(n){return parent.insertBefore(n,ref)})},BrowserDomAdapter.prototype.insertAfter=function(parent,ref,node){parent.insertBefore(node,ref.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return this.getDefaultDocument().createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,el){el=(el=el||this.getDefaultDocument()).createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){var style=(doc=doc||this.getDefaultDocument()).createElement("style");return this.appendChild(style,this.createTextNode(css,doc)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=""},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,value,styleValue){value=this.getStyle(element,value)||"";return styleValue?value==styleValue:0<value.length},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.getDefaultDocument=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(_a){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(doc){return doc.title},BrowserDomAdapter.prototype.setTitle=function(doc,newTitle){doc.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))},BrowserDomAdapter.prototype.isTemplateElement=function(el){return this.isElementNode(el)&&"TEMPLATE"===el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return null!=node.shadowRoot&&node instanceof HTMLElement},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){return document.importNode(this.templateAwareRoot(node),!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.getAttribute("href")},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(null==key){if(null==(key=event.keyIdentifier))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(doc){var href=function(){if(!baseElement&&!(baseElement=document.querySelector("base")))return null;return baseElement.getAttribute("href")}();return null==href?null:function(url){urlParsingNode=urlParsingNode||document.createElement("a");return urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},BrowserDomAdapter.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},BrowserDomAdapter.prototype.supportsCookies=function(){return!0},BrowserDomAdapter.prototype.getCookie=function(name){return common["ɵparseCookieValue"](document.cookie,name)},BrowserDomAdapter.prototype.setCookie=function(name,value){document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)},BrowserDomAdapter}(DefaultUrlSerializer),baseElement=null;var DOCUMENT$1=common.DOCUMENT;
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function supportsState(){return window.history.pushState}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var INTERNAL_BROWSER_PLATFORM_PROVIDERS=function(_super){function BrowserPlatformLocation(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._init(),_this}return __extends(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this.location=_DOM.getLocation(),this._history=_DOM.getHistory()},BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return _DOM.getBaseHref(this._doc)},BrowserPlatformLocation.prototype.onPopState=function(fn){_DOM.getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){_DOM.getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this.location.pathname},set:function(newPath){this.location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],BrowserPlatformLocation)}(common.PlatformLocation),TRANSITION_ID=new core.InjectionToken("TRANSITION_ID");
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var SERVER_TRANSITION_PROVIDERS=[{provide:core.APP_INITIALIZER,useFactory:function(transitionId,document,injector){return function(){injector.get(core.ApplicationInitStatus).donePromise.then(function(){var dom=_DOM;Array.prototype.slice.apply(dom.querySelectorAll(document,"style[ng-transition]")).filter(function(el){return dom.getAttribute(el,"ng-transition")===transitionId}).forEach(function(el){return dom.remove(el)})})}},deps:[TRANSITION_ID,DOCUMENT$1,core.Injector],multi:!0}],BrowserGetTestability=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){core.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){core["ɵglobal"].getAngularTestability=function(elem,testability){testability=registry.findTestabilityInTree(elem,testability=void 0===testability?!0:testability);if(null==testability)throw new Error("Could not find testability for element.");return testability},core["ɵglobal"].getAllAngularTestabilities=function(){return registry.getAllTestabilities()},core["ɵglobal"].getAllAngularRootElements=function(){return registry.getAllRootElements()};core["ɵglobal"].frameworkStabilizers||(core["ɵglobal"].frameworkStabilizers=[]),core["ɵglobal"].frameworkStabilizers.push(function(callback){function decrement(didWork_){didWork=didWork||didWork_,0==--count&&callback(didWork)}var testabilities=core["ɵglobal"].getAllAngularTestabilities(),count=testabilities.length,didWork=!1;testabilities.forEach(function(testability){testability.whenStable(decrement)})})},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return null!=t?t:findInAncestors?_DOM.isShadowRoot(elem)?this.findTestabilityInTree(registry,_DOM.getHost(elem),!0):this.findTestabilityInTree(registry,_DOM.parentElement(elem),!0):null},BrowserGetTestability}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function exportNgVar(name,value){"undefined"!=typeof COMPILED&&COMPILED||((core["ɵglobal"].ng=core["ɵglobal"].ng||{})[name]=value)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var CORE_TOKENS={ApplicationRef:core.ApplicationRef,NgZone:core.NgZone};function inspectNativeElement(element){return core.getDebugNode(element)}var RouterLinkActive=[{provide:core.APP_INITIALIZER,useFactory:function(coreTokens){return exportNgVar("probe",inspectNativeElement),exportNgVar("coreTokens",__assign({},CORE_TOKENS,(coreTokens||[]).reduce(function(prev,t){return prev[t.name]=t.token,prev},{}))),function(){return inspectNativeElement}},deps:[[core.NgProbeToken,new core.Optional]],multi:!0}],EVENT_MANAGER_PLUGINS=new core.InjectionToken("EventManagerPlugins"),EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(function(p){return p.manager=_this}),this._plugins=plugins.slice().reverse()}return EventManager.prototype.addEventListener=function(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)},EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(eventName){var plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;for(var plugins=this._plugins,i=0;i<plugins.length;i++){var plugin_1=plugins[i];if(plugin_1.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin_1),plugin_1}throw new Error("No event manager plugin found for event "+eventName)},__decorate([core.Injectable(),__param(0,core.Inject(EVENT_MANAGER_PLUGINS)),__metadata("design:paramtypes",[Array,core.NgZone])],EventManager)}(),RouterOutlet=function(){function EventManagerPlugin(_doc){this._doc=_doc}return EventManagerPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){target=_DOM.getGlobalEventTarget(this._doc,target);if(!target)throw new Error("Unsupported event target "+target+" for event "+eventName);return this.addEventListener(target,eventName,handler)},EventManagerPlugin}(),UrlHandlingStrategy=function(){function SharedStylesHost(){this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=new Set;styles.forEach(function(style){_this._stylesSet.has(style)||(_this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},__decorate([core.Injectable()],SharedStylesHost)}(),DomSharedStylesHost=function(_super){function DomSharedStylesHost(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._hostNodes=new Set,_this._styleNodes=new Set,_this._hostNodes.add(_doc.head),_this}return __extends(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){var _this=this;styles.forEach(function(style){var styleEl=_this._doc.createElement("style");styleEl.textContent=style,_this._styleNodes.add(host.appendChild(styleEl))})},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){this._hostNodes.delete(hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){return _this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(styleNode){return _DOM.remove(styleNode)})},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],DomSharedStylesHost)}(UrlHandlingStrategy),NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},COMPONENT_REGEX=/%COMP%/g,HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%";
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return function(event){!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}var RouteReuseStrategy=function(){function DomRendererFactory2(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new DefaultDomRenderer2(eventManager)}return DomRendererFactory2.prototype.createRenderer=function(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case core.ViewEncapsulation.Emulated:var styles=this.rendererByCompId.get(type.id);return styles||(styles=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,styles)),styles.applyToHost(element),styles;case core.ViewEncapsulation.Native:case core.ViewEncapsulation.ShadowDom:return new ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:return this.rendererByCompId.has(type.id)||(styles=flattenStyles(type.id,type.styles,[]),this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)),this.defaultRenderer}},DomRendererFactory2.prototype.begin=function(){},DomRendererFactory2.prototype.end=function(){},__decorate([core.Injectable(),__param(2,core.Inject(core.APP_ID)),__metadata("design:paramtypes",[EventManager,DomSharedStylesHost,String])],DomRendererFactory2)}(),DefaultDomRenderer2=function(){function DefaultDomRenderer2(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}return DefaultDomRenderer2.prototype.destroy=function(){},DefaultDomRenderer2.prototype.createElement=function(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace],name):document.createElement(name)},DefaultDomRenderer2.prototype.createComment=function(value){return document.createComment(value)},DefaultDomRenderer2.prototype.createText=function(value){return document.createTextNode(value)},DefaultDomRenderer2.prototype.appendChild=function(parent,newChild){parent.appendChild(newChild)},DefaultDomRenderer2.prototype.insertBefore=function(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)},DefaultDomRenderer2.prototype.removeChild=function(parent,oldChild){parent&&parent.removeChild(oldChild)},DefaultDomRenderer2.prototype.selectRootElement=function(selectorOrNode,preserveContent){var el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error('The selector "'+selectorOrNode+'" did not match any elements');return preserveContent||(el.textContent=""),el},DefaultDomRenderer2.prototype.parentNode=function(node){return node.parentNode},DefaultDomRenderer2.prototype.nextSibling=function(node){return node.nextSibling},DefaultDomRenderer2.prototype.setAttribute=function(el,name,value,namespaceUri){namespaceUri?(name=namespaceUri+":"+name,(namespaceUri=NAMESPACE_URIS[namespaceUri])?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)):el.setAttribute(name,value)},DefaultDomRenderer2.prototype.removeAttribute=function(el,name,namespace){var namespaceUri;namespace?(namespaceUri=NAMESPACE_URIS[namespace])?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(namespace+":"+name):el.removeAttribute(name)},DefaultDomRenderer2.prototype.addClass=function(el,name){el.classList.add(name)},DefaultDomRenderer2.prototype.removeClass=function(el,name){el.classList.remove(name)},DefaultDomRenderer2.prototype.setStyle=function(el,style,value,flags){flags&core.RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&core.RendererStyleFlags2.Important?"important":""):el.style[style]=value},DefaultDomRenderer2.prototype.removeStyle=function(el,style,flags){flags&core.RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""},DefaultDomRenderer2.prototype.setProperty=function(el,name,value){checkNoSyntheticProp(name,"property"),el[name]=value},DefaultDomRenderer2.prototype.setValue=function(node,value){node.nodeValue=value},DefaultDomRenderer2.prototype.listen=function(target,event,callback){return checkNoSyntheticProp(event,"listener"),"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))},DefaultDomRenderer2}(),AT_CHARCODE="@".charCodeAt(0);function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error("Found the synthetic "+nameKind+" "+name+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var blackListedMap,EmulatedEncapsulationDomRenderer2=function(_super){function EmulatedEncapsulationDomRenderer2(componentShortId,sharedStylesHost,component,appId){var _this=_super.call(this,componentShortId)||this,componentShortId=flattenStyles(appId+"-"+(_this.component=component).id,component.styles,[]);return sharedStylesHost.addStyles(componentShortId),_this.contentAttr=(componentShortId=appId+"-"+component.id,CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)),_this.hostAttr=function(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}(appId+"-"+component.id),_this}return __extends(EmulatedEncapsulationDomRenderer2,_super),EmulatedEncapsulationDomRenderer2.prototype.applyToHost=function(element){_super.prototype.setAttribute.call(this,element,this.hostAttr,"")},EmulatedEncapsulationDomRenderer2.prototype.createElement=function(parent,el){el=_super.prototype.createElement.call(this,parent,el);return _super.prototype.setAttribute.call(this,el,this.contentAttr,""),el},EmulatedEncapsulationDomRenderer2}(DefaultDomRenderer2),ShadowDomRenderer=function(_super){function ShadowDomRenderer(eventManager,sharedStylesHost,hostEl,component){var _this=_super.call(this,eventManager)||this;_this.sharedStylesHost=sharedStylesHost,_this.hostEl=hostEl,(_this.component=component).encapsulation===core.ViewEncapsulation.ShadowDom?_this.shadowRoot=hostEl.attachShadow({mode:"open"}):_this.shadowRoot=hostEl.createShadowRoot(),_this.sharedStylesHost.addHost(_this.shadowRoot);for(var styles=flattenStyles(component.id,component.styles,[]),i=0;i<styles.length;i++){var styleEl=document.createElement("style");styleEl.textContent=styles[i],_this.shadowRoot.appendChild(styleEl)}return _this}return __extends(ShadowDomRenderer,_super),ShadowDomRenderer.prototype.nodeOrShadowRoot=function(node){return node===this.hostEl?this.shadowRoot:node},ShadowDomRenderer.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},ShadowDomRenderer.prototype.appendChild=function(parent,newChild){return _super.prototype.appendChild.call(this,this.nodeOrShadowRoot(parent),newChild)},ShadowDomRenderer.prototype.insertBefore=function(parent,newChild,refChild){return _super.prototype.insertBefore.call(this,this.nodeOrShadowRoot(parent),newChild,refChild)},ShadowDomRenderer.prototype.removeChild=function(parent,oldChild){return _super.prototype.removeChild.call(this,this.nodeOrShadowRoot(parent),oldChild)},ShadowDomRenderer.prototype.parentNode=function(node){return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this,this.nodeOrShadowRoot(node)))},ShadowDomRenderer}(DefaultDomRenderer2),__symbol__="undefined"!=typeof Zone&&Zone.__symbol__||function(v){return"__zone_symbol__"+v},ADD_EVENT_LISTENER=__symbol__("addEventListener"),REMOVE_EVENT_LISTENER=__symbol__("removeEventListener"),symbolNames={},stopSymbol="__zone_symbol__propagationStopped",DomSanitizer="undefined"!=typeof Zone&&Zone[__symbol__("BLACK_LISTED_EVENTS")];DomSanitizer&&(blackListedMap={},DomSanitizer.forEach(function(eventName){blackListedMap[eventName]=eventName}));function isBlackListedEvent(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)}function globalListener(event){var taskDatas=symbolNames[event.type];if(taskDatas){taskDatas=this[taskDatas];if(taskDatas){var args=[event];if(1===taskDatas.length)return(taskData=taskDatas[0]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args);for(var taskData,copiedTasks=taskDatas.slice(),i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++)(taskData=copiedTasks[i]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}}var UrlSerializer=function(_super){function DomEventsPlugin(_this,ngZone,platformId){_this=_super.call(this,_this)||this;return _this.ngZone=ngZone,platformId&&common.isPlatformServer(platformId)||_this.patchEvent(),_this}return __extends(DomEventsPlugin,_super),DomEventsPlugin.prototype.patchEvent=function(){var delegate;"undefined"!=typeof Event&&Event&&Event.prototype&&(Event.prototype.__zone_symbol__stopImmediatePropagation||(delegate=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation,Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}))},DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,zone){var _this=this,globalListenerRegistered=element[ADD_EVENT_LISTENER],callback=zone;if(!globalListenerRegistered||core.NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element.addEventListener(eventName,callback,!1);else{var zone=(zone=symbolNames[eventName])||(symbolNames[eventName]=__symbol__("ANGULAR"+eventName+"FALSE")),globalListenerRegistered=(taskDatas=element[zone])&&0<taskDatas.length,taskDatas=taskDatas||(element[zone]=[]),zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{for(var callbackRegistered=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return function(){return _this.removeEventListener(element,eventName,callback)}},DomEventsPlugin.prototype.removeEventListener=function(target,eventName,callback){var underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target.removeEventListener.apply(target,[eventName,callback,!1]);var symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target.removeEventListener.apply(target,[eventName,callback,!1]);for(var found=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target.removeEventListener.apply(target,[eventName,callback,!1])},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__param(2,core.Optional()),__param(2,core.Inject(core.PLATFORM_ID)),__metadata("design:paramtypes",[Object,core.NgZone,Object])],DomEventsPlugin)}(RouterOutlet),EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new core.InjectionToken("HammerGestureConfig"),HAMMER_LOADER=new core.InjectionToken("HammerLoader"),HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(element){var eventName,mc=new Hammer(element,this.options);for(eventName in mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0}),this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc},__decorate([core.Injectable()],HammerGestureConfig)}(),OktaAuthModule=function(_super){function HammerGesturesPlugin(_this,_config,console,loader){_this=_super.call(this,_this)||this;return _this._config=_config,_this.console=console,_this.loader=loader,_this}return __extends(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName))&&(!(!window.Hammer&&!this.loader)||(this.console.warn('The "'+eventName+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),!1))},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),window.Hammer||!this.loader)return zone.runOutsideAngular(function(){function callback(eventObj){zone.runGuarded(function(){handler(eventObj)})}var mc=_this._config.buildHammer(element);return mc.on(eventName,callback),function(){mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}});var cancelRegistration_1=!1,deregister_1=function(){cancelRegistration_1=!0};return this.loader().then(function(){return window.Hammer?void(cancelRegistration_1||(deregister_1=_this.addEventListener(element,eventName,handler))):(_this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister_1=function(){}))}).catch(function(){_this.console.warn('The "'+eventName+'" event cannot be bound because the custom Hammer.JS loader failed.'),deregister_1=function(){}}),function(){deregister_1()}},HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return-1<this._config.events.indexOf(eventName)},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__param(1,core.Inject(HAMMER_GESTURE_CONFIG)),__param(3,core.Optional()),__param(3,core.Inject(HAMMER_LOADER)),__metadata("design:paramtypes",[Object,HammerGestureConfig,core["ɵConsole"],Object])],HammerGesturesPlugin)}(RouterOutlet),MODIFIER_KEYS=["alt","control","meta","shift"],MODIFIER_KEY_GETTERS={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},DefaultUrlSerializer=function(_super){function KeyEventsPlugin(doc){return _super.call(this,doc)||this}var KeyEventsPlugin_1;return __extends(KeyEventsPlugin,_super),(KeyEventsPlugin_1=KeyEventsPlugin).prototype.supports=function(eventName){return null!=KeyEventsPlugin_1.parseEventName(eventName)},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin_1.parseEventName(eventName),outsideHandler=KeyEventsPlugin_1.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return _DOM.onAndCancel(element,parsedEvent.domEventName,outsideHandler)})},KeyEventsPlugin.parseEventName=function(result){var parts=result.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;var result=KeyEventsPlugin_1._normalizeKey(parts.pop()),fullKey="";if(MODIFIER_KEYS.forEach(function(modifierName){var index=parts.indexOf(modifierName);-1<index&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=result,0!=parts.length||0===result.length)return null;result={};return result.domEventName=domEventName,result.fullKey=fullKey,result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=_DOM.getEventKey(event);return" "===(key=key.toLowerCase())?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(function(modifierName){modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+".")}),fullKey+=key},KeyEventsPlugin.eventCallback=function(fullKey,handler,zone){return function(event){KeyEventsPlugin_1.getEventFullKey(event)===fullKey&&zone.runGuarded(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){return"esc"!==keyName?keyName:"escape"},KeyEventsPlugin_1=__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],KeyEventsPlugin)}(RouterOutlet),DomSanitizer=function(){},RouterOutlet=function(_super){function DomSanitizerImpl(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this}return __extends(DomSanitizerImpl,_super),DomSanitizerImpl.prototype.sanitize=function(ctx,value){if(null==value)return null;switch(ctx){case core.SecurityContext.NONE:return value;case core.SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"HTML"),core["ɵ_sanitizeHtml"](this._doc,String(value)));case core.SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"Style"),core["ɵ_sanitizeStyle"](value));case core.SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"Script"),new Error("unsafe value used in a script context");case core.SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"URL"),core["ɵ_sanitizeUrl"](String(value)));case core.SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+ctx+" (see http://g.co/ng/security#xss)")}},DomSanitizerImpl.prototype.checkNotSafeValue=function(value,expectedType){if(value instanceof SafeValueImpl)throw new Error("Required a safe "+expectedType+", got a "+value.getTypeName()+" (see http://g.co/ng/security#xss)")},DomSanitizerImpl.prototype.bypassSecurityTrustHtml=function(value){return new SafeHtmlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustStyle=function(value){return new SafeStyleImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustScript=function(value){return new SafeScriptImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustUrl=function(value){return new SafeUrlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl=function(value){return new SafeResourceUrlImpl(value)},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],DomSanitizerImpl)}(DomSanitizer),SafeValueImpl=function(){function SafeValueImpl(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}return SafeValueImpl.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},SafeValueImpl}(),SafeHtmlImpl=function(_super){function SafeHtmlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeHtmlImpl,_super),SafeHtmlImpl.prototype.getTypeName=function(){return"HTML"},SafeHtmlImpl}(SafeValueImpl),SafeStyleImpl=function(_super){function SafeStyleImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeStyleImpl,_super),SafeStyleImpl.prototype.getTypeName=function(){return"Style"},SafeStyleImpl}(SafeValueImpl),SafeScriptImpl=function(_super){function SafeScriptImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeScriptImpl,_super),SafeScriptImpl.prototype.getTypeName=function(){return"Script"},SafeScriptImpl}(SafeValueImpl),SafeUrlImpl=function(_super){function SafeUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeUrlImpl,_super),SafeUrlImpl.prototype.getTypeName=function(){return"URL"},SafeUrlImpl}(SafeValueImpl),SafeResourceUrlImpl=function(_super){function SafeResourceUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeResourceUrlImpl,_super),SafeResourceUrlImpl.prototype.getTypeName=function(){return"ResourceURL"},SafeResourceUrlImpl}(SafeValueImpl),INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:core.PLATFORM_ID,useValue:common["ɵPLATFORM_BROWSER_ID"]},{provide:core.PLATFORM_INITIALIZER,useValue:function(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init()},multi:!0},{provide:common.PlatformLocation,useClass:INTERNAL_BROWSER_PLATFORM_PROVIDERS,deps:[DOCUMENT$1]},{provide:DOCUMENT$1,useFactory:function(){return document},deps:[]}],RouterOutlet=[{provide:core.Sanitizer,useExisting:DomSanitizer},{provide:DomSanitizer,useClass:RouterOutlet,deps:[DOCUMENT$1]}];core.createPlatformFactory(core.platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS);var BROWSER_MODULE_PROVIDERS=[RouterOutlet,{provide:core["ɵAPP_ROOT"],useValue:!0},{provide:core.ErrorHandler,useFactory:function(){return new core.ErrorHandler},deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:UrlSerializer,multi:!0,deps:[DOCUMENT$1,core.NgZone,core.PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:DefaultUrlSerializer,multi:!0,deps:[DOCUMENT$1]},{provide:EVENT_MANAGER_PLUGINS,useClass:OktaAuthModule,multi:!0,deps:[DOCUMENT$1,HAMMER_GESTURE_CONFIG,core["ɵConsole"],[new core.Optional,HAMMER_LOADER]]},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig,deps:[]},{provide:RouteReuseStrategy,useClass:RouteReuseStrategy,deps:[EventManager,DomSharedStylesHost,core.APP_ID]},{provide:core.RendererFactory2,useExisting:RouteReuseStrategy},{provide:UrlHandlingStrategy,useExisting:DomSharedStylesHost},{provide:DomSharedStylesHost,useClass:DomSharedStylesHost,deps:[DOCUMENT$1]},{provide:core.Testability,useClass:core.Testability,deps:[core.NgZone]},{provide:EventManager,useClass:EventManager,deps:[EVENT_MANAGER_PLUGINS,core.NgZone]},RouterLinkActive];!function(){function BrowserModule(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var BrowserModule_1=BrowserModule;BrowserModule.withServerTransition=function(params){return{ngModule:BrowserModule_1,providers:[{provide:core.APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:core.APP_ID},SERVER_TRANSITION_PROVIDERS]}},BrowserModule_1=__decorate([core.NgModule({providers:BROWSER_MODULE_PROVIDERS,exports:[common.CommonModule,core.ApplicationModule]}),__param(0,core.Optional()),__param(0,core.SkipSelf()),__param(0,core.Inject(BrowserModule_1)),__metadata("design:paramtypes",[Object])],BrowserModule)}();function createMeta(){return new Meta(core.inject(DOCUMENT$1))}var Meta=function(){function Meta(_doc){this._doc=_doc,this._dom=_DOM}return Meta.prototype.addTag=function(tag,forceCreation){return void 0===forceCreation&&(forceCreation=!1),tag?this._getOrCreateElement(tag,forceCreation):null},Meta.prototype.addTags=function(tags,forceCreation){var _this=this;return void 0===forceCreation&&(forceCreation=!1),tags?tags.reduce(function(result,tag){return tag&&result.push(_this._getOrCreateElement(tag,forceCreation)),result},[]):[]},Meta.prototype.getTag=function(attrSelector){return attrSelector&&this._dom.querySelector(this._doc,"meta["+attrSelector+"]")||null},Meta.prototype.getTags=function(list){if(!list)return[];list=this._dom.querySelectorAll(this._doc,"meta["+list+"]");return list?[].slice.call(list):[]},Meta.prototype.updateTag=function(tag,meta){if(!tag)return null;meta=meta||this._parseSelector(tag);meta=this.getTag(meta);return meta?this._setMetaElementAttributes(tag,meta):this._getOrCreateElement(tag,!0)},Meta.prototype.removeTag=function(attrSelector){this.removeTagElement(this.getTag(attrSelector))},Meta.prototype.removeTagElement=function(meta){meta&&this._dom.remove(meta)},Meta.prototype._getOrCreateElement=function(head,forceCreation){if(!(forceCreation=void 0===forceCreation?!1:forceCreation)){var element=this._parseSelector(head),element=this.getTag(element);if(element&&this._containsAttributes(head,element))return element}element=this._dom.createElement("meta");this._setMetaElementAttributes(head,element);head=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(head,element),element},Meta.prototype._setMetaElementAttributes=function(tag,el){var _this=this;return Object.keys(tag).forEach(function(prop){return _this._dom.setAttribute(el,prop,tag[prop])}),el},Meta.prototype._parseSelector=function(tag){var attr=tag.name?"name":"property";return attr+'="'+tag[attr]+'"'},Meta.prototype._containsAttributes=function(tag,elem){var _this=this;return Object.keys(tag).every(function(key){return _this._dom.getAttribute(elem,key)===tag[key]})},Meta.ngInjectableDef=core.defineInjectable({factory:createMeta,token:Meta,providedIn:"root"}),__decorate([core.Injectable({providedIn:"root",useFactory:createMeta,deps:[]}),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],Meta)}();function createTitle(){return new Title(core.inject(DOCUMENT$1))}var Title=function(){function Title(_doc){this._doc=_doc}return Title.prototype.getTitle=function(){return _DOM.getTitle(this._doc)},Title.prototype.setTitle=function(newTitle){_DOM.setTitle(this._doc,newTitle)},Title.ngInjectableDef=core.defineInjectable({factory:createTitle,token:Title,providedIn:"root"}),__decorate([core.Injectable({providedIn:"root",useFactory:createTitle,deps:[]}),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],Title)}();var TransferState=function(){function TransferState(){this.store={},this.onSerializeCallbacks={}}var TransferState_1=TransferState;return TransferState.init=function(initState){var transferState=new TransferState_1;return transferState.store=initState,transferState},TransferState.prototype.get=function(key,defaultValue){return void 0!==this.store[key]?this.store[key]:defaultValue},TransferState.prototype.set=function(key,value){this.store[key]=value},TransferState.prototype.remove=function(key){delete this.store[key]},TransferState.prototype.hasKey=function(key){return this.store.hasOwnProperty(key)},TransferState.prototype.onSerialize=function(key,callback){this.onSerializeCallbacks[key]=callback},TransferState.prototype.toJson=function(){for(var key in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(key))try{this.store[key]=this.onSerializeCallbacks[key]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)},TransferState_1=__decorate([core.Injectable()],TransferState)}();function initTransferState(initialState,appId){var text,unescapedText,script=initialState.getElementById(appId+"-state"),initialState={};if(script&&script.textContent)try{initialState=JSON.parse((text=script.textContent,unescapedText={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},text.replace(/&[^;]+;/g,function(s){return unescapedText[s]})))}catch(e){console.warn("Exception while restoring TransferState for app "+appId,e)}return TransferState.init(initialState)}(function(){function BrowserTransferStateModule(){}__decorate([core.NgModule({providers:[{provide:TransferState,useFactory:initTransferState,deps:[DOCUMENT$1,core.APP_ID]}]})],BrowserTransferStateModule)})(),new core.Version("7.2.16")
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */;var RouterOutlet=function(id,url){this.id=id,this.url=url},NavigationStart=function(_super){function NavigationStart(id,_this,navigationTrigger,restoredState){void 0===navigationTrigger&&(navigationTrigger="imperative"),void 0===restoredState&&(restoredState=null);_this=_super.call(this,id,_this)||this;return _this.navigationTrigger=navigationTrigger,_this.restoredState=restoredState,_this}return __extends(NavigationStart,_super),NavigationStart.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},NavigationStart}(RouterOutlet),NavigationEnd=function(_super){function NavigationEnd(id,_this,urlAfterRedirects){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this}return __extends(NavigationEnd,_super),NavigationEnd.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},NavigationEnd}(RouterOutlet),NavigationCancel=function(_super){function NavigationCancel(id,_this,reason){_this=_super.call(this,id,_this)||this;return _this.reason=reason,_this}return __extends(NavigationCancel,_super),NavigationCancel.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},NavigationCancel}(RouterOutlet),NavigationError=function(_super){function NavigationError(id,_this,error){_this=_super.call(this,id,_this)||this;return _this.error=error,_this}return __extends(NavigationError,_super),NavigationError.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},NavigationError}(RouterOutlet),RoutesRecognized=function(_super){function RoutesRecognized(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(RoutesRecognized,_super),RoutesRecognized.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},RoutesRecognized}(RouterOutlet),GuardsCheckStart=function(_super){function GuardsCheckStart(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(GuardsCheckStart,_super),GuardsCheckStart.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},GuardsCheckStart}(RouterOutlet),GuardsCheckEnd=function(_super){function GuardsCheckEnd(id,_this,urlAfterRedirects,state,shouldActivate){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this.shouldActivate=shouldActivate,_this}return __extends(GuardsCheckEnd,_super),GuardsCheckEnd.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},GuardsCheckEnd}(RouterOutlet),ResolveStart=function(_super){function ResolveStart(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(ResolveStart,_super),ResolveStart.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},ResolveStart}(RouterOutlet),ResolveEnd=function(_super){function ResolveEnd(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(ResolveEnd,_super),ResolveEnd.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},ResolveEnd}(RouterOutlet),RouteConfigLoadStart=function(){function RouteConfigLoadStart(route){this.route=route}return RouteConfigLoadStart.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},RouteConfigLoadStart}(),RouteConfigLoadEnd=function(){function RouteConfigLoadEnd(route){this.route=route}return RouteConfigLoadEnd.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},RouteConfigLoadEnd}(),ChildActivationStart=function(){function ChildActivationStart(snapshot){this.snapshot=snapshot}return ChildActivationStart.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ChildActivationStart}(),ChildActivationEnd=function(){function ChildActivationEnd(snapshot){this.snapshot=snapshot}return ChildActivationEnd.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ChildActivationEnd}(),ActivationStart=function(){function ActivationStart(snapshot){this.snapshot=snapshot}return ActivationStart.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ActivationStart}(),ActivationEnd=function(){function ActivationEnd(snapshot){this.snapshot=snapshot}return ActivationEnd.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ActivationEnd}(),Scroll=function(){function Scroll(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}return Scroll.prototype.toString=function(){var pos=this.position?this.position[0]+", "+this.position[1]:null;return"Scroll(anchor: '"+this.anchor+"', position: '"+pos+"')"},Scroll}(),EmptyOutletComponent=function(){function EmptyOutletComponent(){}return __decorate([core.Component({template:"<router-outlet></router-outlet>"})],EmptyOutletComponent)}(),PRIMARY_OUTLET="primary",ParamsAsMap=function(){function ParamsAsMap(params){this.params=params||{}}return ParamsAsMap.prototype.has=function(name){return this.params.hasOwnProperty(name)},ParamsAsMap.prototype.get=function(v){if(this.has(v)){v=this.params[v];return Array.isArray(v)?v[0]:v}return null},ParamsAsMap.prototype.getAll=function(v){if(this.has(v)){v=this.params[v];return Array.isArray(v)?v:[v]}return[]},Object.defineProperty(ParamsAsMap.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),ParamsAsMap}();function convertToParamMap(params){return new ParamsAsMap(params)}var NAVIGATION_CANCELING_ERROR="ngNavigationCancelingError";function navigationCancelingError(error){error=Error("NavigationCancelingError: "+error);return error[NAVIGATION_CANCELING_ERROR]=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){var parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;for(var posParams={},index=0;index<parts.length;index++){var part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var LoadedRouterConfig=function(routes,module){this.routes=routes,this.module=module};function validateConfig(config,parentPath){void 0===parentPath&&(parentPath="");for(var i=0;i<config.length;i++){var route=config[i];!function(route,fullPath){if(!route)throw new Error("\n      Invalid configuration of route '"+fullPath+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(route))throw new Error("Invalid configuration of route '"+fullPath+"': Array cannot be specified");if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&route.outlet!==PRIMARY_OUTLET)throw new Error("Invalid configuration of route '"+fullPath+"': a componentless route without children or loadChildren cannot have a named outlet set");if(route.redirectTo&&route.children)throw new Error("Invalid configuration of route '"+fullPath+"': redirectTo and children cannot be used together");if(route.redirectTo&&route.loadChildren)throw new Error("Invalid configuration of route '"+fullPath+"': redirectTo and loadChildren cannot be used together");if(route.children&&route.loadChildren)throw new Error("Invalid configuration of route '"+fullPath+"': children and loadChildren cannot be used together");if(route.redirectTo&&route.component)throw new Error("Invalid configuration of route '"+fullPath+"': redirectTo and component cannot be used together");if(route.path&&route.matcher)throw new Error("Invalid configuration of route '"+fullPath+"': path and matcher cannot be used together");if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error("Invalid configuration of route '"+fullPath+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===route.path&&void 0===route.matcher)throw new Error("Invalid configuration of route '"+fullPath+"': routes must have either a path or a matcher specified");if("string"==typeof route.path&&"/"===route.path.charAt(0))throw new Error("Invalid configuration of route '"+fullPath+"': path cannot start with a slash");if(""===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch)throw new Error("Invalid configuration of route '{path: \""+fullPath+'", redirectTo: "'+route.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==route.pathMatch&&"full"!==route.pathMatch&&"prefix"!==route.pathMatch)throw new Error("Invalid configuration of route '"+fullPath+"': pathMatch can only be set to 'prefix' or 'full'");route.children&&validateConfig(route.children,fullPath)}(route,function(parentPath,currentRoute){if(!currentRoute)return parentPath;return parentPath||currentRoute.path?parentPath&&!currentRoute.path?parentPath+"/":!parentPath&&currentRoute.path?currentRoute.path:parentPath+"/"+currentRoute.path:""}(parentPath,route))}}function standardizeConfig(c){var children=c.children&&c.children.map(standardizeConfig),c=children?__assign({},c,{children:children}):__assign({},c);return!c.component&&(children||c.loadChildren)&&c.outlet&&c.outlet!==PRIMARY_OUTLET&&(c.component=EmptyOutletComponent),c}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function shallowEqual(a,b){var key,k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(var i=0;i<k1.length;i++)if(a[key=k1[i]]!==b[key])return!1;return!0}function flatten(arr){return Array.prototype.concat.apply([],arr)}function last$1(a){return 0<a.length?a[a.length-1]:null}function forEach(map$$1,callback){for(var prop in map$$1)map$$1.hasOwnProperty(prop)&&callback(map$$1[prop],prop)}function wrapIntoObservable(value){return core["ɵisObservable"](value)?value:core["ɵisPromise"](value)?rxjs.from(Promise.resolve(value)):rxjs.of(value)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function containsTree(container,containee,exact){return exact?shallowEqual(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(var c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(function(key){return containee[key]===container[key]})}(container.queryParams,containee.queryParams)&&containsSegmentGroup(container.root,containee.root)}function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,next){{if(container.segments.length>next.length){var current=container.segments.slice(0,next.length);return equalPath(current,next)?!containee.hasChildren():!1}if(container.segments.length===next.length){if(!equalPath(container.segments,next))return!1;for(var c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}var current=next.slice(0,container.segments.length),next=next.slice(container.segments.length);return!!equalPath(container.segments,current)&&(!!container.children[PRIMARY_OUTLET]&&containsSegmentGroupHelper(container.children[PRIMARY_OUTLET],containee,next))}}(container,containee,containee.segments)}var UrlTree=function(){function UrlTree(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}return Object.defineProperty(UrlTree.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),UrlTree.prototype.toString=function(){return DEFAULT_SERIALIZER.serialize(this)},UrlTree}(),UrlSegmentGroup=function(){function UrlSegmentGroup(segments,children){var _this=this;this.segments=segments,this.children=children,this.parent=null,forEach(children,function(v,k){return v.parent=_this})}return UrlSegmentGroup.prototype.hasChildren=function(){return 0<this.numberOfChildren},Object.defineProperty(UrlSegmentGroup.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),UrlSegmentGroup.prototype.toString=function(){return serializePaths(this)},UrlSegmentGroup}(),UrlSegment=function(){function UrlSegment(path,parameters){this.path=path,this.parameters=parameters}return Object.defineProperty(UrlSegment.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),UrlSegment.prototype.toString=function(){return serializePath(this)},UrlSegment}();function equalPath(as,bs){return as.length===bs.length&&as.every(function(a,i){return a.path===bs[i].path})}function mapChildrenIntoArray(segment,fn){var res=[];return forEach(segment.children,function(child,childOutlet){childOutlet===PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,function(child,childOutlet){childOutlet!==PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),res}var UrlSerializer=function(){},DefaultUrlSerializer=function(){function DefaultUrlSerializer(){}return DefaultUrlSerializer.prototype.parse=function(p){p=new UrlParser(p);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())},DefaultUrlSerializer.prototype.serialize=function(s){var params,strParams;return"/"+function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);{if(root){var children=segment.children[PRIMARY_OUTLET]?serializeSegment(segment.children[PRIMARY_OUTLET],!1):"",children_1=[];return forEach(segment.children,function(v,k){k!==PRIMARY_OUTLET&&children_1.push(k+":"+serializeSegment(v,!1))}),0<children_1.length?children+"("+children_1.join("//")+")":children}var children=mapChildrenIntoArray(segment,function(v,k){return k===PRIMARY_OUTLET?[serializeSegment(segment.children[PRIMARY_OUTLET],!1)]:[k+":"+serializeSegment(v,!1)]});return serializePaths(segment)+"/("+children.join("//")+")"}}(s.root,!0)+(params=s.queryParams,(strParams=Object.keys(params).map(function(name){var value=params[name];return Array.isArray(value)?value.map(function(v){return encodeUriQuery(name)+"="+encodeUriQuery(v)}).join("&"):encodeUriQuery(name)+"="+encodeUriQuery(value)})).length?"?"+strParams.join("&"):"")+("string"==typeof s.fragment?"#"+(s=s.fragment,encodeURI(s)):"")},DefaultUrlSerializer}(),DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(serializePath).join("/")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return""+encodeUriSegment(path.path)+(params=path.parameters,Object.keys(params).map(function(key){return";"+encodeUriSegment(key)+"="+encodeUriSegment(params[key])}).join(""));var params}var SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(match){match=match.match(SEGMENT_RE);return match?match[0]:""}var QUERY_PARAM_RE=/^[^=?&#]+/;var QUERY_PARAM_VALUE_RE=/^[^?&#]+/;var UrlParser=function(){function UrlParser(url){this.url=url,this.remaining=url}return UrlParser.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())},UrlParser.prototype.parseQueryParams=function(){var params={};if(this.consumeOptional("?"))for(;this.parseQueryParam(params),this.consumeOptional("&"););return params},UrlParser.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},UrlParser.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());var children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));var res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(0<segments.length||0<Object.keys(children).length)&&(res[PRIMARY_OUTLET]=new UrlSegmentGroup(segments,children)),res},UrlParser.prototype.parseSegment=function(){var path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())},UrlParser.prototype.parseMatrixParams=function(){for(var params={};this.consumeOptional(";");)this.parseParam(params);return params},UrlParser.prototype.parseParam=function(params){var value,valueMatch,key=matchSegments(this.remaining);key&&(this.capture(key),value="",!this.consumeOptional("=")||(valueMatch=matchSegments(this.remaining))&&this.capture(value=valueMatch),params[decode(key)]=decode(value))},UrlParser.prototype.parseQueryParam=function(params){var decodedKey,currentVal,decodedVal=(currentVal=(currentVal=this.remaining).match(QUERY_PARAM_RE))?currentVal[0]:"";decodedVal&&(this.capture(decodedVal),currentVal="",!this.consumeOptional("=")||(decodedKey=function(match){return(match=match.match(QUERY_PARAM_VALUE_RE))?match[0]:""}(this.remaining))&&this.capture(currentVal=decodedKey),decodedKey=decodeQuery(decodedVal),decodedVal=decodeQuery(currentVal),params.hasOwnProperty(decodedKey)?(currentVal=params[decodedKey],Array.isArray(currentVal)||(params[decodedKey]=currentVal=[currentVal]),currentVal.push(decodedVal)):params[decodedKey]=decodedVal)},UrlParser.prototype.parseParens=function(allowPrimary){var segments={};for(this.capture("(");!this.consumeOptional(")")&&0<this.remaining.length;){var children=matchSegments(this.remaining),outletName=this.remaining[children.length];if("/"!==outletName&&")"!==outletName&&";"!==outletName)throw new Error("Cannot parse url '"+this.url+"'");outletName=void 0;-1<children.indexOf(":")?(outletName=children.substr(0,children.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName=PRIMARY_OUTLET);children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children[PRIMARY_OUTLET]:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments},UrlParser.prototype.peekStartsWith=function(str){return this.remaining.startsWith(str)},UrlParser.prototype.consumeOptional=function(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)},UrlParser.prototype.capture=function(str){if(!this.consumeOptional(str))throw new Error('Expected "'+str+'".')},UrlParser}(),OktaAuthModule=function(){function Tree(root){this._root=root}return Object.defineProperty(Tree.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),Tree.prototype.parent=function(p){p=this.pathFromRoot(p);return 1<p.length?p[p.length-2]:null},Tree.prototype.children=function(n){n=findNode(n,this._root);return n?n.children.map(function(t){return t.value}):[]},Tree.prototype.firstChild=function(n){n=findNode(n,this._root);return n&&0<n.children.length?n.children[0].value:null},Tree.prototype.siblings=function(t){var p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(function(c){return c.value}).filter(function(cc){return cc!==t})},Tree.prototype.pathFromRoot=function(t){return findPath(t,this._root).map(function(s){return s.value})},Tree}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function findNode(value,node){var e_1,_a;if(value===node.value)return node;try{for(var _b=__values(node.children),_c=_b.next();!_c.done;_c=_b.next()){var node_1=findNode(value,_c.value);if(node_1)return node_1}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return null}function findPath(value,node){var e_2,_a;if(value===node.value)return[node];try{for(var _b=__values(node.children),_c=_b.next();!_c.done;_c=_b.next()){var path=findPath(value,_c.value);if(path.length)return path.unshift(node),path}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return[]}var TreeNode=function(){function TreeNode(value,children){this.value=value,this.children=children}return TreeNode.prototype.toString=function(){return"TreeNode("+this.value+")"},TreeNode}();function nodeChildrenAsMap(node){var map$$1={};return node&&node.children.forEach(function(child){return map$$1[child.value.outlet]=child}),map$$1}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var RouterState=function(_super){function RouterState(root,snapshot){var _this=_super.call(this,root)||this;return _this.snapshot=snapshot,setRouterState(_this,root),_this}return __extends(RouterState,_super),RouterState.prototype.toString=function(){return this.snapshot.toString()},RouterState}(OktaAuthModule);function createEmptyState(fragment,activated){var snapshot=function(activated,rootComponent){activated=new ActivatedRouteSnapshot([],{},{},"",{},PRIMARY_OUTLET,rootComponent,null,activated.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(fragment,activated),emptyUrl=new rxjs.BehaviorSubject([new UrlSegment("",{})]),emptyParams=new rxjs.BehaviorSubject({}),emptyData=new rxjs.BehaviorSubject({}),emptyQueryParams=new rxjs.BehaviorSubject({}),fragment=new rxjs.BehaviorSubject(""),activated=new ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,activated,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}var ActivatedRoute=function(){function ActivatedRoute(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}return Object.defineProperty(ActivatedRoute.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(operators.map(convertToParamMap))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(operators.map(convertToParamMap))),this._queryParamMap},enumerable:!0,configurable:!0}),ActivatedRoute.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},ActivatedRoute}();function inheritedParamsDataResolve(route,paramsInheritanceStrategy){var pathFromRoot=route.pathFromRoot,inheritingStartingFrom=0;if("always"!==(paramsInheritanceStrategy=void 0===paramsInheritanceStrategy?"emptyOnly":paramsInheritanceStrategy))for(inheritingStartingFrom=pathFromRoot.length-1;1<=inheritingStartingFrom;){var current=pathFromRoot[inheritingStartingFrom],parent_1=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent_1.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce(function(res,curr){return{params:__assign({},res.params,curr.params),data:__assign({},res.data,curr.data),resolve:__assign({},res.resolve,curr._resolvedData)}},{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}var ActivatedRouteSnapshot=function(){function ActivatedRouteSnapshot(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}return Object.defineProperty(ActivatedRouteSnapshot.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),ActivatedRouteSnapshot.prototype.toString=function(){return"Route(url:'"+this.url.map(function(segment){return segment.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},ActivatedRouteSnapshot}(),RouterStateSnapshot=function(_super){function RouterStateSnapshot(url,root){var _this=_super.call(this,root)||this;return _this.url=url,setRouterState(_this,root),_this}return __extends(RouterStateSnapshot,_super),RouterStateSnapshot.prototype.toString=function(){return serializeNode(this._root)},RouterStateSnapshot}(OktaAuthModule);function setRouterState(state,node){node.value._routerState=state,node.children.forEach(function(c){return setRouterState(state,c)})}function serializeNode(node){var c=0<node.children.length?" { "+node.children.map(serializeNode).join(", ")+" } ":"";return node.value+c}function advanceActivatedRoute(route){var currentSnapshot,nextSnapshot;route.snapshot?(currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot,route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length===b.length){for(var i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return;return 1}}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)):(route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data))}function equalParamsAndUrlSegments(a,b){var bs,equalUrlParams=shallowEqual(a.params,b.params)&&(parentsMismatch=a.url,bs=b.url,equalPath(parentsMismatch,bs)&&parentsMismatch.every(function(a,i){return shallowEqual(a.parameters,bs[i].parameters)})),parentsMismatch=!a.parent!=!b.parent;return equalUrlParams&&!parentsMismatch&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function createNode(routeReuseStrategy,curr,detachedRouteHandle){if(detachedRouteHandle&&routeReuseStrategy.shouldReuseRoute(curr.value,detachedRouteHandle.value.snapshot)){(value=detachedRouteHandle.value)._futureSnapshot=curr.value;var children=function(routeReuseStrategy,curr,prevState){return curr.children.map(function(child){var e_1,_a;try{for(var _b=__values(prevState.children),_c=_b.next();!_c.done;_c=_b.next()){var p=_c.value;if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,detachedRouteHandle);return new TreeNode(value,children)}detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){var c=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(curr.children.length!==result.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");result.value._futureSnapshot=curr.value;for(var i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,c),c}var value=(c=curr.value,new ActivatedRoute(new rxjs.BehaviorSubject(c.url),new rxjs.BehaviorSubject(c.params),new rxjs.BehaviorSubject(c.queryParams),new rxjs.BehaviorSubject(c.fragment),new rxjs.BehaviorSubject(c.data),c.outlet,c.component,c)),children=curr.children.map(function(c){return createNode(routeReuseStrategy,c)});return new TreeNode(value,children)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function createUrlTree(startingPosition,urlTree,segmentGroup,queryParams,fragment){if(0===segmentGroup.length)return tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);segmentGroup=function(res){if("string"==typeof res[0]&&1===res.length&&"/"===res[0])return new Navigation(!0,0,res);var numberOfDoubleDots=0,isAbsolute=!1,res=res.reduce(function(res,cmd,cmdIdx){if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){var outlets_1={};return forEach(cmd.outlets,function(commands,name){outlets_1[name]="string"==typeof commands?commands.split("/"):commands}),__spread(res,[{outlets:outlets_1}])}if(cmd.segmentPath)return __spread(res,[cmd.segmentPath])}return"string"==typeof cmd&&0===cmdIdx?(cmd.split("/").forEach(function(urlPart,partIndex){0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):__spread(res,[cmd])},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(segmentGroup);if(segmentGroup.toRoot())return tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);startingPosition=function(nav,index,route){if(nav.isAbsolute)return new Position(index.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);index=isMatrixParams(nav.commands[0])?0:1,index=route.snapshot._lastPathIndex+index;return function(group,index,numberOfDoubleDots){var g=group,ci=index,dd=numberOfDoubleDots;for(;ci<dd;){if(dd-=ci,!(g=g.parent))throw new Error("Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,index,nav.numberOfDoubleDots)}(segmentGroup,urlTree,startingPosition),segmentGroup=(startingPosition.processChildren?updateSegmentGroupChildren:updateSegmentGroup)(startingPosition.segmentGroup,startingPosition.index,segmentGroup.commands);return tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){var qp={};return queryParams&&forEach(queryParams,function(value,name){qp[name]=Array.isArray(value)?value.map(function(v){return""+v}):""+value}),urlTree.root===oldSegmentGroup?new UrlTree(newSegmentGroup,qp,fragment):new UrlTree(function replaceSegment(current,oldSegment,newSegment){var children={};forEach(current.children,function(c,outletName){children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)});return new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}var Navigation=function(){function Navigation(cmdWithOutlet,numberOfDoubleDots,commands){if(this.isAbsolute=cmdWithOutlet,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,cmdWithOutlet&&0<commands.length&&isMatrixParams(commands[0]))throw new Error("Root segment cannot have matrix parameters");cmdWithOutlet=commands.find(function(c){return"object"==typeof c&&null!=c&&c.outlets});if(cmdWithOutlet&&cmdWithOutlet!==last$1(commands))throw new Error("{outlets:{}} has to be the last command")}return Navigation.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},Navigation}();var Position=function(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index};function getPath(command){return"object"==typeof command&&null!=command&&command.outlets?command.outlets[PRIMARY_OUTLET]:""+command}function updateSegmentGroup(segmentGroup,startIndex,commands){if(0===(segmentGroup=segmentGroup||new UrlSegmentGroup([],{})).segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);var m=function(segmentGroup,startIndex,commands){var currentCommandIndex=0,currentPathIndex=startIndex,noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;var path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(0<currentPathIndex&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){var g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children[PRIMARY_OUTLET]=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):(!m.match||segmentGroup.hasChildren())&&m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});var outlets_2=function(commands){var _b;return"object"!=typeof commands[0]||void 0===commands[0].outlets?((_b={})[PRIMARY_OUTLET]=commands,_b):commands[0].outlets}(commands),children_1={};return forEach(outlets_2,function(commands,outlet){null!==commands&&(children_1[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,function(child,childOutlet){void 0===outlets_2[childOutlet]&&(children_1[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children_1)}function createNewSegmentGroup(segmentGroup,startIndex,commands){for(var next,paths=segmentGroup.segments.slice(0,startIndex),i=0;i<commands.length;){if("object"==typeof commands[i]&&void 0!==commands[i].outlets){var curr=function(outlets){var children={};return forEach(outlets,function(commands,outlet){null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}(commands[i].outlets);return new UrlSegmentGroup(paths,curr)}0===i&&isMatrixParams(commands[0])?(next=segmentGroup.segments[startIndex],paths.push(new UrlSegment(next.path,commands[0])),i++):(curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null,curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,function(params){var res={};return forEach(params,function(v,k){return res[k]=""+v}),res}(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++))}return new UrlSegmentGroup(paths,{})}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var ActivateRoutes=function(){function ActivateRoutes(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}return ActivateRoutes.prototype.activate=function(parentContexts){var futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)},ActivateRoutes.prototype.deactivateChildRoutes=function(futureNode,currNode,contexts){var _this=this,children=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(futureChild){var childOutletName=futureChild.value.outlet;_this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,function(v,childName){_this.deactivateRouteAndItsChildren(v,contexts)})},ActivateRoutes.prototype.deactivateRoutes=function(futureNode,currNode,parentContext){var context=futureNode.value,curr=currNode?currNode.value:null;context===curr?context.component?(context=parentContext.getContext(context.outlet))&&this.deactivateChildRoutes(futureNode,currNode,context.children):this.deactivateChildRoutes(futureNode,currNode,parentContext):curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)},ActivateRoutes.prototype.deactivateRouteAndItsChildren=function(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)},ActivateRoutes.prototype.detachAndStoreRouteSubtree=function(route,componentRef){var contexts=componentRef.getContext(route.value.outlet);contexts&&contexts.outlet&&(componentRef=contexts.outlet.detach(),contexts=contexts.children.onOutletDeactivated(),this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts}))},ActivateRoutes.prototype.deactivateRouteAndOutlet=function(route,parentContexts){var children,contexts_1,_this=this,context=parentContexts.getContext(route.value.outlet);context&&(children=nodeChildrenAsMap(route),contexts_1=route.value.component?context.children:parentContexts,forEach(children,function(v,k){return _this.deactivateRouteAndItsChildren(v,contexts_1)}),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated()))},ActivateRoutes.prototype.activateChildRoutes=function(futureNode,currNode,contexts){var _this=this,children=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(c){_this.activateRoutes(c,children[c.value.outlet],contexts),_this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))},ActivateRoutes.prototype.activateRoutes=function(futureNode,currNode,parentContexts){var context,cmpFactoryResolver,future=futureNode.value,curr=currNode?currNode.value:null;advanceActivatedRoute(future),future===curr?future.component?(context=parentContexts.getOrCreateContext(future.outlet),this.activateChildRoutes(futureNode,currNode,context.children)):this.activateChildRoutes(futureNode,currNode,parentContexts):future.component?(context=parentContexts.getOrCreateContext(future.outlet),this.routeReuseStrategy.shouldAttach(future.snapshot)?(cmpFactoryResolver=this.routeReuseStrategy.retrieve(future.snapshot),this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(cmpFactoryResolver.contexts),context.attachRef=cmpFactoryResolver.componentRef,context.route=cmpFactoryResolver.route.value,context.outlet&&context.outlet.attach(cmpFactoryResolver.componentRef,cmpFactoryResolver.route.value),advanceActivatedRouteNodeAndItsChildren(cmpFactoryResolver.route)):(cmpFactoryResolver=(cmpFactoryResolver=function(snapshot){for(var s=snapshot.parent;s;s=s.parent){var route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(future.snapshot))?cmpFactoryResolver.module.componentFactoryResolver:null,context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children))):this.activateChildRoutes(futureNode,null,parentContexts)},ActivateRoutes}();function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function isFunction(v){return"function"==typeof v}function isUrlTree(v){return v instanceof UrlTree}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var NoMatch=function(segmentGroup){this.segmentGroup=segmentGroup||null},AbsoluteRedirect=function(urlTree){this.urlTree=urlTree};function noMatch(segmentGroup){return new rxjs.Observable(function(obs){return obs.error(new NoMatch(segmentGroup))})}function absoluteRedirect(newTree){return new rxjs.Observable(function(obs){return obs.error(new AbsoluteRedirect(newTree))})}var ApplyRedirects=function(){function ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(core.NgModuleRef)}return ApplyRedirects.prototype.apply=function(){var _this=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,PRIMARY_OUTLET).pipe(operators.map(function(rootSegmentGroup){return _this.createUrlTree(rootSegmentGroup,_this.urlTree.queryParams,_this.urlTree.fragment)})).pipe(operators.catchError(function(e){if(e instanceof AbsoluteRedirect)return _this.allowRedirects=!1,_this.match(e.urlTree);if(e instanceof NoMatch)throw _this.noMatchError(e);throw e}))},ApplyRedirects.prototype.match=function(tree){var _this=this;return this.expandSegmentGroup(this.ngModule,this.config,tree.root,PRIMARY_OUTLET).pipe(operators.map(function(rootSegmentGroup){return _this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment)})).pipe(operators.catchError(function(e){if(e instanceof NoMatch)throw _this.noMatchError(e);throw e}))},ApplyRedirects.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},ApplyRedirects.prototype.createUrlTree=function(root,queryParams,fragment){var _a,root=0<root.segments.length?new UrlSegmentGroup([],((_a={})[PRIMARY_OUTLET]=root,_a)):root;return new UrlTree(root,queryParams,fragment)},ApplyRedirects.prototype.expandSegmentGroup=function(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(operators.map(function(children){return new UrlSegmentGroup([],children)})):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)},ApplyRedirects.prototype.expandChildren=function(ngModule,routes,segmentGroup){var _this=this;return function(obj,fn){if(0===Object.keys(obj).length)return rxjs.of({});var waitHead=[],waitTail=[],res={};return forEach(obj,function(mapped,k){mapped=fn(k,mapped).pipe(operators.map(function(r){return res[k]=r}));(k===PRIMARY_OUTLET?waitHead:waitTail).push(mapped)}),rxjs.of.apply(null,waitHead.concat(waitTail)).pipe(operators.concatAll(),operators.last(),operators.map(function(){return res}))}(segmentGroup.children,function(childOutlet,child){return _this.expandSegmentGroup(ngModule,routes,child,childOutlet)})},ApplyRedirects.prototype.expandSegment=function(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){var _this=this;return rxjs.of.apply(void 0,__spread(routes)).pipe(operators.map(function(r){return _this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(operators.catchError(function(e){if(e instanceof NoMatch)return rxjs.of(null);throw e}))}),operators.concatAll(),operators.first(function(s){return!!s}),operators.catchError(function(e,_){if(e instanceof rxjs.EmptyError||"EmptyError"===e.name){if(_this.noLeftoversInUrl(segmentGroup,segments,outlet))return rxjs.of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))},ApplyRedirects.prototype.noLeftoversInUrl=function(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]},ApplyRedirects.prototype.expandSegmentAgainstRoute=function(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)},ApplyRedirects.prototype.expandSegmentAgainstRouteUsingRedirect=function(ngModule,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)},ApplyRedirects.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(ngModule,routes,route,outlet){var _this=this,newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(operators.mergeMap(function(newSegments){var group=new UrlSegmentGroup(newSegments,{});return _this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))},ApplyRedirects.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(ngModule,segmentGroup,routes,route,segments,outlet){var _this=this,newTree=match(segmentGroup,route,segments),matched=newTree.matched,consumedSegments=newTree.consumedSegments,lastChild=newTree.lastChild,newTree=newTree.positionalParamSegments;if(!matched)return noMatch(segmentGroup);newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,newTree);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(operators.mergeMap(function(newSegments){return _this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)}))},ApplyRedirects.prototype.matchSegmentAgainstRoute=function(ngModule,rawSegmentGroup,route,segments){var _this=this;if("**"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(operators.map(function(cfg){return route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})})):rxjs.of(new UrlSegmentGroup(segments,{}));var lastChild=match(rawSegmentGroup,route,segments),matched=lastChild.matched,consumedSegments=lastChild.consumedSegments,lastChild=lastChild.lastChild;if(!matched)return noMatch(rawSegmentGroup);var rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(operators.mergeMap(function(segmentGroup){var childModule=segmentGroup.module,childConfig=segmentGroup.routes,slicedSegments=function(segmentGroup,consumedSegments,slicedSegments,config){if(0<slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(function(r){return isEmptyPathRedirect(segmentGroup,segments,r)&&getOutlet(r)!==PRIMARY_OUTLET})}(segmentGroup,slicedSegments,config))return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){var e_3,_a,res={};res[PRIMARY_OUTLET]=primarySegmentGroup;try{for(var routes_2=__values(routes),routes_2_1=routes_2.next();!routes_2_1.done;routes_2_1=routes_2.next()){var r=routes_2_1.value;""===r.path&&getOutlet(r)!==PRIMARY_OUTLET&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{routes_2_1&&!routes_2_1.done&&(_a=routes_2.return)&&_a.call(routes_2)}finally{if(e_3)throw e_3.error}}return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]};if(0===slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(function(r){return isEmptyPathRedirect(segmentGroup,segments,r)})}(segmentGroup,slicedSegments,config))return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){var e_2,_a,res={};try{for(var routes_1=__values(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){var r=routes_1_1.value;isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_2)throw e_2.error}}return __assign({},children,res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments};return{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig),segmentGroup=slicedSegments.segmentGroup,slicedSegments=slicedSegments.slicedSegments;return 0===slicedSegments.length&&segmentGroup.hasChildren()?_this.expandChildren(childModule,childConfig,segmentGroup).pipe(operators.map(function(children){return new UrlSegmentGroup(consumedSegments,children)})):0===childConfig.length&&0===slicedSegments.length?rxjs.of(new UrlSegmentGroup(consumedSegments,{})):_this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,PRIMARY_OUTLET,!0).pipe(operators.map(function(cs){return new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)}))}))},ApplyRedirects.prototype.getChildConfig=function(ngModule,route,segments){var _this=this;return route.children?rxjs.of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?rxjs.of(route._loadedConfig):function(moduleInjector,route,segments){var canLoad=route.canLoad;return canLoad&&0!==canLoad.length?rxjs.from(canLoad).pipe(operators.map(function(guard){var guardVal,guard=moduleInjector.get(guard);if(function(guard){return guard&&isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!isFunction(guard))throw new Error("Invalid CanLoad guard");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(operators.concatAll(),operators.every(function(result){return!0===result})):rxjs.of(!0)}(ngModule.injector,route,segments).pipe(operators.mergeMap(function(shouldLoad){return shouldLoad?_this.configLoader.load(ngModule.injector,route).pipe(operators.map(function(cfg){return route._loadedConfig=cfg})):function(route){return new rxjs.Observable(function(obs){return obs.error(navigationCancelingError("Cannot load children because the guard of the route \"path: '"+route.path+"'\" returned false"))})}(route)})):rxjs.of(new LoadedRouterConfig([],ngModule))},ApplyRedirects.prototype.lineralizeSegments=function(route,urlTree){for(var res=[],c=urlTree.root;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return rxjs.of(res);if(1<c.numberOfChildren||!c.children[PRIMARY_OUTLET])return function(redirectTo){return new rxjs.Observable(function(obs){return obs.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+redirectTo+"'"))})}(route.redirectTo);c=c.children[PRIMARY_OUTLET]}},ApplyRedirects.prototype.applyRedirectCommands=function(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)},ApplyRedirects.prototype.applyRedirectCreatreUrlTree=function(redirectTo,urlTree,segments,newRoot){newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,newRoot);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)},ApplyRedirects.prototype.createQueryParams=function(redirectToParams,actualParams){var res={};return forEach(redirectToParams,function(v,k){var sourceName;"string"==typeof v&&v.startsWith(":")?(sourceName=v.substring(1),res[k]=actualParams[sourceName]):res[k]=v}),res},ApplyRedirects.prototype.createSegmentGroup=function(redirectTo,group,segments,posParams){var _this=this,updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams),children={};return forEach(group.children,function(child,name){children[name]=_this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)},ApplyRedirects.prototype.createSegments=function(redirectTo,redirectToSegments,actualSegments,posParams){var _this=this;return redirectToSegments.map(function(s){return s.path.startsWith(":")?_this.findPosParam(redirectTo,s,posParams):_this.findOrReturn(s,actualSegments)})},ApplyRedirects.prototype.findPosParam=function(redirectTo,redirectToUrlSegment,pos){pos=pos[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error("Cannot redirect to '"+redirectTo+"'. Cannot find '"+redirectToUrlSegment.path+"'.");return pos},ApplyRedirects.prototype.findOrReturn=function(redirectToUrlSegment,actualSegments){var e_1,_a,idx=0;try{for(var actualSegments_1=__values(actualSegments),actualSegments_1_1=actualSegments_1.next();!actualSegments_1_1.done;actualSegments_1_1=actualSegments_1.next()){var s=actualSegments_1_1.value;if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}}catch(e_1_1){e_1={error:e_1_1}}finally{try{actualSegments_1_1&&!actualSegments_1_1.done&&(_a=actualSegments_1.return)&&_a.call(actualSegments_1)}finally{if(e_1)throw e_1.error}}return redirectToUrlSegment},ApplyRedirects}();function match(segmentGroup,res,segments){if(""===res.path)return"full"===res.pathMatch&&(segmentGroup.hasChildren()||0<segments.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};res=(res.matcher||defaultUrlMatcher)(segments,segmentGroup,res);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children[PRIMARY_OUTLET]){var c=s.children[PRIMARY_OUTLET];return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||0<segments.length)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function getOutlet(route){return route.outlet||PRIMARY_OUTLET}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function applyRedirects$1(moduleInjector,configLoader,urlSerializer,config){return function(source){return source.pipe(operators.switchMap(function(t){return function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(operators.map(function(urlAfterRedirects){return __assign({},t,{urlAfterRedirects:urlAfterRedirects})}))}))}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var CanActivate=function(path){this.path=path,this.route=this.path[this.path.length-1]},CanDeactivate=function(component,route){this.component=component,this.route=route};function getToken(token,config,moduleInjector){config=function(snapshot){if(!snapshot)return null;for(var s=snapshot.parent;s;s=s.parent){var route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(config);return(config?config.module.injector:moduleInjector).get(token)}function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks){void 0===checks&&(checks={canDeactivateChecks:[],canActivateChecks:[]});var prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(function(c){!function(futureNode,currNode,parentContexts,futurePath,checks){void 0===checks&&(checks={canDeactivateChecks:[],canActivateChecks:[]});var future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;{var component;curr&&future.routeConfig===curr.routeConfig?((component=function(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case"paramsChange":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers))?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),future.component?getChildRouteGuards(futureNode,currNode,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,currNode,parentContexts,futurePath,checks),component&&(component=context&&context.outlet&&context.outlet.component||null,checks.canDeactivateChecks.push(new CanDeactivate(component,curr)))):(curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),future.component?getChildRouteGuards(futureNode,null,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,null,parentContexts,futurePath,checks))}}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,function(v,k){return deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)}),checks}function deactivateRouteAndItsChildren(route,context,checks){var children=nodeChildrenAsMap(route),r=route.value;forEach(children,function(node,childName){r.component?deactivateRouteAndItsChildren(node,context?context.children.getContext(childName):null,checks):deactivateRouteAndItsChildren(node,context,checks)}),r.component&&context&&context.outlet&&context.outlet.isActivated?checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,r)):checks.canDeactivateChecks.push(new CanDeactivate(null,r))}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return operators.switchMap(function(obs){return rxjs.combineLatest.apply(void 0,__spread(obs.map(function(o){return o.pipe(operators.take(1),operators.startWith(INITIAL_VALUE))}))).pipe(operators.scan(function(acc,list){var isPending=!1;return list.reduce(function(innerAcc,val,i){if(innerAcc!==INITIAL_VALUE)return innerAcc;if(!(isPending=val===INITIAL_VALUE?!0:isPending)){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),operators.filter(function(item){return item!==INITIAL_VALUE}),operators.map(function(item){return isUrlTree(item)?item:!0===item}),operators.take(1))})}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function checkGuards(moduleInjector,forwardEvent){return function(source){return source.pipe(operators.mergeMap(function(t){var targetSnapshot=t.targetSnapshot,currentSnapshot=t.currentSnapshot,canDeactivateChecks=t.guards,canActivateChecks=canDeactivateChecks.canActivateChecks,canDeactivateChecks=canDeactivateChecks.canDeactivateChecks;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?rxjs.of(__assign({},t,{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return rxjs.from(checks).pipe(operators.mergeMap(function(check){return function(component,currARS,currRSS,futureRSS,moduleInjector){var canDeactivateObservables=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;if(!canDeactivateObservables||0===canDeactivateObservables.length)return rxjs.of(!0);canDeactivateObservables=canDeactivateObservables.map(function(guard){var observable,guard=getToken(guard,currARS,moduleInjector);if(function(guard){return guard&&isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!isFunction(guard))throw new Error("Invalid CanDeactivate guard");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(operators.first())});return rxjs.of(canDeactivateObservables).pipe(prioritizedGuardValue())}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(check.component,check.route,currRSS,futureRSS,moduleInjector)}),operators.first(function(result){return!0!==result},!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(operators.mergeMap(function(canDeactivate){return canDeactivate&&"boolean"==typeof canDeactivate?function(futureSnapshot,checks,moduleInjector,forwardEvent){return rxjs.from(checks).pipe(operators.concatMap(function(check){return rxjs.from([function(snapshot,forwardEvent){null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot));return rxjs.of(!0)}(check.route.parent,forwardEvent),function(snapshot,forwardEvent){null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot));return rxjs.of(!0)}(check.route,forwardEvent),function(futureRSS,canActivateChildGuardsMapped,moduleInjector){var futureARS=canActivateChildGuardsMapped[canActivateChildGuardsMapped.length-1],canActivateChildGuardsMapped=canActivateChildGuardsMapped.slice(0,canActivateChildGuardsMapped.length-1).reverse().map(function(p){var canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}).filter(function(_){return null!==_}).map(function(d){return rxjs.defer(function(){var guardsMapped=d.guards.map(function(guard){var observable,guard=getToken(guard,d.node,moduleInjector);if(function(guard){return guard&&isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!isFunction(guard))throw new Error("Invalid CanActivateChild guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(operators.first())});return rxjs.of(guardsMapped).pipe(prioritizedGuardValue())})});return rxjs.of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}(futureSnapshot,check.path,moduleInjector),function(futureRSS,futureARS,moduleInjector){var canActivateObservables=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;if(!canActivateObservables||0===canActivateObservables.length)return rxjs.of(!0);canActivateObservables=canActivateObservables.map(function(c){return rxjs.defer(function(){var observable,guard=getToken(c,futureARS,moduleInjector);if(function(guard){return guard&&isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!isFunction(guard))throw new Error("Invalid CanActivate guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(operators.first())})});return rxjs.of(canActivateObservables).pipe(prioritizedGuardValue())}(futureSnapshot,check.route,moduleInjector)]).pipe(operators.concatAll(),operators.first(function(result){return!0!==result},!0))}),operators.first(function(result){return!0!==result},!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):rxjs.of(canDeactivate)}),operators.map(function(guardsResult){return __assign({},t,{guardsResult:guardsResult})}))}))}}var NoMatch$1=function(){};var Recognizer=function(){function Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}return Recognizer.prototype.recognize=function(){try{var rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,PRIMARY_OUTLET),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(__assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),rxjs.of(routeState)}catch(e){return new rxjs.Observable(function(obs){return obs.error(e)})}},Recognizer.prototype.inheritParamsAndData=function(routeNode){var _this=this,route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(function(n){return _this.inheritParamsAndData(n)})},Recognizer.prototype.processSegmentGroup=function(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)},Recognizer.prototype.processChildren=function(config,children){var names,_this=this,children=mapChildrenIntoArray(children,function(child,childOutlet){return _this.processSegmentGroup(config,child,childOutlet)});return names={},children.forEach(function(n){var c=names[n.value.outlet];if(c){var p=c.url.map(function(s){return s.toString()}).join("/"),c=n.value.url.map(function(s){return s.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+p+"' and '"+c+"'.")}names[n.value.outlet]=n.value}),function(nodes){nodes.sort(function(a,b){return a.value.outlet===PRIMARY_OUTLET?-1:b.value.outlet===PRIMARY_OUTLET?1:a.value.outlet.localeCompare(b.value.outlet)})}(children),children},Recognizer.prototype.processSegment=function(config,segmentGroup,segments,outlet){var e_1,_a;try{for(var config_1=__values(config),config_1_1=config_1.next();!config_1_1.done;config_1_1=config_1.next()){var r=config_1_1.value;try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{config_1_1&&!config_1_1.done&&(_a=config_1.return)&&_a.call(config_1)}finally{if(e_1)throw e_1.error}}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1},Recognizer.prototype.noLeftoversInUrl=function(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]},Recognizer.prototype.processSegmentAgainstRoute=function(childConfig,children_1,segments,snapshot){if(childConfig.redirectTo)throw new NoMatch$1;if((childConfig.outlet||PRIMARY_OUTLET)!==snapshot)throw new NoMatch$1;var result,segmentGroup=[],children=[];snapshot="**"===childConfig.path?(result=0<segments.length?last$1(segments).parameters:{},new ActivatedRouteSnapshot(segments,result,Object.freeze(__assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(childConfig),snapshot,childConfig.component,childConfig,getSourceSegmentGroup(children_1),getPathIndexShift(children_1)+segments.length,getResolve(childConfig))):(segmentGroup=(result=function(res,parameters,segments){if(""===parameters.path){if("full"===parameters.pathMatch&&(res.hasChildren()||0<segments.length))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}res=(parameters.matcher||defaultUrlMatcher)(segments,res,parameters);if(!res)throw new NoMatch$1;var posParams={};forEach(res.posParams,function(v,k){posParams[k]=v.path});parameters=0<res.consumed.length?__assign({},posParams,res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(children_1,childConfig,segments)).consumedSegments,children=segments.slice(result.lastChild),new ActivatedRouteSnapshot(segmentGroup,result.parameters,Object.freeze(__assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(childConfig),snapshot,childConfig.component,childConfig,getSourceSegmentGroup(children_1),getPathIndexShift(children_1)+segmentGroup.length,getResolve(childConfig)));childConfig=function(route){if(route.children)return route.children;if(route.loadChildren)return route._loadedConfig.routes;return[]}(childConfig),children_1=split$1(children_1,segmentGroup,children,childConfig,this.relativeLinkResolution),segmentGroup=children_1.segmentGroup,children=children_1.slicedSegments;if(0===children.length&&segmentGroup.hasChildren()){children_1=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children_1)]}if(0===childConfig.length&&0===children.length)return[new TreeNode(snapshot,[])];children=this.processSegment(childConfig,segmentGroup,children,PRIMARY_OUTLET);return[new TreeNode(snapshot,children)]},Recognizer}();function getSourceSegmentGroup(segmentGroup){for(var s=segmentGroup;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){for(var s=segmentGroup,res=s._segmentIndexShift||0;s._sourceSegment;)res+=(s=s._sourceSegment)._segmentIndexShift||0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(0<slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(function(r){return emptyPathMatch(segmentGroup,slicedSegments,r)&&getOutlet$1(r)!==PRIMARY_OUTLET})}(segmentGroup,slicedSegments,config)){var s_1=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){var e_3,_a,res={};(res[PRIMARY_OUTLET]=primarySegment)._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;try{for(var routes_2=__values(routes),routes_2_1=routes_2.next();!routes_2_1.done;routes_2_1=routes_2.next()){var s,r=routes_2_1.value;""===r.path&&getOutlet$1(r)!==PRIMARY_OUTLET&&((s=new UrlSegmentGroup([],{}))._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{routes_2_1&&!routes_2_1.done&&(_a=routes_2.return)&&_a.call(routes_2)}finally{if(e_3)throw e_3.error}}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s_1._sourceSegment=segmentGroup,s_1._segmentIndexShift=consumedSegments.length,{segmentGroup:s_1,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(function(r){return emptyPathMatch(segmentGroup,slicedSegments,r)})}(segmentGroup,slicedSegments,config)){var s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){var e_2,_a,res={};try{for(var routes_1=__values(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){var s,r=routes_1_1.value;emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]&&((s=new UrlSegmentGroup([],{}))._sourceSegment=segmentGroup,s._segmentIndexShift=("legacy"===relativeLinkResolution?segmentGroup.segments:consumedSegments).length,res[getOutlet$1(r)]=s)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_2)throw e_2.error}}return __assign({},children,res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||0<slicedSegments.length)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function getOutlet$1(route){return route.outlet||PRIMARY_OUTLET}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function recognize$1(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(operators.mergeMap(function(t){return function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){return new Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy=void 0===paramsInheritanceStrategy?"emptyOnly":paramsInheritanceStrategy,relativeLinkResolution=void 0===relativeLinkResolution?"legacy":relativeLinkResolution).recognize()}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(operators.map(function(targetSnapshot){return __assign({},t,{targetSnapshot:targetSnapshot})}))}))}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function resolveData(paramsInheritanceStrategy,moduleInjector){return function(source){return source.pipe(operators.mergeMap(function(t){var targetSnapshot=t.targetSnapshot,canActivateChecks=t.guards.canActivateChecks;return canActivateChecks.length?rxjs.from(canActivateChecks).pipe(operators.concatMap(function(check){return function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){var keys=Object.keys(resolve);if(0===keys.length)return rxjs.of({});if(1===keys.length){var key_1=keys[0];return getResolver(resolve[key_1],futureARS,futureRSS,moduleInjector).pipe(operators.map(function(value){var _a={};return _a[key_1]=value,_a}))}var data={};return rxjs.from(keys).pipe(operators.mergeMap(function(key){return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(operators.map(function(value){return data[key]=value}))})).pipe(operators.last(),operators.map(function(){return data}))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(operators.map(function(resolvedData){return futureARS._resolvedData=resolvedData,futureARS.data=__assign({},futureARS.data,inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null}))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)}),operators.reduce(function(_,__){return _}),operators.map(function(_){return t})):rxjs.of(t)}))}}function getResolver(injectionToken,futureARS,futureRSS,resolver){resolver=getToken(injectionToken,futureARS,resolver);return resolver.resolve?wrapIntoObservable(resolver.resolve(futureARS,futureRSS)):wrapIntoObservable(resolver(futureARS,futureRSS))}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function switchTap(next){return function(source){return source.pipe(operators.switchMap(function(v){var nextResult=next(v);return nextResult?rxjs.from(nextResult).pipe(operators.map(function(){return v})):rxjs.from([v])}))}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var RouteReuseStrategy=function(){},DefaultRouteReuseStrategy=function(){function DefaultRouteReuseStrategy(){}return DefaultRouteReuseStrategy.prototype.shouldDetach=function(route){return!1},DefaultRouteReuseStrategy.prototype.store=function(route,detachedTree){},DefaultRouteReuseStrategy.prototype.shouldAttach=function(route){return!1},DefaultRouteReuseStrategy.prototype.retrieve=function(route){return null},DefaultRouteReuseStrategy.prototype.shouldReuseRoute=function(future,curr){return future.routeConfig===curr.routeConfig},DefaultRouteReuseStrategy}(),ROUTES=new core.InjectionToken("ROUTES"),RouterConfigLoader=function(){function RouterConfigLoader(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}return RouterConfigLoader.prototype.load=function(parentInjector,route){var _this=this;return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(operators.map(function(module){_this.onLoadEndListener&&_this.onLoadEndListener(route);module=module.create(parentInjector);return new LoadedRouterConfig(flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))},RouterConfigLoader.prototype.loadModuleFactory=function(loadChildren){var _this=this;return"string"==typeof loadChildren?rxjs.from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(operators.mergeMap(function(t){return t instanceof core.NgModuleFactory?rxjs.of(t):rxjs.from(_this.compiler.compileModuleAsync(t))}))},RouterConfigLoader}(),UrlHandlingStrategy=function(){},DefaultUrlHandlingStrategy=function(){function DefaultUrlHandlingStrategy(){}return DefaultUrlHandlingStrategy.prototype.shouldProcessUrl=function(url){return!0},DefaultUrlHandlingStrategy.prototype.extract=function(url){return url},DefaultUrlHandlingStrategy.prototype.merge=function(newUrlPart,wholeUrl){return newUrlPart},DefaultUrlHandlingStrategy}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}function defaultRouterHook(snapshot,runExtras){return rxjs.of(null)}var Router=function(){function Router(rootComponentType,urlSerializer,rootContexts,location,ngZone,loader,compiler,config){var _this=this;this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new rxjs.Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=ngZone.get(core.NgModuleRef),this.console=ngZone.get(core["ɵConsole"]);ngZone=ngZone.get(core.NgZone);this.isNgZoneEnabled=ngZone instanceof core.NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new RouterConfigLoader(loader,compiler,function(r){return _this.triggerEvent(new RouteConfigLoadStart(r))},function(r){return _this.triggerEvent(new RouteConfigLoadEnd(r))}),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new rxjs.BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Router.prototype.setupNavigations=function(transitions){var _this=this,eventsSubject=this.events;return transitions.pipe(operators.filter(function(t){return 0!==t.id}),operators.map(function(t){return __assign({},t,{extractedUrl:_this.urlHandlingStrategy.extract(t.rawUrl)})}),operators.switchMap(function(t){var rootContexts,routeReuseStrategy,forwardEvent,completed=!1,errored=!1;return rxjs.of(t).pipe(operators.tap(function(t){_this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:_this.lastSuccessfulNavigation?__assign({},_this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),operators.switchMap(function(t){var extras=!_this.navigated||t.extractedUrl.toString()!==_this.browserUrlTree.toString();if(("reload"===_this.onSameUrlNavigation||extras)&&_this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return rxjs.of(t).pipe(operators.switchMap(function(t){var transition=_this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,_this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==_this.transitions.getValue()?rxjs.EMPTY:[t]}),operators.switchMap(function(t){return Promise.resolve(t)}),applyRedirects$1(_this.ngModule.injector,_this.configLoader,_this.urlSerializer,_this.config),operators.tap(function(t){_this.currentNavigation=__assign({},_this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),recognize$1(_this.rootComponentType,_this.config,function(url){return _this.serializeUrl(url)},_this.paramsInheritanceStrategy,_this.relativeLinkResolution),operators.tap(function(t){"eager"===_this.urlUpdateStrategy&&(t.extras.skipLocationChange||_this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),_this.browserUrlTree=t.urlAfterRedirects)}),operators.tap(function(routesRecognized){routesRecognized=new RoutesRecognized(routesRecognized.id,_this.serializeUrl(routesRecognized.extractedUrl),_this.serializeUrl(routesRecognized.urlAfterRedirects),routesRecognized.targetSnapshot);eventsSubject.next(routesRecognized)}));if(extras&&_this.rawUrlTree&&_this.urlHandlingStrategy.shouldProcessUrl(_this.rawUrlTree)){var id=t.id,extractedUrl=t.extractedUrl,source=t.source,targetSnapshot=t.restoredState,extras=t.extras,targetSnapshot=new NavigationStart(id,_this.serializeUrl(extractedUrl),source,targetSnapshot);eventsSubject.next(targetSnapshot);targetSnapshot=createEmptyState(extractedUrl,_this.rootComponentType).snapshot;return rxjs.of(__assign({},t,{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:__assign({},extras,{skipLocationChange:!1,replaceUrl:!1})}))}return _this.rawUrlTree=t.rawUrl,t.resolve(null),rxjs.EMPTY}),switchTap(function(skipLocationChange){var targetSnapshot=skipLocationChange.targetSnapshot,navigationId=skipLocationChange.id,appliedUrlTree=skipLocationChange.extractedUrl,rawUrlTree=skipLocationChange.rawUrl,replaceUrl=skipLocationChange.extras,skipLocationChange=replaceUrl.skipLocationChange,replaceUrl=replaceUrl.replaceUrl;return _this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),operators.tap(function(guardsStart){guardsStart=new GuardsCheckStart(guardsStart.id,_this.serializeUrl(guardsStart.extractedUrl),_this.serializeUrl(guardsStart.urlAfterRedirects),guardsStart.targetSnapshot);_this.triggerEvent(guardsStart)}),operators.map(function(parentContexts){return __assign({},parentContexts,{guards:(futureRoot=parentContexts.targetSnapshot,curr=parentContexts.currentSnapshot,parentContexts=_this.rootContexts,getChildRouteGuards(futureRoot=futureRoot._root,curr?curr._root:null,parentContexts,[futureRoot.value]))});var futureRoot,curr}),checkGuards(_this.ngModule.injector,function(evt){return _this.triggerEvent(evt)}),operators.tap(function(t){if(isUrlTree(t.guardsResult)){var error=navigationCancelingError('Redirecting to "'+_this.serializeUrl(t.guardsResult)+'"');throw error.url=t.guardsResult,error}}),operators.tap(function(guardsEnd){guardsEnd=new GuardsCheckEnd(guardsEnd.id,_this.serializeUrl(guardsEnd.extractedUrl),_this.serializeUrl(guardsEnd.urlAfterRedirects),guardsEnd.targetSnapshot,!!guardsEnd.guardsResult);_this.triggerEvent(guardsEnd)}),operators.filter(function(t){if(t.guardsResult)return!0;_this.resetUrlToCurrentUrlTree();var navCancel=new NavigationCancel(t.id,_this.serializeUrl(t.extractedUrl),"");return eventsSubject.next(navCancel),t.resolve(!1),!1}),switchTap(function(t){if(t.guards.canActivateChecks.length)return rxjs.of(t).pipe(operators.tap(function(resolveStart){resolveStart=new ResolveStart(resolveStart.id,_this.serializeUrl(resolveStart.extractedUrl),_this.serializeUrl(resolveStart.urlAfterRedirects),resolveStart.targetSnapshot);_this.triggerEvent(resolveStart)}),resolveData(_this.paramsInheritanceStrategy,_this.ngModule.injector),operators.tap(function(resolveEnd){resolveEnd=new ResolveEnd(resolveEnd.id,_this.serializeUrl(resolveEnd.extractedUrl),_this.serializeUrl(resolveEnd.urlAfterRedirects),resolveEnd.targetSnapshot);_this.triggerEvent(resolveEnd)}))}),switchTap(function(skipLocationChange){var targetSnapshot=skipLocationChange.targetSnapshot,navigationId=skipLocationChange.id,appliedUrlTree=skipLocationChange.extractedUrl,rawUrlTree=skipLocationChange.rawUrl,replaceUrl=skipLocationChange.extras,skipLocationChange=replaceUrl.skipLocationChange,replaceUrl=replaceUrl.replaceUrl;return _this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),operators.map(function(t){var routeReuseStrategy,targetRouterState,root,targetRouterState=(routeReuseStrategy=_this.routeReuseStrategy,targetRouterState=t.targetSnapshot,root=t.currentRouterState,root=createNode(routeReuseStrategy,targetRouterState._root,root?root._root:void 0),new RouterState(root,targetRouterState));return __assign({},t,{targetRouterState:targetRouterState})}),operators.tap(function(t){_this.currentUrlTree=t.urlAfterRedirects,_this.rawUrlTree=_this.urlHandlingStrategy.merge(_this.currentUrlTree,t.rawUrl),_this.routerState=t.targetRouterState,"deferred"===_this.urlUpdateStrategy&&(t.extras.skipLocationChange||_this.setBrowserUrl(_this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),_this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=_this.rootContexts,routeReuseStrategy=_this.routeReuseStrategy,forwardEvent=function(evt){return _this.triggerEvent(evt)},operators.map(function(t){return new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t})),operators.tap({next:function(){completed=!0},complete:function(){completed=!0}}),operators.finalize(function(){var navCancel;completed||errored||(_this.resetUrlToCurrentUrlTree(),navCancel=new NavigationCancel(t.id,_this.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+_this.navigationId),eventsSubject.next(navCancel),t.resolve(!1)),_this.currentNavigation=null}),operators.catchError(function(e){if(errored=!0,(navCancel=e)&&navCancel[NAVIGATION_CANCELING_ERROR]){var navError=isUrlTree(e.url);navError||(_this.navigated=!0,_this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));navCancel=new NavigationCancel(t.id,_this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),t.resolve(!1),navError&&_this.navigateByUrl(e.url)}else{_this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);navError=new NavigationError(t.id,_this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(_this.errorHandler(e))}catch(ee){t.reject(ee)}}var navCancel;return rxjs.EMPTY}))}))},Router.prototype.resetRootComponentType=function(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType},Router.prototype.getTransition=function(){return this.transitions.value},Router.prototype.setTransition=function(t){this.transitions.next(__assign({},this.getTransition(),t))},Router.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},Router.prototype.setUpLocationChangeListener=function(){var _this=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(change){var rawUrlTree=_this.parseUrl(change.url),source="popstate"===change.type?"popstate":"hashchange",state=change.state&&change.state.navigationId?change.state:null;setTimeout(function(){_this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))},Object.defineProperty(Router.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Router.prototype.getCurrentNavigation=function(){return this.currentNavigation},Router.prototype.triggerEvent=function(event){this.events.next(event)},Router.prototype.resetConfig=function(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1},Router.prototype.ngOnDestroy=function(){this.dispose()},Router.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},Router.prototype.createUrlTree=function(commands,preserveFragment){var a=(preserveFragment=void 0===preserveFragment?{}:preserveFragment).relativeTo,queryParams=preserveFragment.queryParams,f=preserveFragment.fragment,preserveQueryParams=preserveFragment.preserveQueryParams,queryParamsHandling=preserveFragment.queryParamsHandling,preserveFragment=preserveFragment.preserveFragment;core.isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var a=a||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:f,q=null;if(queryParamsHandling)switch(queryParamsHandling){case"merge":q=__assign({},this.currentUrlTree.queryParams,queryParams);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),createUrlTree(a,this.currentUrlTree,commands,q,f)},Router.prototype.navigateByUrl=function(mergedTree,extras){void 0===extras&&(extras={skipLocationChange:!1}),core.isDevMode()&&this.isNgZoneEnabled&&!core.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");mergedTree=isUrlTree(mergedTree)?mergedTree:this.parseUrl(mergedTree),mergedTree=this.urlHandlingStrategy.merge(mergedTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)},Router.prototype.navigate=function(commands,extras){return void 0===extras&&(extras={skipLocationChange:!1}),function(commands){for(var i=0;i<commands.length;i++){var cmd=commands[i];if(null==cmd)throw new Error("The requested path contains "+cmd+" segment at index "+i)}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)},Router.prototype.serializeUrl=function(url){return this.urlSerializer.serialize(url)},Router.prototype.parseUrl=function(url){var urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree},Router.prototype.isActive=function(urlTree,exact){if(isUrlTree(urlTree))return containsTree(this.currentUrlTree,urlTree,exact);urlTree=this.parseUrl(urlTree);return containsTree(this.currentUrlTree,urlTree,exact)},Router.prototype.removeEmptyProps=function(params){return Object.keys(params).reduce(function(result,key){var value=params[key];return null!=value&&(result[key]=value),result},{})},Router.prototype.processNavigations=function(){var _this=this;this.navigations.subscribe(function(t){_this.navigated=!0,_this.lastSuccessfulId=t.id,_this.events.next(new NavigationEnd(t.id,_this.serializeUrl(t.extractedUrl),_this.serializeUrl(_this.currentUrlTree))),_this.lastSuccessfulNavigation=_this.currentNavigation,_this.currentNavigation=null,t.resolve(!0)},function(e){_this.console.warn("Unhandled Navigation Error: ")})},Router.prototype.scheduleNavigation=function(rawUrl,source,restoredState,extras){var id=this.getTransition();if(id&&"imperative"!==source&&"imperative"===id.source&&id.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(id&&"hashchange"==source&&"popstate"===id.source&&id.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(id&&"popstate"==source&&"hashchange"===id.source&&id.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);var resolve=null,reject=null,promise=new Promise(function(res,rej){resolve=res,reject=rej}),id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(function(e){return Promise.reject(e)})},Router.prototype.setBrowserUrl=function(path,replaceUrl,id,state){path=this.urlSerializer.serialize(path);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,"",__assign({},state,{navigationId:id})):this.location.go(path,"",__assign({},state,{navigationId:id}))},Router.prototype.resetStateAndUrl=function(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()},Router.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},Router}();var RouterLink=function(){function RouterLink(router,route,tabIndex,renderer,el){this.router=router,this.route=route,this.commands=[],null==tabIndex&&renderer.setAttribute(el.nativeElement,"tabindex","0")}return Object.defineProperty(RouterLink.prototype,"routerLink",{set:function(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLink.prototype,"preserveQueryParams",{set:function(value){core.isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=value},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(){var extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,extras),!0},Object.defineProperty(RouterLink.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})},enumerable:!0,configurable:!0}),__decorate([core.Input(),__metadata("design:type",Object)],RouterLink.prototype,"queryParams",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLink.prototype,"fragment",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLink.prototype,"queryParamsHandling",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLink.prototype,"preserveFragment",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLink.prototype,"skipLocationChange",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLink.prototype,"replaceUrl",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLink.prototype,"state",void 0),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RouterLink.prototype,"routerLink",null),__decorate([core.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],RouterLink.prototype,"preserveQueryParams",null),__decorate([core.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Boolean)],RouterLink.prototype,"onClick",null),__decorate([core.Directive({selector:":not(a):not(area)[routerLink]"}),__param(2,core.Attribute("tabindex")),__metadata("design:paramtypes",[Router,ActivatedRoute,String,core.Renderer2,core.ElementRef])],RouterLink)}(),RouterLinkWithHref=function(){function RouterLinkWithHref(router,route,locationStrategy){var _this=this;this.router=router,this.route=route,this.locationStrategy=locationStrategy,this.commands=[],this.subscription=router.events.subscribe(function(s){s instanceof NavigationEnd&&_this.updateTargetUrlAndHref()})}return Object.defineProperty(RouterLinkWithHref.prototype,"routerLink",{set:function(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLinkWithHref.prototype,"preserveQueryParams",{set:function(value){core.isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=value},enumerable:!0,configurable:!0}),RouterLinkWithHref.prototype.ngOnChanges=function(changes){this.updateTargetUrlAndHref()},RouterLinkWithHref.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkWithHref.prototype.onClick=function(button,ctrlKey,metaKey,extras){if(0!==button||ctrlKey||metaKey||extras)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1},RouterLinkWithHref.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(RouterLinkWithHref.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})},enumerable:!0,configurable:!0}),__decorate([core.HostBinding("attr.target"),core.Input(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"target",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLinkWithHref.prototype,"queryParams",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"fragment",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"queryParamsHandling",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLinkWithHref.prototype,"preserveFragment",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLinkWithHref.prototype,"skipLocationChange",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLinkWithHref.prototype,"replaceUrl",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLinkWithHref.prototype,"state",void 0),__decorate([core.HostBinding(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"href",void 0),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RouterLinkWithHref.prototype,"routerLink",null),__decorate([core.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],RouterLinkWithHref.prototype,"preserveQueryParams",null),__decorate([core.HostListener("click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Number,Boolean,Boolean,Boolean]),__metadata("design:returntype",Boolean)],RouterLinkWithHref.prototype,"onClick",null),__decorate([core.Directive({selector:"a[routerLink],area[routerLink]"}),__metadata("design:paramtypes",[Router,ActivatedRoute,common.LocationStrategy])],RouterLinkWithHref)}();function attrBoolValue(s){return""===s||!!s}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function PreloadingStrategy(){}var RouterLinkActive=function(){function RouterLinkActive(router,element,renderer,cdr){var _this=this;this.router=router,this.element=element,this.renderer=renderer,this.cdr=cdr,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=router.events.subscribe(function(s){s instanceof NavigationEnd&&_this.update()})}return RouterLinkActive.prototype.ngAfterContentInit=function(){var _this=this;this.links.changes.subscribe(function(_){return _this.update()}),this.linksWithHrefs.changes.subscribe(function(_){return _this.update()}),this.update()},Object.defineProperty(RouterLinkActive.prototype,"routerLinkActive",{set:function(classes){classes=Array.isArray(classes)?classes:classes.split(" ");this.classes=classes.filter(function(c){return!!c})},enumerable:!0,configurable:!0}),RouterLinkActive.prototype.ngOnChanges=function(changes){this.update()},RouterLinkActive.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkActive.prototype.update=function(){var _this=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var hasActiveLinks=_this.hasActiveLinks();_this.isActive!==hasActiveLinks&&(_this.isActive=hasActiveLinks,_this.classes.forEach(function(c){hasActiveLinks?_this.renderer.addClass(_this.element.nativeElement,c):_this.renderer.removeClass(_this.element.nativeElement,c)}))})},RouterLinkActive.prototype.isLinkActive=function(router){var _this=this;return function(link){return router.isActive(link.urlTree,_this.routerLinkActiveOptions.exact)}},RouterLinkActive.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},__decorate([core.ContentChildren(RouterLink,{descendants:!0}),__metadata("design:type",core.QueryList)],RouterLinkActive.prototype,"links",void 0),__decorate([core.ContentChildren(RouterLinkWithHref,{descendants:!0}),__metadata("design:type",core.QueryList)],RouterLinkActive.prototype,"linksWithHrefs",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLinkActive.prototype,"routerLinkActiveOptions",void 0),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RouterLinkActive.prototype,"routerLinkActive",null),__decorate([core.Directive({selector:"[routerLinkActive]",exportAs:"routerLinkActive"}),__metadata("design:paramtypes",[Router,core.ElementRef,core.Renderer2,core.ChangeDetectorRef])],RouterLinkActive)}(),OutletContext=function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null},ChildrenOutletContexts=function(){function ChildrenOutletContexts(){this.contexts=new Map}return ChildrenOutletContexts.prototype.onChildOutletCreated=function(childName,outlet){var context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)},ChildrenOutletContexts.prototype.onChildOutletDestroyed=function(context){context=this.getContext(context);context&&(context.outlet=null)},ChildrenOutletContexts.prototype.onOutletDeactivated=function(){var contexts=this.contexts;return this.contexts=new Map,contexts},ChildrenOutletContexts.prototype.onOutletReAttached=function(contexts){this.contexts=contexts},ChildrenOutletContexts.prototype.getOrCreateContext=function(childName){var context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context},ChildrenOutletContexts.prototype.getContext=function(childName){return this.contexts.get(childName)||null},ChildrenOutletContexts}(),RouterOutlet=function(){function RouterOutlet(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core.EventEmitter,this.deactivateEvents=new core.EventEmitter,this.name=name||PRIMARY_OUTLET,parentContexts.onChildOutletCreated(this.name,this)}return RouterOutlet.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},RouterOutlet.prototype.ngOnInit=function(){var context;this.activated||(context=this.parentContexts.getContext(this.name))&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))},Object.defineProperty(RouterOutlet.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),RouterOutlet.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp},RouterOutlet.prototype.attach=function(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)},RouterOutlet.prototype.deactivate=function(){var c;this.activated&&(c=this.component,this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c))},RouterOutlet.prototype.activateWith=function(activatedRoute,factory){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");var injector=(this._activatedRoute=activatedRoute)._futureSnapshot.routeConfig.component,factory=(factory=factory||this.resolver).resolveComponentFactory(injector),injector=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,injector,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},__decorate([core.Output("activate"),__metadata("design:type",Object)],RouterOutlet.prototype,"activateEvents",void 0),__decorate([core.Output("deactivate"),__metadata("design:type",Object)],RouterOutlet.prototype,"deactivateEvents",void 0),__decorate([core.Directive({selector:"router-outlet",exportAs:"outlet"}),__param(3,core.Attribute("name")),__metadata("design:paramtypes",[ChildrenOutletContexts,core.ViewContainerRef,core.ComponentFactoryResolver,String,core.ChangeDetectorRef])],RouterOutlet)}(),OutletInjector=function(){function OutletInjector(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}return OutletInjector.prototype.get=function(token,notFoundValue){return token===ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)},OutletInjector}(),OktaAuthModule=function(){function PreloadAllModules(){}return PreloadAllModules.prototype.preload=function(route,fn){return fn().pipe(operators.catchError(function(){return rxjs.of(null)}))},PreloadAllModules}(),NoPreloading=function(){function NoPreloading(){}return NoPreloading.prototype.preload=function(route,fn){return rxjs.of(null)},NoPreloading}(),RouterPreloader=function(){function RouterPreloader(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy;this.loader=new RouterConfigLoader(moduleLoader,compiler,function(r){return router.triggerEvent(new RouteConfigLoadStart(r))},function(r){return router.triggerEvent(new RouteConfigLoadEnd(r))})}return RouterPreloader.prototype.setUpPreloading=function(){var _this=this;this.subscription=this.router.events.pipe(operators.filter(function(e){return e instanceof NavigationEnd}),operators.concatMap(function(){return _this.preload()})).subscribe(function(){})},RouterPreloader.prototype.preload=function(){var ngModule=this.injector.get(core.NgModuleRef);return this.processRoutes(ngModule,this.router.config)},RouterPreloader.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterPreloader.prototype.processRoutes=function(ngModule,routes){var e_1,_a,res=[];try{for(var routes_1=__values(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){var childConfig,route=routes_1_1.value;route.loadChildren&&!route.canLoad&&route._loadedConfig?(childConfig=route._loadedConfig,res.push(this.processRoutes(childConfig.module,childConfig.routes))):route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_1)throw e_1.error}}return rxjs.from(res).pipe(operators.mergeAll(),operators.map(function(_){}))},RouterPreloader.prototype.preloadConfig=function(ngModule,route){var _this=this;return this.preloadingStrategy.preload(route,function(){return _this.loader.load(ngModule.injector,route).pipe(operators.mergeMap(function(config){return route._loadedConfig=config,_this.processRoutes(config.module,config.routes)}))})},__decorate([core.Injectable(),__metadata("design:paramtypes",[Router,core.NgModuleFactoryLoader,core.Compiler,core.Injector,PreloadingStrategy])],RouterPreloader)}(),RouterScroller=function(){function RouterScroller(router,viewportScroller,options){void 0===options&&(options={}),this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}return RouterScroller.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},RouterScroller.prototype.createScrollEvents=function(){var _this=this;return this.router.events.subscribe(function(e){e instanceof NavigationStart?(_this.store[_this.lastId]=_this.viewportScroller.getScrollPosition(),_this.lastSource=e.navigationTrigger,_this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(_this.lastId=e.id,_this.scheduleScrollEvent(e,_this.router.parseUrl(e.urlAfterRedirects).fragment))})},RouterScroller.prototype.consumeScrollEvents=function(){var _this=this;return this.router.events.subscribe(function(e){e instanceof Scroll&&(e.position?"top"===_this.options.scrollPositionRestoration?_this.viewportScroller.scrollToPosition([0,0]):"enabled"===_this.options.scrollPositionRestoration&&_this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===_this.options.anchorScrolling?_this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==_this.options.scrollPositionRestoration&&_this.viewportScroller.scrollToPosition([0,0]))})},RouterScroller.prototype.scheduleScrollEvent=function(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))},RouterScroller.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},RouterScroller}(),ROUTER_DIRECTIVES=[RouterOutlet,RouterLink,RouterLinkWithHref,RouterLinkActive,EmptyOutletComponent],ROUTER_CONFIGURATION=new core.InjectionToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new core.InjectionToken("ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[common.Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:Router,useFactory:function(ref,urlSerializer,contexts,location,injector,loader,compiler,router,opts,urlHandlingStrategy,routeReuseStrategy){void 0===opts&&(opts={});router=new Router(null,urlSerializer,contexts,location,injector,loader,compiler,flatten(router));urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy);routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy);opts.errorHandler&&(router.errorHandler=opts.errorHandler);opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler);{var dom_1;opts.enableTracing&&(dom_1=_DOM,router.events.subscribe(function(e){dom_1.logGroup("Router Event: "+e.constructor.name),dom_1.log(e.toString()),dom_1.log(e),dom_1.logGroupEnd()}))}opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation);opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy);opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy);opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution);return router},deps:[core.ApplicationRef,UrlSerializer,ChildrenOutletContexts,common.Location,core.Injector,core.NgModuleFactoryLoader,core.Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new core.Optional],[RouteReuseStrategy,new core.Optional]]},ChildrenOutletContexts,{provide:ActivatedRoute,useFactory:function(router){return router.routerState.root},deps:[Router]},{provide:core.NgModuleFactoryLoader,useClass:core.SystemJsNgModuleLoader},RouterPreloader,NoPreloading,OktaAuthModule,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function routerNgProbeToken(){return new core.NgProbeToken("Router",Router)}!function(){function RouterModule(guard,router){}var RouterModule_1=RouterModule;RouterModule.forRoot=function(routes,config){return{ngModule:RouterModule_1,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[Router,new core.Optional,new core.SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:common.LocationStrategy,useFactory:provideLocationStrategy,deps:[common.PlatformLocation,[new core.Inject(common.APP_BASE_HREF),new core.Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[Router,common.ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:NoPreloading},{provide:core.NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[RouterInitializer,{provide:core.APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[RouterInitializer]},{provide:core.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}},RouterModule.forChild=function(routes){return{ngModule:RouterModule_1,providers:[provideRoutes(routes)]}},RouterModule_1=__decorate([core.NgModule({declarations:ROUTER_DIRECTIVES,exports:ROUTER_DIRECTIVES,entryComponents:[EmptyOutletComponent]}),__param(0,core.Optional()),__param(0,core.Inject(ROUTER_FORROOT_GUARD)),__param(1,core.Optional()),__metadata("design:paramtypes",[Object,Router])],RouterModule)}();function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function provideLocationStrategy(platformLocationStrategy,baseHref,options){return new((options=void 0===options?{}:options).useHash?common.HashLocationStrategy:common.PathLocationStrategy)(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(routes){return[{provide:core.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}var RouterInitializer=function(){function RouterInitializer(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new rxjs.Subject}return RouterInitializer.prototype.appInitializer=function(){var _this=this;return this.injector.get(common.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var resolve=null,res=new Promise(function(r){return resolve=r}),router=_this.injector.get(Router),opts=_this.injector.get(ROUTER_CONFIGURATION);if(_this.isLegacyDisabled(opts)||_this.isLegacyEnabled(opts))resolve(!0);else if("disabled"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if("enabled"!==opts.initialNavigation)throw new Error("Invalid initialNavigation options: '"+opts.initialNavigation+"'");router.hooks.afterPreactivation=function(){return _this.initNavigation?rxjs.of(null):(_this.initNavigation=!0,resolve(!0),_this.resultOfPreactivationDone)},router.initialNavigation()}return res})},RouterInitializer.prototype.bootstrapListener=function(bootstrappedComponentRef){var opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(Router),ref=this.injector.get(core.ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},RouterInitializer.prototype.isLegacyEnabled=function(opts){return"legacy_enabled"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation},RouterInitializer.prototype.isLegacyDisabled=function(opts){return"legacy_disabled"===opts.initialNavigation||!1===opts.initialNavigation},__decorate([core.Injectable(),__metadata("design:paramtypes",[core.Injector])],RouterInitializer)}();function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}var ROUTER_INITIALIZER=new core.InjectionToken("Router Initializer");
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
new core.Version("7.2.16");var module,x,oktaAuthJs_umd=(function(module){self,module.exports=function(){var e={506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},100:function(e,t,n){var r=n(489),o=n(67);function i(t,n,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var i=[null];i.push.apply(i,t);i=new(Function.bind.apply(e,i));return n&&r(i,n.prototype),i},e.exports.default=e.exports,e.exports.__esModule=!0,i.apply(null,arguments)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},205:function(e,t,n){var r=n(489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},67:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},585:function(e,t,n){var r=n(8).default,o=n(506);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},8:function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},957:function(e,t,n){var r=n(754),o=n(489),i=n(430),a=n(100);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,s(t)}e.exports=s,e.exports.default=e.exports,e.exports.__esModule=!0},757:function(e,t,n){e.exports=n(666)},615:function(e,t,l){var r=l(575),o=l(913),i=l(205),a=l(585),s=l(754);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){i(c,e);var t,n,u=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=s(t);return e=n?(o=s(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),a(this,e)});function c(t){return r(this,c),(t=u.call(this,t||"Promise was canceled")).name="CancelError",t}return o(c,[{key:"isCanceled",get:function(){return!0}}]),c}(l(957)(Error)),l=function(){function e(t){var n=this;r(this,e),this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(function(e,r){n._reject=r;function o(e){if(!n._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");n._cancelHandlers.push(e)}return Object.defineProperties(o,{shouldReject:{get:function(){return n._rejectOnCancel},set:function(e){n._rejectOnCancel=e}}}),t(function(t){n._isCanceled&&o.shouldReject||(n._isPending=!1,e(t))},function(e){n._isPending=!1,r(e)},o)})}return o(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,0<this._cancelHandlers.length)try{var t,n=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this._cancelHandlers);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(e){n.e(e)}finally{n.f()}}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new c(e))}}},{key:"isCanceled",get:function(){return this._isCanceled}}],[{key:"fn",value:function(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return new e(function(e,n,o){r.push(o),t.apply(void 0,r).then(e,n)})}}}]),e}();Object.setPrototypeOf(l.prototype,Promise.prototype),e.exports=l,e.exports.CancelError=c},98:function(e,t){var n="undefined"!=typeof self?self:this,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var s,u,n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return e="string"!=typeof e?String(e):e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function v(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}a&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&-1<s.indexOf(Object.prototype.toString.call(e))}),h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},h.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(r,t){var n,o=(t=t||{}).body;if(r instanceof k){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,t.headers||(this.headers=new h(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,o||null==r._bodyInit||(o=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),-1<m.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(r){var o;r&&(r=(o=r.split("=")).shift().replace(/\+/g," "),o=o.join("=").replace(/\+/g," "),t.append(decodeURIComponent(r),decodeURIComponent(o)))}),t}function w(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},g.call(k.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];w.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(n,t){this.message=n,this.name=t;n=Error(n);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise(function(r,i){var a=new k(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,n={status:s.status,statusText:s.statusText,headers:(o=s.getAllResponseHeaders()||"",t=new h,o.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(r){var o=r.split(":"),r=o.shift().trim();r&&(o=o.join(":").trim(),t.append(r,o))}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new w(o,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=k,e.Response=w),t.Headers=h,t.Request=k,t.Response=w,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},643:function(e){e.exports=!1},666:function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},i=w.iterator||"@@iterator",a=w.asyncIterator||"@@asyncIterator",s=w.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,i,n,a){i=i&&i.prototype instanceof y?i:y,i=Object.create(i.prototype),a=new A(a||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;u=l(e,t,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function m(){}var k={};k[i]=function(){return this};w=Object.getPrototypeOf,w=w&&w(w(R([])));w&&w!==n&&r.call(w,i)&&(k=w);var T=m.prototype=y.prototype=Object.create(k);function S(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function n(u,f,a,s){u=l(e[u],e,f);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(f).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,s)})}s(u.arg)}var o;this._invoke=function(e,r){function i(){return new t(function(t,o){n(e,r,t,o)})}return o=o?o.then(i,i):i()}}function O(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}i=l(i,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;i=i.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function R(e){if(e){var a=e[i];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return((g.prototype=T.constructor=m).constructor=g).displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[a]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},S(T),u(T,s,"Generator"),T[i]=function(){return this},T.toString=function(){return"[object Generator]"},e.keys=function(e){var n,t=[];for(n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var a=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o,r=n.completion;return"throw"===r.type&&(o=r.arg,_(n)),o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=t},199:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{ACCESS_TOKEN_STORAGE_KEY:function(){return se},AuthApiError:function(){return m},AuthPollStopError:function(){return k},AuthSdkError:function(){return b},AuthStateManager:function(){return io},AuthTransaction:function(){return Ue},AuthenticatorKey:function(){return Kt},CACHE_STORAGE_NAME:function(){return te},DEFAULT_CACHE_DURATION:function(){return Q},DEFAULT_CODE_CHALLENGE_METHOD:function(){return pe},DEFAULT_MAX_CLOCK_SKEW:function(){return $},DEFAULT_POLLING_DELAY:function(){return z},EVENT_ADDED:function(){return Xn},EVENT_ERROR:function(){return er},EVENT_EXPIRED:function(){return Qn},EVENT_REMOVED:function(){return Zn},EVENT_RENEWED:function(){return Yn},IDX_API_VERSION:function(){return de},IDX_RESPONSE_STORAGE_NAME:function(){return ae},ID_TOKEN_STORAGE_KEY:function(){return ue},INITIAL_AUTH_STATE:function(){return no},IdxFeature:function(){return qt},IdxStatus:function(){return Ht},MAX_VERIFIER_LENGTH:function(){return he},MIN_VERIFIER_LENGTH:function(){return fe},OAuthError:function(){return w},ORIGINAL_URI_STORAGE_NAME:function(){return ie},OktaAuth:function(){return os},PKCE_STORAGE_NAME:function(){return ne},REDIRECT_NONCE_COOKIE_NAME:function(){return Z},REDIRECT_OAUTH_PARAMS_NAME:function(){return Y},REDIRECT_STATE_COOKIE_NAME:function(){return X},REFERRER_PATH_STORAGE_KEY:function(){return le},REFRESH_TOKEN_STORAGE_KEY:function(){return ce},SHARED_TRANSACTION_STORAGE_NAME:function(){return oe},STATE_TOKEN_KEY_NAME:function(){return J},StorageManager:function(){return uo},TOKEN_STORAGE_NAME:function(){return ee},TRANSACTION_STORAGE_NAME:function(){return re},TokenManager:function(){return tr},addListener:function(){return at},addPostMessageListener:function(){return lt},addStateToken:function(){return Re},assertPKCESupport:function(){return Wt},authenticate:function(){return Ca},bind:function(){return U},buildAuthorizeParams:function(){return Xe},canProceed:function(){return Fa},cancel:function(){return ja},clearTransactionMeta:function(){return mi},clone:function(){return L},convertTokenParamsToOAuthParams:function(){return Ye},createOAuthMeta:function(){return Bt},createTransactionMeta:function(){return pi},crypto:function(){return e},decodeToken:function(){return fn},delay:function(){return Ie},deprecate:function(){return qn},deprecateWrap:function(){return Vn},exchangeCodeForTokens:function(){return pn},extend:function(){return D},find:function(){return B},genRandomString:function(){return je},generateNonce:function(){return ht},generateState:function(){return ft},getConsole:function(){return Hn},getDefaultTokenParams:function(){return At},getHashOrSearch:function(){return Nt},getKey:function(){return it},getLink:function(){return H},getNativeConsole:function(){return Bn},getOAuthBaseUrl:function(){return dt},getOAuthDomain:function(){return vt},getOAuthUrls:function(){return yt},getPollFn:function(){return Me},getSavedTransactionMeta:function(){return vi},getStateToken:function(){return Pe},getToken:function(){return gn},getTransactionMeta:function(){return yi},getUserInfo:function(){return xn},getWellKnown:function(){return ot},getWithPopup:function(){return On},getWithRedirect:function(){return _n},getWithoutPrompt:function(){return mn},handleEmailVerifyCallback:function(){return Na},handleInteractionCodeRedirect:function(){return $a},handleOAuthResponse:function(){return yn},hasAuthorizationCode:function(){return jt},hasErrorInUrl:function(){return Mt},hasInteractionCode:function(){return It},hasSavedInteractionHandle:function(){return di},hasTokensInHash:function(){return Ct},interact:function(){return xi},introspect:function(){return Ei},introspectAuthn:function(){return Be},isAbsoluteUrl:function(){return we},isAccessToken:function(){return sn},isAuthApiError:function(){return T},isAuthorizationCodeError:function(){return Pt},isCodeFlow:function(){return Dt},isCustomAuthTransactionMeta:function(){return rn},isEmailVerifyCallback:function(){return Ua},isEmailVerifyCallbackError:function(){return Ma},isFunction:function(){return ke},isIDToken:function(){return un},isIdxTransactionMeta:function(){return nn},isInteractionRequired:function(){return Ft},isInteractionRequiredError:function(){return Rt},isLoginRedirect:function(){return Lt},isNumber:function(){return me},isOAuthTransactionMeta:function(){return en},isObject:function(){return ge},isPKCETransactionMeta:function(){return tn},isPromise:function(){return be},isRedirectUri:function(){return Ut},isRefreshToken:function(){return cn},isRefreshTokenError:function(){return Qt},isSameRefreshToken:function(){return $t},isString:function(){return ye},isToken:function(){return an},isTransactionMeta:function(){return on},isTransactionMetaValid:function(){return ki},isTransactionMetaValidForFlow:function(){return bi},isTransactionMetaValidForOptions:function(){return wi},isoToUTCString:function(){return Ce},loadFrame:function(){return ut},loadPopup:function(){return ct},omit:function(){return F},parseEmailVerifyCallback:function(){return Da},parseFromUrl:function(){return Cn},pkce:function(){return We},poll:function(){return Ka},postRefreshToken:function(){return rt},postToTokenEndpoint:function(){return nt},postToTransaction:function(){return qe},preparePKCE:function(){return Jt},prepareTokenParams:function(){return zt},proceed:function(){return Ba},recoverPassword:function(){return za},register:function(){return Ga},removeListener:function(){return st},removeNils:function(){return N},removeTrailingSlash:function(){return Oe},renewToken:function(){return Tn},renewTokens:function(){return Sn},renewTokensWithRefresh:function(){return kn},resumeTransaction:function(){return Fe},revokeToken:function(){return hn},saveTransactionMeta:function(){return gi},startTransaction:function(){return Va},toAbsoluteUrl:function(){return Te},toQueryString:function(){return xe},toRelativeUrl:function(){return Se},transactionExists:function(){return Ke},transactionStatus:function(){return Le},transactionStep:function(){return He},unlockAccount:function(){return Ya},urlParamsToObject:function(){return Yt},validateClaims:function(){return Xt},validateCodeChallengeMethod:function(){return Gt},validateToken:function(){return ln},verifyToken:function(){return dn},warn:function(){return Kn}});var e={};n.r(e),n.d(e,{atob:function(){return S},base64ToBase64Url:function(){return _},base64UrlDecode:function(){return C},base64UrlToBase64:function(){return A},base64UrlToBuffer:function(){return j},base64UrlToString:function(){return R},btoa:function(){return x},bufferToBase64Url:function(){return I},getOidcHash:function(){return M},stringToBase64Url:function(){return E},stringToBuffer:function(){return P},verifyToken:function(){return K},webcrypto:function(){return O}});var t={};n.r(t),n.d(t,{ACCESS_TOKEN_STORAGE_KEY:function(){return se},CACHE_STORAGE_NAME:function(){return te},DEFAULT_CACHE_DURATION:function(){return Q},DEFAULT_CODE_CHALLENGE_METHOD:function(){return pe},DEFAULT_MAX_CLOCK_SKEW:function(){return $},DEFAULT_POLLING_DELAY:function(){return z},IDX_API_VERSION:function(){return de},IDX_RESPONSE_STORAGE_NAME:function(){return ae},ID_TOKEN_STORAGE_KEY:function(){return ue},MAX_VERIFIER_LENGTH:function(){return he},MIN_VERIFIER_LENGTH:function(){return fe},ORIGINAL_URI_STORAGE_NAME:function(){return ie},PKCE_STORAGE_NAME:function(){return ne},REDIRECT_NONCE_COOKIE_NAME:function(){return Z},REDIRECT_OAUTH_PARAMS_NAME:function(){return Y},REDIRECT_STATE_COOKIE_NAME:function(){return X},REFERRER_PATH_STORAGE_KEY:function(){return le},REFRESH_TOKEN_STORAGE_KEY:function(){return ce},SHARED_TRANSACTION_STORAGE_NAME:function(){return oe},STATE_TOKEN_KEY_NAME:function(){return J},TOKEN_STORAGE_NAME:function(){return ee},TRANSACTION_STORAGE_NAME:function(){return re}});var o={};n.r(o),n.d(o,{getUserAgent:function(){return bt},hasTextEncoder:function(){return xt},isBrowser:function(){return mt},isFingerprintSupported:function(){return wt},isHTTPS:function(){return Et},isIE11OrLess:function(){return kt},isLocalhost:function(){return _t},isPKCESupported:function(){return Ot},isPopupPostMessageSupported:function(){return Tt},isTokenVerifySupported:function(){return St}});var i={};n.r(i),n.d(i,{buildCredentialCreationOptions:function(){return In},buildCredentialRequestOptions:function(){return Mn},getAssertion:function(){return Dn},getAttestation:function(){return Un}});var a={};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(v=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);o=new(Function.bind.apply(e,o));return n&&u(o,n.prototype),o}).apply(null,arguments)}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return v(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}n.r(a),n.d(a,{AuthenticatorEnrollmentData:function(){return ua},AuthenticatorVerificationData:function(){return sa},ChallengeAuthenticator:function(){return Ji},ChallengePoll:function(){return zi},EnrollAuthenticator:function(){return Ki},EnrollPoll:function(){return Vi},EnrollProfile:function(){return Qi},EnrollmentChannelData:function(){return Gi},Identify:function(){return Yi},ReEnrollAuthenticator:function(){return Xi},RedirectIdp:function(){return Zi},Remediator:function(){return Pi},ResetAuthenticator:function(){return $i},SelectAuthenticatorAuthenticate:function(){return na},SelectAuthenticatorEnroll:function(){return ra},SelectAuthenticatorUnlockAccount:function(){return oa},SelectEnrollProfile:function(){return ia},SelectEnrollmentChannel:function(){return Wi},Skip:function(){return ca}});var g=function(){c(o,y(Error));var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(t){return s(this,o),t=r.call(this,t),Object.setPrototypeOf(f(t),(this instanceof o?this.constructor:void 0).prototype),t}return o}(),m=function(){c(o,g);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e,t){s(this,o);var n=e.errorSummary;return(n=r.call(this,n)).name="AuthApiError",n.errorSummary=e.errorSummary,n.errorCode=e.errorCode,n.errorLink=e.errorLink,n.errorId=e.errorId,n.errorCauses=e.errorCauses,t&&(n.xhr=t),n}return o}(),k=function(){c(o,g);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.call(this,"The poll was stopped by the sdk")}return o}(),b=function(){c(o,g);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e,t){var n;return s(this,o),(n=r.call(this,e)).name="AuthSdkError",n.errorCode="INTERNAL",n.errorSummary=e,n.errorLink="INTERNAL",n.errorId="INTERNAL",n.errorCauses=[],t&&(n.xhr=t),n}return o}(),w=function(){c(o,g);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e,t){var n;return s(this,o),(n=r.call(this,t)).name="OAuthError",n.errorCode=e,n.errorSummary=t,n}return o}();function T(e){return e instanceof m}var S=function(e){return atob(e)},x=function(e){return btoa(e)},O="undefined"==typeof crypto?null:crypto;function E(e){return _(x(e))}function _(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function A(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function R(e){var t=A(e);switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new b("Not a valid Base64Url")}var n=S(t);try{return decodeURIComponent(escape(n))}catch(e){return n}}function P(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function C(e){return S(A(e))}function j(e){return Uint8Array.from(C(e),function(e){return e.charCodeAt(0)})}function I(e){return x(new Uint8Array(e).reduce(function(e,t){return e+String.fromCharCode(t)},""))}function M(t){t=(new TextEncoder).encode(t);return O.subtle.digest("SHA-256",t).then(function(t){t=new Uint8Array(t).slice(0,16);return E(String.fromCharCode.apply(null,t))})}function U(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments),r=n.concat(r);return e.apply(t,r)}}function D(){var e=arguments[0];return[].slice.call(arguments,1).forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&(e[n]=t[n])}),e}function N(e){var n,r,t={};for(n in e)!Object.prototype.hasOwnProperty.call(e,n)||null!=(r=e[n])&&(t[n]=r);return t}function L(e){if(e){var t=JSON.stringify(e);if(t)return JSON.parse(t)}return e}function F(e){for(var i,t={},n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1==r.indexOf(i)&&(t[i]=e[i]);return L(t)}function B(e,t){for(var n=e.length;n--;){var i,r=e[n],o=!0;for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r[i]!==t[i]){o=!1;break}if(o)return r}}function H(e,r,n){if(e&&e._links){r=L(e._links[r]);return!(r&&r.name&&n)||r.name===n?r:void 0}}function K(e,t){t=L(t);var n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};return delete t.use,O.subtle.importKey("jwk",t,n,!0,["verify"]).then(function(t){var i=e.split("."),o=P(i[0]+"."+i[1]),i=P(C(i[2]));return O.subtle.verify(n,t,i,o)})}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),e}var xr=n(757),G=n.n(xr),J="oktaStateToken",z=500,$=300,Q=86400,Y="okta-oauth-redirect-params",X="okta-oauth-state",Z="okta-oauth-nonce",ee="okta-token-storage",te="okta-cache-storage",ne="okta-pkce-storage",re="okta-transaction-storage",oe="okta-shared-transaction-storage",ie="okta-original-uri-storage",ae="okta-idx-response-storage",se="accessToken",ue="idToken",ce="refreshToken",le="referrerPath",fe=43,he=128,pe="S256",de="1.0.0";function ye(e){return"[object String]"===Object.prototype.toString.call(e)}function ge(e){return"[object Object]"===Object.prototype.toString.call(e)}function me(e){return"[object Number]"===Object.prototype.toString.call(e)}function ke(e){return!!e&&"[object Function]"==={}.toString.call(e)}function be(e){return e&&e.finally&&"function"==typeof e.finally}function we(e){return/^(?:[a-z]+:)?\/\//i.test(e)}function Te(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return we(e)?e:(t=Oe(t),("/"===e[0]?"".concat(t):"".concat(t,"/")).concat(e))}function Se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return"/"===(e=we(e)?e.substring(t.length):e)[0]?e:"/".concat(e)}function xe(e){var t=[];if(null!==e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.length?"?"+t.join("&"):""}function Oe(e){if(e)return e.replace(/^\s+|\s+$/gm,"").replace(/\/+$/,"")}function Ee(e,t){var n=(t=t||{}).url,r=t.method,o=t.args,i=t.saveAuthnState,a=t.accessToken,s=!0===t.withCredentials,u=e.options.storageUtil.storage,c=e.storageManager.getHttpCache(e.options.cookies);if(t.cacheResponse){var p=c.getStorage()[n];if(p&&Date.now()/1e3<p.expiresAt)return Promise.resolve(p.response)}var d,v,p=e._oktaUserAgent.getHttpHeader(),p=Object.assign({Accept:"application/json","Content-Type":"application/json"},p);return Object.assign(p,e.options.headers,t.headers),p=N(p),a&&ye(a)&&(p.Authorization="Bearer "+a),e.options.httpRequestClient(r,n,{headers:p,data:o||void 0,withCredentials:s}).then(function(r){return(v=r.responseText)&&ye(v)&&(v=JSON.parse(v))&&"object"===l(v)&&!v.headers&&(v.headers=r.headers),i&&(v.stateToken||u.delete(J)),v&&v.stateToken&&v.expiresAt&&u.set(J,v.stateToken,v.expiresAt,e.options.cookies),v&&t.cacheResponse&&c.updateStorage(n,{expiresAt:Math.floor(Date.now()/1e3)+Q,response:v}),v}).catch(function(t){var n=t.responseText||{};if(ye(n))try{n=JSON.parse(n)}catch(e){n={errorSummary:"Unknown error"}}throw 500<=t.status&&(n.errorSummary="Unknown error"),e.options.transformErrorXHR&&(t=e.options.transformErrorXHR(L(t))),"E0000011"===(d=new m(n,t)).errorCode&&u.delete(J),d})}function _e(e,r,n){r={url:r=we(r)?r:e.getIssuerOrigin()+r,method:"GET"};return Object.assign(r,n),Ee(e,r)}function Ae(e,t,o,r){o={url:t=we(t)?t:e.getIssuerOrigin()+t,method:"POST",args:o,saveAuthnState:!0};return Object.assign(o,r),Ee(e,o)}function Re(e,t){var n={};return Object.assign(n,t),!n.stateToken&&e.stateToken&&(n.stateToken=e.stateToken),n}function Pe(e){return Re(e)}function Ce(n){n=n.match(/\d+/g),n=Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]);return new Date(n).toUTCString()}function je(e){for(var t="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,o=t.length;r<e;++r)n+=t[Math.floor(Math.random()*o)];return n}function Ie(e){return new Promise(function(t){setTimeout(t,e)})}function Me(e,t,n){return function(r){var o,i,a,s;me(r)?o=r:ge(r)&&(o=r.delay,i=r.rememberDevice,a=r.autoPush,s=r.transactionCallBack),o||0===o||(o=z);var u=H(t,"next","poll");n.isPolling=!0;var c=0;return function r(){return n.isPolling?function(){var r={};if("function"==typeof a)try{r.autoPush=!!a()}catch(e){return Promise.reject(new b("AutoPush resulted in an error."))}else null!=a&&(r.autoPush=!!a);if("function"==typeof i)try{r.rememberDevice=!!i()}catch(e){return Promise.reject(new b("RememberDevice resulted in an error."))}else null!=i&&(r.rememberDevice=!!i);r=u.href+xe(r);return Ae(e,r,Pe(t),{saveAuthnState:!1,withCredentials:!0})}().then(function(t){if(c=0,t.factorResult&&"WAITING"===t.factorResult){if(!n.isPolling)throw new k;return"function"==typeof s&&s(t),Ie(o).then(r)}return n.isPolling=!1,new Ue(e,t)}).catch(function(e){if(e.xhr&&(0===e.xhr.status||429===e.xhr.status)&&c<=4){var t=1e3*Math.pow(2,c);return c++,Ie(t).then(r)}throw e}):Promise.reject(new k)}().catch(function(e){throw n.isPolling=!1,e})}}var Ue=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;s(this,e),this.data=void 0,this.status=void 0,n&&(this.data=n,this.data.interactionHandle?this.status=n.status:(Object.assign(this,function Ne(e,t,n,r){if(n=L(n=n||t),Array.isArray(n)){for(var o=[],i=0,a=n.length;i<a;i++)o.push(Ne(e,t,n[i],r));return o}var s=n._embedded||{};for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(ge(s[u])||Array.isArray(s[u]))&&(s[u]=Ne(e,t,s[u],r));var c=function(e,t,n,r){var i,s,o={};for(i in n._links)Object.prototype.hasOwnProperty.call(n._links,i)&&(s=n._links[i],"next"===i&&(i=s.name),s.type?o[i]=s:"poll"===i?o.poll=Me(e,t,r):(s=De(e,t,n,s,r))&&(o[i]=s));return o}(e,t,n,r);return Object.assign(s,c),n=F(n,"_embedded","_links"),Object.assign(n,s),n}(t,n,n,{})),delete this.stateToken,"RECOVERY_CHALLENGE"!==n.status||n._links||(this.cancel=function(){return Promise.resolve(new e(t))})))};function De(e,t,n,r,o){if(Array.isArray(r))return function(s,a){if(!s)throw new b("Must provide a link name");s=B(r,{name:s});if(!s)throw new b("No link found for that name");return De(e,t,n,s,o)(a)};if(r.hints&&r.hints.allow&&1===r.hints.allow.length)switch(r.hints.allow[0]){case"GET":return function(){return _e(e,r.href,{withCredentials:!0})};case"POST":return function(c){o&&o.isPolling&&(o.isPolling=!1);var a=Re(t,c);"MFA_ENROLL"!==t.status&&"FACTOR_ENROLL"!==t.status||Object.assign(a,{factorType:n.factorType,provider:n.provider});var l={},c=a.autoPush;if(void 0!==c){if("function"==typeof c)try{l.autoPush=!!c()}catch(e){return Promise.reject(new b("AutoPush resulted in an error."))}else null!==c&&(l.autoPush=!!c);a=F(a,"autoPush")}c=a.rememberDevice;if(void 0!==c){if("function"==typeof c)try{l.rememberDevice=!!c()}catch(e){return Promise.reject(new b("RememberDevice resulted in an error."))}else null!==c&&(l.rememberDevice=!!c);a=F(a,"rememberDevice")}else a.profile&&void 0!==a.profile.updatePhone&&(a.profile.updatePhone&&(l.updatePhone=!0),a.profile=F(a.profile,"updatePhone"));l=r.href+xe(l);return qe(e,l,a)}}}function Le(e,t){return t=Re(e,t),Ae(e,e.getIssuerOrigin()+"/api/v1/authn",t,{withCredentials:!0})}function Fe(e,t){if(!t||!t.stateToken){var n=e.tx.exists._get(J);if(!n)return Promise.reject(new b("No transaction to resume"));t={stateToken:n}}return e.tx.status(t).then(function(t){return new Ue(e,t)})}function Be(e,t){if(!t||!t.stateToken){var n=e.tx.exists._get(J);if(!n)return Promise.reject(new b("No transaction to evaluate"));t={stateToken:n}}return He(e,t).then(function(t){return new Ue(e,t)})}function He(e,t){return t=Re(e,t),Ae(e,e.getIssuerOrigin()+"/api/v1/authn/introspect",t,{withCredentials:!0})}function Ke(e){return!!e.tx.exists._get(J)}function qe(e,t,n,r){return r=Object.assign({withCredentials:!0},r),Ae(e,t,n,r).then(function(t){return new Ue(e,t)})}function Ve(e){return("0"+e.toString(16)).substr(-2)}var We={DEFAULT_CODE_CHALLENGE_METHOD:pe,generateVerifier:function(t){t=t||"";return t.length<fe&&(t+=function(e){var t=new Uint8Array(Math.ceil(e/2));return O.getRandomValues(t),Array.from(t,Ve).join("").slice(0,e)}(fe-t.length)),encodeURIComponent(t).slice(0,he)},computeChallenge:function(t){t=(new TextEncoder).encode(t);return O.subtle.digest("SHA-256",t).then(function(e){return E(String.fromCharCode.apply(null,new Uint8Array(e)))})}};function Ye(e){if(!e.clientId)throw new b("A clientId must be specified in the OktaAuth constructor to get a token");if(ye(e.responseType)&&-1!==e.responseType.indexOf(" "))throw new b("Multiple OAuth responseTypes must be defined as an array");var t=N(t={client_id:e.clientId,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod,display:e.display,idp:e.idp,idp_scope:e.idpScope,login_hint:e.loginHint,max_age:e.maxAge,nonce:e.nonce,prompt:e.prompt,redirect_uri:e.redirectUri,response_mode:e.responseMode,response_type:e.responseType,sessionToken:e.sessionToken,state:e.state});if(["idp_scope","response_type"].forEach(function(e){Array.isArray(t[e])&&(t[e]=t[e].join(" "))}),-1!==e.responseType.indexOf("id_token")&&-1===e.scopes.indexOf("openid"))throw new b("openid scope must be specified in the scopes argument when requesting an id_token");return t.scope=e.scopes.join(" "),t}function Xe(e){var t=Ye(e);return xe(Object.assign(Object.assign({},t),e.extraParams&&Object.assign({},e.extraParams)))}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,r,n){!function(e){if(!e.clientId)throw new b("A clientId must be specified in the OktaAuth constructor to get a token");if(!e.redirectUri)throw new b("The redirectUri passed to /authorize must also be passed to /token");if(!e.authorizationCode&&!e.interactionCode)throw new b("An authorization code (returned from /authorize) must be passed to /token");if(!e.codeVerifier)throw new b('The "codeVerifier" (generated and saved by your app) must be passed to /token')}(r);r=function(r,t){var n=N({client_id:t.clientId,redirect_uri:t.redirectUri,grant_type:t.interactionCode?"interaction_code":"authorization_code",code_verifier:t.codeVerifier});t.interactionCode?n.interaction_code=t.interactionCode:t.authorizationCode&&(n.code=t.authorizationCode);r=r.options.clientSecret;return r&&(n.client_secret=r),xe(n).slice(1)}(e,r);return Ee(e,{url:n.tokenUrl,method:"POST",args:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function rt(e,t,n){return Ee(e,{url:n.tokenUrl,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},args:Object.entries({client_id:t.clientId,grant_type:"refresh_token",scope:n.scopes.join(" "),refresh_token:n.refreshToken}).map(function(n){var r=tt(n,2),n=r[0],r=r[1];return n+"="+encodeURIComponent(r)}).join("&")})}function ot(e,t){return _e(e,(t||e.options.issuer)+"/.well-known/openid-configuration",{cacheResponse:!0})}function it(e,t,n){var r=e.storageManager.getHttpCache(e.options.cookies);return ot(e,t).then(function(a){var o=a.jwks_uri,a=r.getStorage()[o];if(a&&Date.now()/1e3<a.expiresAt){a=B(a.response.keys,{kid:n});if(a)return a}return r.clearStorage(o),_e(e,o,{cacheResponse:!0}).then(function(t){t=B(t.keys,{kid:n});if(t)return t;throw new b("The key id, "+n+", was not found in the server's keys")})})}function at(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function st(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function ut(e){var t=document.createElement("iframe");return t.style.display="none",t.src=e,document.body.appendChild(t)}function ct(e,n){n=n.popupTitle||"External Identity Provider User Authentication";return window.open(e,n,"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600")}function lt(e,t,n){var r,o;return new Promise(function(i,a){r=function(t){if(t.data&&t.data.state===n)return t.origin!==e.getIssuerOrigin()?a(new b("The request does not match client configuration")):void i(t.data)},at(window,"message",r),o=setTimeout(function(){a(new b("OAuth flow timed out"))},t||12e4)}).finally(function(){clearTimeout(o),st(window,"message",r)})}function ft(){return je(64)}function ht(){return je(64)}function pt(e,argument_1){return Oe((1<arguments.length&&void 0!==argument_1?argument_1:{}).issuer)||e.options.issuer}function dt(n){n=pt(n,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return 0<n.indexOf("/oauth2")?n:n+"/oauth2"}function vt(e){return pt(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).split("/oauth2")[0]}function yt(e,u){if(2<arguments.length)throw new b('As of version 3.0, "getOAuthUrls" takes only a single set of options');var n=Oe((u=u||{}).authorizeUrl)||e.options.authorizeUrl,r=pt(e,u),o=Oe(u.userinfoUrl)||e.options.userinfoUrl,i=Oe(u.tokenUrl)||e.options.tokenUrl,a=Oe(u.logoutUrl)||e.options.logoutUrl,s=Oe(u.revokeUrl)||e.options.revokeUrl,u=dt(e,u);return{issuer:r,authorizeUrl:n||u+"/v1/authorize",userinfoUrl:o||u+"/v1/userinfo",tokenUrl:i||u+"/v1/token",revokeUrl:s||u+"/v1/revoke",logoutUrl:a||u+"/v1/logout"}}var gt=/windows phone|iemobile|wpdesktop/i;function mt(){return"undefined"!=typeof document&&"undefined"!=typeof window}function kt(){if(!mt())return!1;var e=document.documentMode;return!!e&&e<=11}function bt(){return navigator.userAgent}function wt(){var e=bt();return e&&!gt.test(e)}function Tt(){if(!mt())return!1;var e=document.documentMode;return void 0!==window.postMessage&&!(e&&e<10)}function St(){return null!=O&&void 0!==O.subtle&&"undefined"!=typeof Uint8Array}function xt(){return"undefined"!=typeof TextEncoder}function Ot(){return St()&&xt()}function Et(){return!!mt()&&"https:"===window.location.protocol}function _t(){return mt()&&"localhost"===window.location.hostname}function At(c){var l=c.options,n=l.pkce,r=l.clientId,o=l.redirectUri,i=l.responseType,a=l.responseMode,s=l.scopes,u=l.state,c=l.ignoreSignature,l=mt()?window.location.href:void 0;return N({pkce:n,clientId:r,redirectUri:o||l,responseType:i||["token","id_token"],responseMode:a,state:u||ft(),nonce:ht(),scopes:s||["openid","email"],ignoreSignature:c})}function Rt(e){return"OAuthError"===e.name&&"interaction_required"===e.errorCode}function Pt(e,r){if("AuthApiError"!==r.name)return!1;r=r.xhr,r=null==r?void 0:r.responseJSON;return e.options.pkce&&"invalid_grant"===(null==r?void 0:r.error)}function Ct(e){return/((id|access)_token=)/i.test(e)}function jt(e){return/(code=)/i.test(e)}function It(e){return/(interaction_code=)/i.test(e)}function Mt(e){return/(error=)/i.test(e)||/(error_description)/i.test(e)}function Ut(e,n){n=n.options;return!(!e||!n.redirectUri)&&0===e.indexOf(n.redirectUri)}function Dt(e){return e.pkce||"code"===e.responseType||"query"===e.responseMode}function Nt(e){return Dt(e)&&"fragment"!==e.responseMode?window.location.search:window.location.hash}function Lt(n){if(!Ut(window.location.href,n))return!1;var t=Dt(n.options),n=Nt(n.options);return!!Mt(n)||(t?jt(n)||It(n):Ct(window.location.hash))}function Ft(e,t){if(!t){if(!Lt(e))return!1;t=Nt(e.options)}return/(error=interaction_required)/i.test(t)}function Bt(n,t){n={issuer:n.options.issuer,urls:yt(n,t),clientId:t.clientId,redirectUri:t.redirectUri,responseType:t.responseType,responseMode:t.responseMode,scopes:t.scopes,state:t.state,nonce:t.nonce,ignoreSignature:t.ignoreSignature};return!1===t.pkce?n:Object.assign(Object.assign({},n),{codeVerifier:t.codeVerifier,codeChallengeMethod:t.codeChallengeMethod,codeChallenge:t.codeChallenge})}var Ht,Kt,qt,Vt=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Wt(e){if(!e.features.isPKCESupported()){var t="PKCE requires a modern browser with encryption support running in a secure context.";throw e.features.isHTTPS()||(t+="\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol."),e.features.hasTextEncoder()||(t+='\n"TextEncoder" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.'),new b(t)}}function Gt(e,t){return Vt(this,void 0,void 0,G().mark(function n(){return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=t||e.options.codeChallengeMethod||pe,n.next=3,ot(e);case 3:if(-1===(n.sent.code_challenge_methods_supported||[]).indexOf(t))throw new b("Invalid code_challenge_method");n.next=7;break;case 7:return n.abrupt("return",t);case 8:case"end":return n.stop()}},n)}))}function Jt(e,t){return Vt(this,void 0,void 0,G().mark(function n(){var o,i,a;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.codeVerifier,i=t.codeChallenge,a=t.codeChallengeMethod,i=i||e.options.codeChallenge){n.next=8;break}return Wt(e),o=o||We.generateVerifier(),n.next=7,We.computeChallenge(o);case 7:i=n.sent;case 8:return n.next=10,Gt(e,a);case 10:return a=n.sent,t=Object.assign(Object.assign({},t),{responseType:"code",codeVerifier:o,codeChallenge:i,codeChallengeMethod:a}),n.abrupt("return",t);case 13:case"end":return n.stop()}},n)}))}function zt(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Vt(this,void 0,void 0,G().mark(function n(){var r;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=At(e),!1===(t=Object.assign(Object.assign({},r),t)).pkce)return n.abrupt("return",t);n.next=4;break;case 4:return n.abrupt("return",Jt(e,t));case 5:case"end":return n.stop()}},n)}))}function $t(e,t){return e.refreshToken===t.refreshToken}function Qt(e){return!(!T(e)||!e.xhr||!e.xhr.responseJSON||"invalid_grant"!==e.xhr.responseJSON.error)}function Yt(e){var t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=e||"";"#"!==(r="#"===r.charAt(0)&&"/"===r.charAt(1)?r.substring(2):r).charAt(0)&&"?"!==r.charAt(0)||(r=r.substring(1));for(var i={};s=n.exec(r);){var a=s[1],s=s[2];i[a]="id_token"===a||"access_token"===a||"code"===a?s:decodeURIComponent(s.replace(t," "))}return i}function Xt(e,t,a){var r=a.clientId,o=a.issuer,a=a.nonce;if(!t||!o||!r)throw new b("The jwt, iss, and aud arguments are all required");if(a&&t.nonce!==a)throw new b("OAuth flow response nonce doesn't match request nonce");a=Math.floor(Date.now()/1e3);if(t.iss!==o)throw new b("The issuer ["+t.iss+"] does not match ["+o+"]");if(t.aud!==r)throw new b("The audience ["+t.aud+"] does not match ["+r+"]");if(t.iat>t.exp)throw new b("The JWT expired before it was issued");if(!e.options.ignoreLifetime){if(a-e.options.maxClockSkew>t.exp)throw new b("The JWT expired and is no longer valid");if(t.iat>a+e.options.maxClockSkew)throw new b("The JWT was issued in the future")}}function Zt(e){return e&&"object"===l(e)&&0!==Object.values(e).length}function en(e){return!(!Zt(e)||!e.redirectUri&&!e.responseType)}function tn(e){return!!en(e)&&!!e.codeVerifier}function nn(e){return!!tn(e)&&!!e.interactionHandle}function rn(e){return!!Zt(e)&&void 0===Object.values(e).find(function(e){return"string"!=typeof e})}function on(e){return!(!en(e)&&!rn(e))}function an(e){return!!(e&&(e.accessToken||e.idToken||e.refreshToken)&&Array.isArray(e.scopes))}function sn(e){return e&&e.accessToken}function un(e){return e&&e.idToken}function cn(e){return e&&e.refreshToken}function ln(e,t){if(!un(e)&&!sn(e)&&!cn(e))throw new b("Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property");if("accessToken"===t&&!sn(e))throw new b("invalid accessToken");if("idToken"===t&&!un(e))throw new b("invalid idToken");if("refreshToken"===t&&!cn(e))throw new b("invalid refreshToken")}function fn(e){var t,n=e.split(".");try{t={header:JSON.parse(R(n[0])),payload:JSON.parse(R(n[1])),signature:n[2]}}catch(e){throw new b("Malformed token")}return t}function hn(e,t){return n=this,o=void 0,i=G().mark(function n(){var r,o,i,a,s,u,c;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r="",t&&(r=t.accessToken,o=t.refreshToken),r||o){n.next=5;break}throw new b("A valid access or refresh token object is required");case 5:if(i=e.options.clientId,a=e.options.clientSecret,i){n.next=9;break}throw new b("A clientId must be specified in the OktaAuth constructor to revoke a token");case 9:return s=yt(e).revokeUrl,u=xe({token_type_hint:o?"refresh_token":"access_token",token:o||r}).slice(1),c=x(a?"".concat(i,":").concat(a):i),n.abrupt("return",Ae(e,s,u,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+c}}));case 13:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}function pn(e,t,n){n=n||yt(e,t);t=Object.assign({},At(e),L(t));var o=t.authorizationCode,i=t.interactionCode,a=t.codeVerifier,s=t.clientId,u=t.redirectUri,c=t.scopes,l=t.ignoreSignature,f=t.state;return nt(e,{clientId:s,redirectUri:u,authorizationCode:o,interactionCode:i,codeVerifier:a},n).then(function(t){var r=["token"];return-1!==c.indexOf("openid")&&r.push("id_token"),yn(e,{clientId:s,redirectUri:u,scopes:c,responseType:r,ignoreSignature:l},t,n).then(function(e){return e.code=o,e.state=f,e})}).finally(function(){e.transactionManager.clear()})}function dn(e,t,n){return r=this,i=void 0,a=G().mark(function r(){var o,i,c;return G().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&t.idToken){r.next=2;break}throw new b("Only idTokens may be verified");case 2:return o=fn(t.idToken),i=(null==n?void 0:n.issuer)||e.options.issuer,r.next=6,ot(e,i);case 6:if(c=r.sent,c=c.issuer,c=Object.assign({clientId:e.options.clientId,ignoreSignature:e.options.ignoreSignature},n,{issuer:c}),Xt(e,o.payload,c),1!=c.ignoreSignature&&e.features.isTokenVerifySupported()){r.next=12;break}return r.abrupt("return",t);case 12:return r.next=14,it(e,t.issuer,o.header.kid);case 14:return c=r.sent,r.next=17,K(t.idToken,c);case 17:if(r.sent){r.next=20;break}throw new b("The token signature is not valid");case 20:if(n&&n.accessToken&&t.claims.at_hash)return r.next=23,M(n.accessToken);r.next=26;break;case 23:if(r.sent!==t.claims.at_hash)throw new b("Token hash verification failed");r.next=26;break;case 26:return r.abrupt("return",t);case 27:case"end":return r.stop()}},r)}),new(i=i||Promise)(function(e,t){function n(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,s)}u((a=a.apply(r,[])).next())});var r,i,a}function yn(e,t,n,r){return o=this,a=void 0,s=G().mark(function o(){var i,a,s,u,c,l,h,p,d,v,g,m;return G().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!1!==e.options.pkce&&(n.code||n.interaction_code))return o.abrupt("return",pn(e,Object.assign({},t,{authorizationCode:n.code,interactionCode:n.interaction_code}),r));o.next=3;break;case 3:if(t=t||At(e),r=r||yt(e,t),i=t.responseType||[],Array.isArray(i)||(i=[i]),a=n.scope?n.scope.split(" "):L(t.scopes),s=t.clientId||e.options.clientId,function(e,t){if(e.error&&e.error_description)throw new w(e.error,e.error_description);if(e.state!==t.state)throw new b("OAuth flow response state doesn't match request state")}(n,t),u={},c=n.expires_in,l=n.token_type,m=n.access_token,h=n.id_token,p=n.refresh_token,d=Math.floor(Date.now()/1e3),m&&(v=e.token.decode(m),u.accessToken={accessToken:m,claims:v.payload,expiresAt:Number(c)+d,tokenType:l,scopes:a,authorizeUrl:r.authorizeUrl,userinfoUrl:r.userinfoUrl}),p&&(u.refreshToken={refreshToken:p,expiresAt:Number(c)+d,scopes:a,tokenUrl:r.tokenUrl,authorizeUrl:r.authorizeUrl,issuer:r.issuer}),h)return g=e.token.decode(h),g={idToken:h,claims:g.payload,expiresAt:g.payload.exp-g.payload.iat+d,scopes:a,authorizeUrl:r.authorizeUrl,issuer:r.issuer,clientId:s},m={clientId:s,issuer:r.issuer,nonce:t.nonce,accessToken:m},void 0!==t.ignoreSignature&&(m.ignoreSignature=t.ignoreSignature),o.next=26,dn(e,g,m);o.next=27;break;case 26:u.idToken=g;case 27:if(-1===i.indexOf("token")||u.accessToken){o.next=29;break}throw new b('Unable to parse OAuth flow response: response type "token" was requested but "access_token" was not returned.');case 29:if(-1===i.indexOf("id_token")||u.idToken){o.next=31;break}throw new b('Unable to parse OAuth flow response: response type "id_token" was requested but "id_token" was not returned.');case 31:return o.abrupt("return",{tokens:u,state:n.state,code:n.code});case 32:case"end":return o.stop()}},o)}),new(a=a||Promise)(function(e,t){function n(e){try{u(s.next(e))}catch(e){t(e)}}function r(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var o;t.done?e(t.value):((o=t.value)instanceof a?o:new a(function(e){e(o)})).then(n,r)}u((s=s.apply(o,[])).next())});var o,a,s}function gn(e,t){if(2<arguments.length)return Promise.reject(new b('As of version 3.0, "getToken" takes only a single set of options'));var n=(t=t||{}).popupWindow;return t.popupWindow=void 0,zt(e,t).then(function(r){var o,i,u;switch(t.sessionToken?Object.assign(r,{prompt:"none",responseMode:"okta_post_message",display:null}):t.idp&&Object.assign(r,{display:"popup"}),i=yt(e,r),o=(t.codeVerifier?i.tokenUrl:i.authorizeUrl)+Xe(r),r.sessionToken||null===r.display?"IFRAME":"popup"===r.display?"POPUP":"IMPLICIT"){case"IFRAME":var a=lt(e,t.timeout,r.state),s=ut(o);return a.then(function(t){return yn(e,r,t,i)}).finally(function(){var e;document.body.contains(s)&&(null===(e=s.parentElement)||void 0===e||e.removeChild(s))});case"POPUP":if("okta_post_message"===r.responseMode){if(!e.features.isPopupPostMessageSupported())throw new b("This browser doesn't have full postMessage support");u=lt(e,t.timeout,r.state)}return n&&n.location.assign(o),new Promise(function(e,t){var r=setInterval(function(){n&&!n.closed||(clearInterval(r),t(new b("Unable to parse OAuth flow response")))},100);u.then(function(t){clearInterval(r),e(t)}).catch(function(e){clearInterval(r),t(e)})}).then(function(t){return yn(e,r,t,i)}).finally(function(){n&&!n.closed&&n.close()});default:throw new b("The full page redirect flow is not supported")}})}function mn(e,t){return 2<arguments.length?Promise.reject(new b('As of version 3.0, "getWithoutPrompt" takes only a single set of options')):(t=L(t)||{},Object.assign(t,{prompt:"none",responseMode:"okta_post_message",display:null}),gn(e,t))}function kn(e,t,n){return r=this,i=void 0,a=G().mark(function r(){var o,i,c,l;return G().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.options.clientId){r.next=3;break}throw new b("A clientId must be specified in the OktaAuth constructor to renew tokens");case 3:return i=Object.assign({},t,{clientId:o}),r.next=6,rt(e,i,n);case 6:return l=r.sent,c=yt(e,t),r.next=10,yn(e,i,l,c);case 10:return l=r.sent,c=l.tokens,(l=c.refreshToken)&&!$t(l,n)&&e.tokenManager.updateRefreshToken(l),r.abrupt("return",c);case 15:case"end":return r.stop()}},r)}),new(i=i||Promise)(function(e,t){function n(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,s)}u((a=a.apply(r,[])).next())});var r,i,a}function bn(){throw new b("Renew must be passed a token with an array of scopes and an accessToken or idToken")}function wn(e,t){return un(e)?t.idToken:sn(e)?t.accessToken:void bn()}function Tn(e,t){return n=this,o=void 0,i=G().mark(function n(){var r,o,i,a,s,u;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(un(t)||sn(t)||bn(),(r=e.tokenManager.getTokensSync()).refreshToken)return n.next=5,kn(e,{scopes:t.scopes},r.refreshToken);n.next=7;break;case 5:return r=n.sent,n.abrupt("return",wn(t,r));case 7:return o=e.options.pkce?"code":sn(t)?"token":"id_token",i=t.scopes,a=t.authorizeUrl,s=t.userinfoUrl,u=t.issuer,n.abrupt("return",mn(e,{responseType:o,scopes:i,authorizeUrl:a,userinfoUrl:s,issuer:u}).then(function(e){return wn(t,e.tokens)}));case 10:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}function Sn(e,t){return n=this,o=void 0,i=G().mark(function n(){var r,o,i,a,s,u,f;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.tokenManager.getTokensSync()).refreshToken)return n.abrupt("return",kn(e,t||{},r.refreshToken));n.next=3;break;case 3:if(r.accessToken||r.idToken){n.next=5;break}throw new b("renewTokens() was called but there is no existing token");case 5:if(o=r.accessToken||{},i=r.idToken||{},a=o.scopes||i.scopes){n.next=10;break}throw new b("renewTokens: invalid tokens: could not read scopes");case 10:if(s=o.authorizeUrl||i.authorizeUrl){n.next=13;break}throw new b("renewTokens: invalid tokens: could not read authorizeUrl");case 13:return u=o.userinfoUrl||e.options.userinfoUrl,f=i.issuer||e.options.issuer,t=Object.assign({scopes:a,authorizeUrl:s,userinfoUrl:u,issuer:f},t),e.options.pkce?t.responseType="code":(f=At(e),f=f.responseType,t.responseType=f),n.abrupt("return",mn(e,t).then(function(e){return e.tokens}));case 18:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}function xn(e,t,n){return r=this,i=void 0,a=G().mark(function r(){return G().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=4;break}return r.next=3,e.tokenManager.getTokens();case 3:t=r.sent.accessToken;case 4:if(n){r.next=8;break}return r.next=7,e.tokenManager.getTokens();case 7:n=r.sent.idToken;case 8:if(t&&sn(t)){r.next=10;break}return r.abrupt("return",Promise.reject(new b("getUserInfo requires an access token object")));case 10:if(n&&un(n)){r.next=12;break}return r.abrupt("return",Promise.reject(new b("getUserInfo requires an ID token object")));case 12:return r.abrupt("return",Ee(e,{url:t.userinfoUrl,method:"GET",accessToken:t.accessToken}).then(function(e){return e.sub===n.claims.sub?e:Promise.reject(new b("getUserInfo request was rejected due to token mismatch"))}).catch(function(e){var o,i;throw e.xhr&&(401===e.xhr.status||403===e.xhr.status)&&(e.xhr.headers&&ke(e.xhr.headers.get)&&e.xhr.headers.get("WWW-Authenticate")?i=e.xhr.headers.get("WWW-Authenticate"):ke(e.xhr.getResponseHeader)&&(i=e.xhr.getResponseHeader("WWW-Authenticate")),i)&&(o=i.match(/error="(.*?)"/)||[],i=i.match(/error_description="(.*?)"/)||[],o=o[1],i=i[1],o&&i&&(e=new w(o,i))),e}));case 13:case"end":return r.stop()}},r)}),new(i=i||Promise)(function(e,t){function n(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,s)}u((a=a.apply(r,[])).next())});var r,i,a}function On(e,t){if(2<arguments.length)return Promise.reject(new b('As of version 3.0, "getWithPopup" takes only a single set of options'));var n=ct("/",t);return t=L(t)||{},Object.assign(t,{display:"popup",responseMode:"okta_post_message",popupWindow:n}),gn(e,t)}!function(e){e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.FAILURE="FAILURE",e.TERMINAL="TERMINAL",e.CANCELED="CANCELED"}(Ht=Ht||{}),function(e){e.OKTA_PASSWORD="okta_password",e.OKTA_EMAIL="okta_email",e.PHONE_NUMBER="phone_number",e.GOOGLE_AUTHENTICATOR="google_otp",e.SECURITY_QUESTION="security_question",e.OKTA_VERIFY="okta_verify",e.WEBAUTHN="webauthn"}(Kt=Kt||{}),function(e){e.PASSWORD_RECOVERY="recover-password",e.REGISTRATION="enroll-profile",e.SOCIAL_IDP="redirect-idp",e.ACCOUNT_UNLOCK="unlock-account"}(qt=qt||{});var En=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function _n(e,t){return En(this,arguments,void 0,G().mark(function n(){var o,i,a=arguments;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(2<a.length)return n.abrupt("return",Promise.reject(new b('As of version 3.0, "getWithRedirect" takes only a single set of options')));n.next=2;break;case 2:return t=L(t)||{},n.next=5,zt(e,t);case 5:i=n.sent,o=Bt(e,i),i=o.urls.authorizeUrl+Xe(i),e.transactionManager.save(o,{oauth:!0}),e.token.getWithRedirect._setLocation(i);case 10:case"end":return n.stop()}},n)}))}function An(e){var t=e.options.pkce?"query":"fragment";return e.options.responseMode||t}function Rn(n,o){var r=(o=ye(o=o||{})?{url:o}:o).url,o=o.responseMode||An(n),n=n.token.parseFromUrl._getLocation();if(!(n="query"===o?r?r.substring(r.indexOf("?")):n.search:r?r.substring(r.indexOf("#")):n.hash))throw new b("Unable to parse a token from the url");return Yt(n)}function Cn(e,t){return n=this,o=void 0,i=G().mark(function n(){var r,o,i,a;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=ye(t=t||{})?{url:t}:t,r=Rn(e,t),o=r.state,i=e.transactionManager.load({oauth:!0,pkce:e.options.pkce,state:o})){n.next=7;break}return n.abrupt("return",Promise.reject(new b("Unable to retrieve OAuth redirect params from storage")));case 7:return a=i.urls,delete i.urls,t.url||function(e,t){("query"===(t.responseMode||An(e))?function(r){var t=r.token.parseFromUrl._getHistory(),n=r.token.parseFromUrl._getDocument(),r=r.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,r.pathname+r.hash):r.search=""}:function(r){var t=r.token.parseFromUrl._getHistory(),n=r.token.parseFromUrl._getDocument(),r=r.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,r.pathname+r.search):r.hash=""})(e)}(e,t),n.abrupt("return",yn(e,i,r,a).catch(function(t){throw Rt(t)||e.transactionManager.clear({state:o}),t}).then(function(t){return e.transactionManager.clear({state:o}),t}));case 11:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}function jn(){var t=[];return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){"webauthn"===e.key&&t.push({type:"public-key",id:j(e.credentialId)})}),t}var In=function(e,t){return{publicKey:{rp:e.rp,user:{id:j(e.user.id),name:e.user.name,displayName:e.user.displayName},challenge:j(e.challenge),pubKeyCredParams:e.pubKeyCredParams,attestation:e.attestation,authenticatorSelection:e.authenticatorSelection,excludeCredentials:jn(t)}}},Mn=function(e,t){return{publicKey:{challenge:j(e.challenge),userVerification:e.userVerification,allowCredentials:jn(t)}}},Un=function(e){var t=e.response;return{id:e.id,clientData:I(t.clientDataJSON),attestation:I(t.attestationObject)}},Dn=function(e){var t=e.response;return{id:e.id,clientData:I(t.clientDataJSON),authenticatorData:I(t.authenticatorData),signatureData:I(t.signature)}};function Nn(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)e[r]=n[r]}return e}var Fn=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Nn({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a,i="";for(a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Nn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Nn({},this.attributes,t))},withConverter:function(t){return e(Nn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Bn(){return"undefined"!=typeof window?window.console:"undefined"!=typeof console?console:void 0}function Hn(){var e=Bn();return e&&e.log?e:{log:function(){},warn:function(){},group:function(){},groupEnd:function(){}}}function Kn(e){Hn().warn("[okta-auth-sdk] WARN: "+e)}function qn(e){Hn().warn("[okta-auth-sdk] DEPRECATION: "+e)}function Vn(e,t){return function(){return qn(e),t.apply(null,arguments)}}function zn(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}var Wn={getHttpCache:function(){return null},getPKCEStorage:function(){return null},browserHasLocalStorage:function(){try{var e=Wn.getLocalStorage();return Wn.testStorage(e)}catch(e){return!1}},browserHasSessionStorage:function(){try{var e=Wn.getSessionStorage();return Wn.testStorage(e)}catch(e){return!1}},testStorageType:function(e){var t=!1;switch(e){case"sessionStorage":t=Wn.browserHasSessionStorage();break;case"localStorage":t=Wn.browserHasLocalStorage();break;case"cookie":case"memory":t=!0;break;default:t=!1}return t},getStorageByType:function(e,t){var n;switch(e){case"sessionStorage":n=Wn.getSessionStorage();break;case"localStorage":n=Wn.getLocalStorage();break;case"cookie":n=Wn.getCookieStorage(t);break;case"memory":n=Wn.getInMemoryStorage();break;default:throw new b("Unrecognized storage option: ".concat(e))}return n},findStorageType:function(e){var n,t=(e=e.slice()).shift();return!(n=e.length?e[0]:null)||Wn.testStorageType(t)?t:(Kn("This browser doesn't support ".concat(t,". Switching to ").concat(n,".")),Wn.findStorageType(e))},getLocalStorage:function(){return localStorage},getSessionStorage:function(){return sessionStorage},getCookieStorage:function(e){var t=e.secure,n=e.sameSite,r=e.sessionCookie;if(void 0===t||void 0===n)throw new b('getCookieStorage: "secure" and "sameSite" options must be provided');var o={getItem:Wn.storage.get,setItem:function(e,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"2200-01-01T00:00:00.000Z";Wn.storage.set(e,o,i=r?null:i,{secure:t,sameSite:n})},removeItem:function(e){Wn.storage.delete(e)}};return e.useSeparateCookies?{getItem:function(e){var t=o.getItem(),n={};return Object.keys(t).forEach(function(r){0===r.indexOf(e)&&(n[r.replace("".concat(e,"_"),"")]=JSON.parse(t[r]))}),JSON.stringify(n)},setItem:function(e,t){var n=JSON.parse(this.getItem(e));t=JSON.parse(t),Object.keys(t).forEach(function(r){var i=e+"_"+r,a=JSON.stringify(t[r]);o.setItem(i,a),delete n[r]}),Object.keys(n).forEach(function(t){o.removeItem(e+"_"+t)})},removeItem:function(e){var t=JSON.parse(this.getItem(e));Object.keys(t).forEach(function(t){o.removeItem(e+"_"+t)})}}:o},inMemoryStore:{},getInMemoryStorage:function(){var e=this;return{getItem:function(t){return e.inMemoryStore[t]},setItem:function(t,n){e.inMemoryStore[t]=n}}},testStorage:function(e){var t="okta-test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},storage:{set:function(e,t,n,r){var a=r.sameSite,i=r.secure;if(void 0===i||void 0===a)throw new b('storage.set: "secure" and "sameSite" options must be provided');a={path:r.path||"/",secure:i,sameSite:a};return Date.parse(n)&&(a.expires=new Date(n)),Fn.set(e,t,a),Wn.storage.get(e)},get:function(e){return arguments.length?Fn.get(e):Fn.get()},delete:function(e){return Fn.remove(e,{path:"/"})}}},Gn=Wn,Jn=function(){function e(t){s(this,e),this.localOffset=parseInt(t||0)}return V(e,[{key:"now",value:function(){return(Date.now()+this.localOffset)/1e3}}],[{key:"create",value:function(){return new e(0)}}]),e}(),$n={autoRenew:!0,autoRemove:!0,syncStorage:!0,clearPendingRemoveTokens:!0,storage:void 0,expireEarlySeconds:30,storageKey:ee,_storageEventDelay:0},Qn="expired",Yn="renewed",Xn="added",Zn="removed",er="error",tr=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(s(this,e),this.sdk=t,this.emitter=t.emitter,!this.emitter)throw new b("Emitter should be initialized before TokenManager");n=Object.assign({},$n,N(n)),kt()&&(n._storageEventDelay=n._storageEventDelay||1e3),_t()||(n.expireEarlySeconds=$n.expireEarlySeconds);var r=N({storageKey:(this.options=n).storageKey,secure:n.secure});"object"===l(n.storage)?r.storageProvider=n.storage:n.storage&&(r.storageType=n.storage),this.storage=t.storageManager.getTokenStorage(Object.assign(Object.assign({},r),{useSeparateCookies:!0})),this.clock=Jn.create(),this.state={expireTimeouts:{},renewPromise:null},this.on=this.emitter.on.bind(this.emitter),this.off=this.emitter.off.bind(this.emitter)}return V(e,[{key:"start",value:function(){this.options.clearPendingRemoveTokens&&this.clearPendingRemoveTokens(),this.setExpireEventTimeoutAll()}},{key:"stop",value:function(){this.clearExpireEventTimeoutAll()}},{key:"getOptions",value:function(){return L(this.options)}},{key:"getExpireTime",value:function(e){var t=this.options.expireEarlySeconds||0;return e.expiresAt-t}},{key:"hasExpired",value:function(e){return this.getExpireTime(e)<=this.clock.now()}},{key:"emitExpired",value:function(e,t){this.emitter.emit(Qn,e,t)}},{key:"emitRenewed",value:function(e,t,n){this.emitter.emit(Yn,e,t,n)}},{key:"emitAdded",value:function(e,t){this.emitter.emit(Xn,e,t)}},{key:"emitRemoved",value:function(e,t){this.emitter.emit(Zn,e,t)}},{key:"emitError",value:function(e){this.emitter.emit(er,e)}},{key:"emitEventsForCrossTabsStorageUpdate",value:function(e,t){var n=this,r=this.getTokensFromStorageValue(t),o=this.getTokensFromStorageValue(e);Object.keys(o).forEach(function(e){var t=r[e],i=o[e];JSON.stringify(t)!==JSON.stringify(i)&&n.emitAdded(e,i)}),Object.keys(r).forEach(function(e){var t=r[e];o[e]||n.emitRemoved(e,t)})}},{key:"clearExpireEventTimeout",value:function(e){clearTimeout(this.state.expireTimeouts[e]),delete this.state.expireTimeouts[e],this.state.renewPromise=null}},{key:"clearExpireEventTimeoutAll",value:function(){var t,e=this.state.expireTimeouts;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.clearExpireEventTimeout(t)}},{key:"setExpireEventTimeout",value:function(e,t){var i,n=this;cn(t)||(i=this.getExpireTime(t),i=1e3*Math.max(i-this.clock.now(),0),this.clearExpireEventTimeout(e),i=setTimeout(function(){n.emitExpired(e,t)},i),this.state.expireTimeouts[e]=i)}},{key:"setExpireEventTimeoutAll",value:function(){var t,n,e=this.storage.getStorage();for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n=e[t],this.setExpireEventTimeout(t,n))}},{key:"resetExpireEventTimeoutAll",value:function(){this.clearExpireEventTimeoutAll(),this.setExpireEventTimeoutAll()}},{key:"add",value:function(e,t){var n=this.storage.getStorage();ln(t),n[e]=t,this.storage.setStorage(n),this.emitAdded(e,t),this.setExpireEventTimeout(e,t)}},{key:"getSync",value:function(e){return this.storage.getStorage()[e]}},{key:"get",value:function(e){return zn(this,void 0,void 0,G().mark(function t(){return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getSync(e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getTokensSync",value:function(){var e={},t=this.storage.getStorage();return Object.keys(t).forEach(function(r){r=t[r];sn(r)?e.accessToken=r:un(r)?e.idToken=r:cn(r)&&(e.refreshToken=r)}),e}},{key:"getTokens",value:function(){return zn(this,void 0,void 0,G().mark(function e(){return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getTokensSync());case 1:case"end":return e.stop()}},e,this)}))}},{key:"getStorageKeyByType",value:function(e){var t=this.storage.getStorage();return Object.keys(t).filter(function(r){r=t[r];return sn(r)&&"accessToken"===e||un(r)&&"idToken"===e||cn(r)&&"refreshToken"===e})[0]}},{key:"getTokenType",value:function(e){if(sn(e))return"accessToken";if(un(e))return"idToken";if(cn(e))return"refreshToken";throw new b("Unknown token type")}},{key:"setTokens",value:function(e,t,n,r){function i(e,i){var a=o.getTokenType(i);"accessToken"===a?t&&t(e,i):"idToken"===a?n&&n(e,i):"refreshToken"===a&&r&&r(e,i)}function a(e,t){o.emitAdded(e,t),o.setExpireEventTimeout(e,t),i(e,t)}function s(e,t){o.clearExpireEventTimeout(e),o.emitRemoved(e,t),i(e,t)}var o=this,u=["idToken","accessToken","refreshToken"],c=this.getTokensSync();u.forEach(function(t){var n=e[t];n&&ln(n,t)});var l=u.reduce(function(t,n){var r=e[n];return r&&(t[o.getStorageKeyByType(n)||n]=r),t},{});this.storage.setStorage(l),u.forEach(function(r){var n,l=e[r],f=c[r],h=o.getStorageKeyByType(r)||r;l&&f?(s(h,f),a(h,l),o.emitRenewed(n=h,r=l,f),o.clearExpireEventTimeout(n),o.setExpireEventTimeout(n,r),i(n,r)):l?a(h,l):f&&s(h,f)})}},{key:"remove",value:function(e){this.clearExpireEventTimeout(e);var t=this.storage.getStorage(),n=t[e];delete t[e],this.storage.setStorage(t),this.emitRemoved(e,n)}},{key:"renewToken",value:function(e){var t;return zn(this,void 0,void 0,G().mark(function n(){return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(t=this.sdk.token)||void 0===t?void 0:t.renew(e));case 1:case"end":return n.stop()}},n,this)}))}},{key:"validateToken",value:function(e){return ln(e)}},{key:"renew",value:function(e){var t=this;if(this.state.renewPromise)return this.state.renewPromise;try{var n=this.getSync(e);if(!n)throw new b("The tokenManager has no token for the key: "+e)}catch(e){return Promise.reject(e)}return this.clearExpireEventTimeout(e),this.state.renewPromise=this.sdk.token.renewTokens().then(function(e){return t.setTokens(e),e[t.getTokenType(n)]}).catch(function(n){throw t.remove(e),n.tokenKey=e,t.emitError(n),n}).finally(function(){t.state.renewPromise=null}),this.state.renewPromise}},{key:"clear",value:function(){this.clearExpireEventTimeoutAll(),this.storage.clearStorage()}},{key:"clearPendingRemoveTokens",value:function(){var e=this,t=this.getTokensSync();Object.keys(t).forEach(function(n){t[n].pendingRemove&&e.remove(n)})}},{key:"getTokensFromStorageValue",value:function(e){var t;try{t=JSON.parse(e)||{}}catch(e){t={}}return t}},{key:"updateRefreshToken",value:function(e){var t=this.getStorageKeyByType("refreshToken")||ce,n=this.storage.getStorage();ln(e),n[t]=e,this.storage.setStorage(n)}},{key:"addPendingRemoveFlags",value:function(){var e=this.getTokensSync();Object.keys(e).forEach(function(t){e[t].pendingRemove=!0}),this.setTokens(e)}}]),e}();function nr(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||et(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rr=Promise.resolve(!0),or=Promise.resolve();function ir(e,t){return e=e||0,new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function ar(){return Math.random().toString(36).substring(2)}var sr=0,ur=0;function cr(){var e=(new Date).getTime();return e===sr?1e3*e+ ++ur:(ur=0,1e3*(sr=e))}var lr="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0),Fr={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),or}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(lr&&"undefined"==typeof window)return!1;if("function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:cr},hr=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,pr()),this.set.add(e),setTimeout(function(){!function(e){for(var t=pr()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(t)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function pr(){return(new Date).getTime()}function dr(t){var e=0<arguments.length&&void 0!==t?t:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var vr="messages";function yr(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function mr(e){return!e.closed&&e.messagesCallback?(t=e.db,n=e.lastCursorId,r=t.transaction(vr).objectStore(vr),o=[],new Promise(function(e){(function(){try{var e=IDBKeyRange.bound(n+1,1/0);return r.openCursor(e)}catch(e){return r.openCursor()}})().onsuccess=function(r){r=r.target.result;r?r.value.id<n+1?r.continue(n+1):(o.push(r.value),r.continue()):e(o)}}).then(function(t){return t.filter(function(e){return!!e}).map(function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t}).filter(function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)}).sort(function(e,t){return e.time-t.time}).forEach(function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))}),or})):or;var t,n,r,o}var Dr={create:function(e,t){return t=dr(t),function(e){var n=yr().open("pubkey.broadcast-channel-0-"+e,1);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(vr,{keyPath:"id",autoIncrement:!0})},new Promise(function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}})}(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:ar(),eMIs:new hr(2*t.idb.ttl),writeBlockPromise:or,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},function gr(e){e.closed||mr(e).then(function(){return ir(e.options.idb.fallbackInterval)}).then(function(){return gr(e)})}(r),r})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,mr(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([vr],"readwrite");return new Promise(function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(vr).add(r)})}(e.db,e.uuid,t)}).then(function(){var t,n;0===Math.floor(11*Math.random()+0)&&(t=e.db,n=e.options.idb.ttl,function(e,t){var n=(new Date).getTime()-t,r=e.transaction(vr).objectStore(vr),o=[];return new Promise(function(e){r.openCursor().onsuccess=function(r){var i,r=r.target.result;r&&(i=r.value).time<n?(o.push(i),r.continue()):e(o)}})}(t,n).then(function(e){return Promise.all(e.map(function(e){return function(e,t){var n=e.transaction([vr],"readwrite").objectStore(vr).delete(t);return new Promise(function(e){n.onsuccess=function(){return e()}})}(t,e.id)}))}))}),e.writeBlockPromise},canBeUsed:function(){return!lr&&!!yr()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:cr};function br(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function wr(e){return"pubkey.broadcastChannel-"+e}function Tr(){if(lr)return!1;var e=br();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}function Pr(e,r){var n;this.id=Rr++,Ar.add(this),this.name=e,this.options=dr(r),this.method=function(e){var r=[].concat(e.methods,_r).filter(Boolean);if(e.type){if("simulate"===e.type)return Er;var n=r.find(function(t){return t.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}r=(r=!e.webWorkerSupport&&!lr?r.filter(function(e){return"idb"!==e.type}):r).find(function(e){return e.canBeUsed()});if(r)return r;throw new Error("No useable method found in "+JSON.stringify(_r.map(function(e){return e.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,(r=(n=this).method.create(n.name,n.options))&&"function"==typeof r.then?(n._prepP=r).then(function(e){n._state=e}):n._state=r}var rs={create:function(a,t){if(t=dr(t),!Tr())throw new Error("BroadcastChannel: localstorage cannot be used");var i,n=ar(),r=new hr(t.localstorage.removeTimeout),o={channelName:a,uuid:n,eMIs:r};return o.listener=(i=wr(a=a),a=function(t){t.key===i&&(t=JSON.parse(t.newValue),o.messagesCallback&&t.uuid!==n&&t.token&&!r.has(t.token)&&(t.data.time&&t.data.time<o.messagesCallbackTime||(r.add(t.token),o.messagesCallback(t.data))))},window.addEventListener("storage",a),a),o},close:function(t){t=t.listener;window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){ir().then(function(){var r=wr(e.channelName),a={token:ar(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(a);br().setItem(r,i);a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=i,window.dispatchEvent(a),n()})})},canBeUsed:Tr,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:cr},xr=cr,Or=new Set,Er={create:function(t){t={name:t,messagesCallback:null};return Or.add(t),t},close:function(e){Or.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){return setTimeout(function(){Array.from(Or).filter(function(t){return t.name===e.name}).filter(function(t){return t!==e}).filter(function(e){return!!e.messagesCallback}).forEach(function(e){return e.messagesCallback(t)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:xr},_r=[Fr,Dr,rs],Ar=new Set,Rr=0;function Cr(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP||or).then(function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then(function(){return e._uMP.delete(t)}),t})}function jr(e){return 0<e._addEL.message.length||0<e._addEL.internal.length}function Ir(e,t,n){e._addEL[t].push(n),function(e){var t,n;!e._iL&&jr(e)&&(t=function(t){e._addEL[t.type].forEach(function(e){var n=e.time-1e5;t.time>=n&&e.fn(t.data)})},n=e.method.microSeconds(),e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n)))}(e)}function Mr(e,t,n){e._addEL[t]=e._addEL[t].filter(function(e){return e!==n}),function(e){var t;e._iL&&!jr(e)&&(e._iL=!1,t=e.method.microSeconds(),e.method.onMessage(e._state,null,t))}(e)}Pr._pubkey=!0,Pr.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return Cr(this,"message",e)},postInternal:function(e){return Cr(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Mr(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Ir(this,"message",t)):this._onML=null},addEventListener:function(e,t){Ir(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Mr(this,e,this._addEL[e].find(function(e){return e.fn===t}))},close:function(){var e=this;if(!this.closed){Ar.delete(this),this.closed=!0;var t=this._prepP||or;return this._onML=null,this._addEL.message=[],t.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(e){return e()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var Fr=n(643),Dr=n.n(Fr),rs={add:function(e){"function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0))}},Fr=n(199),Fr=n.n(Fr),Br=Dr()?Fr():rs,Hr=new Set,Kr=!1;function qr(){var e=[];return Hr.forEach(function(t){e.push(t()),Hr.delete(t)}),Promise.all(e)}function Vr(e,r){var n=this;this.broadcastChannel=e,this._options=r,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=ar(),this._aplQ=or,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1,r=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))},this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)}function Wr(e,n){n={context:"leader",action:n,token:e.token};return e.broadcastChannel.postInternal(n)}Vr.prototype={applyOnce:function(e){var t=this;if(this.isLeader)return ir(0,!0);if(this.isDead)return ir(0,!1);if(1<this._aplQC)return this._aplQ;function n(){if(t.isLeader)return rr;function a(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))}var n,r=!1,o=new Promise(function(e){n=function(){r=!0,e()}});t.broadcastChannel.addEventListener("internal",a);var s=e?4*t._options.responseTime:t._options.responseTime;return Wr(t,"apply").then(function(){return Promise.race([ir(s),o.then(function(){return Promise.reject(new Error)})])}).then(function(){return Wr(t,"apply")}).then(function(){return Promise.race([ir(s),o.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return t.broadcastChannel.removeEventListener("internal",a),!r&&function(e){e.isLeader=!0,e.hasLeader=!0;var n=function(e){return Kr||(Kr=!0,Br.add(qr)),Hr.add(e),{remove:function(){return Hr.delete(e)},run:function(){return Hr.delete(e),e()}}}(function(){return e.die()});e._unl.push(n);n=function(t){"leader"===t.context&&"apply"===t.action&&Wr(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),Wr(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Wr(e,"tell")}(t).then(function(){return!0})})}return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(n).then(function(){t._aplQC=t._aplQC-1}),this._aplQ.then(function(){return t.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?or:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()}),function t(){return ir(e._options.fallbackInterval).then(function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then(function(){(e.isLeader?r:t)()})})}();var o=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach(function(t){return e.broadcastChannel.removeEventListener("internal",t)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,Wr(this,"death")}};var Gr=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.started=!1,this.tokenManager=t,this.options=n,this.renewTimeQueue=[],this.onTokenExpiredHandler=this.onTokenExpiredHandler.bind(this)}return V(e,[{key:"shouldThrottleRenew",value:function(){var t,e=!1;return this.renewTimeQueue.push(Date.now()),10<=this.renewTimeQueue.length&&(t=this.renewTimeQueue.shift(),e=this.renewTimeQueue[this.renewTimeQueue.length-1]-t<3e4),e}},{key:"requiresLeadership",value:function(){return!!this.options.syncStorage&&mt()}},{key:"onTokenExpiredHandler",value:function(e){var t;this.options.autoRenew?this.shouldThrottleRenew()?(t=new b("Too many token renew requests"),this.tokenManager.emitError(t)):this.tokenManager.renew(e).catch(function(){}):this.options.autoRemove&&this.tokenManager.remove(e)}},{key:"canStart",value:function(){return!!this.options.autoRenew||!!this.options.autoRemove}},{key:"start",value:function(){this.canStart()&&(this.stop(),this.tokenManager.on(Qn,this.onTokenExpiredHandler),this.started=!0)}},{key:"stop",value:function(){this.started&&(this.tokenManager.off(Qn,this.onTokenExpiredHandler),this.renewTimeQueue=[],this.started=!1)}},{key:"isStarted",value:function(){return this.started}}]),e}(),Jr=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.started=!1,this.tokenManager=t,this.options=n,this.storageListener=this.storageListener.bind(this)}return V(e,[{key:"storageListener",value:function(i){var t=this,n=i.key,r=i.newValue,o=i.oldValue,i=this.tokenManager.getOptions();n&&(n!==i.storageKey||r===o)||(this.syncTimeout=setTimeout(function(){t.tokenManager.resetExpireEventTimeoutAll(),t.tokenManager.emitEventsForCrossTabsStorageUpdate(r,o)},i._storageEventDelay))}},{key:"requiresLeadership",value:function(){return!1}},{key:"isStarted",value:function(){return this.started}},{key:"canStart",value:function(){return!!this.options.syncStorage&&mt()}},{key:"start",value:function(){this.canStart()&&(this.stop(),window.addEventListener("storage",this.storageListener),this.started=!0)}},{key:"stop",value:function(){this.started&&(window.removeEventListener("storage",this.storageListener),clearTimeout(this.syncTimeout),this.started=!1)}}]),e}();function zr(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr=function(){function e(a){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,e);var u=(this.sdk=a).tokenManager.getOptions(),i=u.autoRenew,a=u.autoRemove,u=u.syncStorage;this.options=Object.assign({},e.defaultOptions,{autoRenew:i,autoRemove:a,syncStorage:u},r),this.started=!1,this.services=new Map,this.onLeaderDuplicate=this.onLeaderDuplicate.bind(this),this.onLeader=this.onLeader.bind(this),e.knownServices.forEach(function(e){var t=n.createService(e);t&&n.services.set(e,t)})}return V(e,[{key:"onLeader",value:function(){this.started&&this.startServices()}},{key:"onLeaderDuplicate",value:function(){}},{key:"isLeader",value:function(){var e;return!(null===(e=this.elector)||void 0===e||!e.isLeader)}},{key:"hasLeader",value:function(){var e;return null===(e=this.elector)||void 0===e?void 0:e.hasLeader}},{key:"isLeaderRequired",value:function(){return nr(this.services.values()).some(function(e){return e.requiresLeadership()})}},{key:"start",value:function(){this.started&&this.stop(),this.isLeaderRequired()&&this.startElector(),this.startServices(),this.started=!0}},{key:"stop",value:function(){this.stopElector(),this.stopServices(),this.started=!1}},{key:"getService",value:function(e){return this.services.get(e)}},{key:"startServices",value:function(){var e,t=zr(this.services.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;!n.canStart()||n.isStarted()||n.requiresLeadership()&&!this.isLeader()||n.start()}}catch(e){t.e(e)}finally{t.f()}}},{key:"stopServices",value:function(){var e,t=zr(this.services.values());try{for(t.s();!(e=t.n()).done;)e.value.stop()}catch(e){t.e(e)}finally{t.f()}this.services=new Map}},{key:"startElector",value:function(){var t;this.stopElector(),e.canUseLeaderElection()&&(this.channel||(t=this.options.broadcastChannelName,this.channel=new Pr(t)),this.elector||(this.elector=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e=e||{},(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(void 0,e);var n=new Vr(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n}(this.channel),this.elector.onduplicate=this.onLeaderDuplicate,this.elector.awaitLeadership().then(this.onLeader)))}},{key:"stopElector",value:function(){var e;this.elector&&(null===(e=this.elector)||void 0===e||e.die(),this.elector=void 0)}},{key:"createService",value:function(e){var t,n=this.sdk.tokenManager;switch(e){case"autoRenew":t=new Gr(n,Object.assign({},this.options));break;case"syncStorage":t=new Jr(n,Object.assign({},this.options));break;default:throw new Error("Unknown service ".concat(e))}return t}}],[{key:"canUseLeaderElection",value:mt}]),e}();Qr.knownServices=["autoRenew","syncStorage"],Qr.defaultOptions={autoRenew:!0,autoRemove:!0,syncStorage:!0};var Xr=function(){function e(){s(this,e),this.queue=[],this.running=!1}return V(e,[{key:"push",value:function(e,t){for(var n=this,r=arguments.length,o=new Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return new Promise(function(r,i){0<n.queue.length&&Kn("Async method is being called but another async method is already running. The new method will be delayed until the previous method completes."),n.queue.push({method:e,thisObject:t,args:o,resolve:r,reject:i}),n.run()})}},{key:"run",value:function(){var t,n,e=this;this.running||0===this.queue.length||(this.running=!0,be(n=(t=this.queue.shift()).method.apply(t.thisObject,t.args))?n.then(t.resolve,t.reject).finally(function(){e.running=!1,e.run()}):(t.resolve(n),this.running=!1,this.run()))}}]),e}();var rs=n(615),to=n.n(rs),no=null,ro={updateAuthStatePromise:null,canceledTimes:0},oo="authStateChange",io=function(){function e(t){var n=this;if(s(this,e),!t.emitter)throw new b("Emitter should be initialized before AuthStateManager");this._sdk=t,this._pending=Object.assign({},ro),this._authState=no,this._logOptions={},this._prevAuthState=null,t.tokenManager.on(Xn,function(e,t){n._setLogOptions({event:Xn,key:e,token:t}),n.updateAuthState()}),t.tokenManager.on(Zn,function(e,t){n._setLogOptions({event:Zn,key:e,token:t}),n.updateAuthState()})}return V(e,[{key:"_setLogOptions",value:function(e){this._logOptions=e}},{key:"getAuthState",value:function(){return this._authState}},{key:"getPreviousAuthState",value:function(){return this._prevAuthState}},{key:"updateAuthState",value:function(){return e=this,n=void 0,r=G().mark(function e(){var n,r,o,i,a,s,u=this;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this._sdk.options,n=a.transformAuthState,r=a.devMode,o=function(e){var o=u._logOptions,n=o.event,r=o.key,o=o.token;Hn().group("OKTA-AUTH-JS:updateAuthState: Event:".concat(n," Status:").concat(e)),Hn().log(r,o),Hn().log("Current authState",u._authState),Hn().groupEnd(),u._logOptions={}},i=function(e){var t,n=e;(t=u._authState)&&t.isAuthenticated===n.isAuthenticated&&JSON.stringify(t.idToken)===JSON.stringify(n.idToken)&&JSON.stringify(t.accessToken)===JSON.stringify(n.accessToken)&&t.error===n.error?r&&o("unchanged"):(u._prevAuthState=u._authState,u._authState=e,u._sdk.emitter.emit(oo,Object.assign({},e)),r&&o("emitted"))},a=function e(t){return u._pending.updateAuthStatePromise.then(function(){var n=u._pending.updateAuthStatePromise;return n&&n!==t?e(n):u.getAuthState()})},!this._pending.updateAuthStatePromise){e.next=11;break}if(10<=this._pending.canceledTimes)return r&&o("terminated"),e.abrupt("return",a(this._pending.updateAuthStatePromise));e.next=10;break;case 10:this._pending.updateAuthStatePromise.cancel();case 11:return s=new(to())(function(e,t,a){a.shouldReject=!1,a(function(){u._pending.updateAuthStatePromise=null,u._pending.canceledTimes=u._pending.canceledTimes+1,r&&o("canceled")});function c(t){s.isCanceled?e():(i(t),e(),u._pending=Object.assign({},ro))}u._sdk.isAuthenticated().then(function(){var r,o,i,a;s.isCanceled?e():(a=u._sdk.tokenManager.getTokensSync(),r=a.accessToken,o=a.idToken,i=a.refreshToken,a={accessToken:r,idToken:o,refreshToken:i,isAuthenticated:!(!r||!o)},(n?n(u._sdk,a):Promise.resolve(a)).then(c).catch(function(e){return c({accessToken:r,idToken:o,refreshToken:i,isAuthenticated:!1,error:e})}))})}),this._pending.updateAuthStatePromise=s,e.abrupt("return",a(s));case 14:case"end":return e.stop()}},e,this)}),new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,[])).next())});var e,n,r}},{key:"subscribe",value:function(e){this._sdk.emitter.on(oo,e)}},{key:"unsubscribe",value:function(e){this._sdk.emitter.off(oo,e)}}]),e}(),ao=function(){function e(t,n){if(s(this,e),!t)throw new b('"storage" is required');if("string"!=typeof n||!n.length)throw new b('"storageName" is required');this.storageName=n,this.storageProvider=t}return V(e,[{key:"getItem",value:function(e){return this.getStorage()[e]}},{key:"setItem",value:function(e,t){return this.updateStorage(e,t)}},{key:"removeItem",value:function(e){return this.clearStorage(e)}},{key:"getStorage",value:function(){var e=(e=this.storageProvider.getItem(this.storageName))||"{}";try{return JSON.parse(e)}catch(e){throw new b("Unable to parse storage string: "+this.storageName)}}},{key:"setStorage",value:function(e){try{var t=e?JSON.stringify(e):"{}";this.storageProvider.setItem(this.storageName,t)}catch(e){throw new b("Unable to set storage: "+this.storageName)}}},{key:"clearStorage",value:function(e){var t;e?(delete(t=this.getStorage())[e],this.setStorage(t)):this.storageProvider.removeItem?this.storageProvider.removeItem(this.storageName):this.setStorage()}},{key:"updateStorage",value:function(e,t){var n=this.getStorage();n[e]=t,this.setStorage(n)}}]),e}();function so(e){mt()||e.storageProvider||e.storageProvider||Kn("Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.")}var uo=function(){function e(t,n,r){s(this,e),this.storageManagerOptions=t,this.cookieOptions=n,this.storageUtil=r}return V(e,[{key:"getOptionsForSection",value:function(e,t){return Object.assign({},this.storageManagerOptions[e],t)}},{key:"getStorage",value:function(e){if((e=Object.assign({},this.cookieOptions,e)).storageProvider)return e.storageProvider;var o,n=e.storageType,r=e.storageTypes;return"sessionStorage"===n&&(e.sessionCookie=!0),n&&r&&0<=(o=r.indexOf(n))&&(r=r.slice(o),n=void 0),n=n||this.storageUtil.findStorageType(r),this.storageUtil.getStorageByType(n,e)}},{key:"getTransactionStorage",value:function(n){so(n=this.getOptionsForSection("transaction",n));var t=this.getStorage(n),n=n.storageKey||re;return new ao(t,n)}},{key:"getSharedTansactionStorage",value:function(n){so(n=this.getOptionsForSection("shared-transaction",n));var t=this.getStorage(n),n=n.storageKey||oe;return new ao(t,n)}},{key:"getOriginalUriStorage",value:function(n){so(n=this.getOptionsForSection("original-uri",n));var t=this.getStorage(n),n=n.storageKey||ie;return new ao(t,n)}},{key:"getIdxResponseStorage",value:function(e){var t;if(mt())try{t=this.storageUtil.getStorageByType("memory",e)}catch(e){Kn("No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic")}else{var n=this.getTransactionStorage(e);n&&(t={getItem:function(e){var t=n.getStorage();return t&&t[e]?t[e]:null},setItem:function(e,t){var r=n.getStorage();if(!r)throw new b("Transaction has been cleared, failed to save idxState");r[e]=t,n.setStorage(r)},removeItem:function(e){var t=n.getStorage();t&&(delete t[e],n.setStorage(t))}})}return t?new ao(t,ae):null}},{key:"getTokenStorage",value:function(n){so(n=this.getOptionsForSection("token",n));var t=this.getStorage(n),n=n.storageKey||ee;return new ao(t,n)}},{key:"getHttpCache",value:function(n){n=this.getOptionsForSection("cache",n);var t=this.getStorage(n),n=n.storageKey||te;return new ao(t,n)}},{key:"getLegacyPKCEStorage",value:function(n){n=this.getOptionsForSection("legacy-pkce",n);var t=this.getStorage(n),n=n.storageKey||ne;return new ao(t,n)}},{key:"getLegacyOAuthParamsStorage",value:function(n){n=this.getOptionsForSection("legacy-oauth-params",n);var t=this.getStorage(n),n=n.storageKey||Y;return new ao(t,n)}}]),e}();function co(e){return e&&e.version}function lo(e){return e&&co(e.rawIdxState)}var yo=function(){function e(t){s(this,e),this.storageManager=t.storageManager,this.legacyWidgetSupport=!1!==t.legacyWidgetSupport,this.saveNonceCookie=!1!==t.saveNonceCookie,this.saveStateCookie=!1!==t.saveStateCookie,this.saveParamsCookie=!1!==t.saveParamsCookie,this.enableSharedStorage=!1!==t.enableSharedStorage,this.saveLastResponse=!1!==t.saveLastResponse,this.options=t}return V(e,[{key:"clear",value:function(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.storageManager.getTransactionStorage(),n=t.getStorage();t.clearStorage(),this.clearIdxResponse(),this.enableSharedStorage&&!1!==e.clearSharedStorage&&(r=e.state||(null==n?void 0:n.state))&&function(r,t){var n=r.getSharedTansactionStorage();delete(r=n.getStorage())[t],n.setStorage(r)}(this.storageManager,r),this.legacyWidgetSupport&&(e.oauth&&this.clearLegacyOAuthParams(),e.pkce&&this.clearLegacyPKCE())}},{key:"save",value:function(e){var o,i,a,s,u,c,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=this.storageManager.getTransactionStorage();on(l.getStorage())&&!f.muteWarning&&Kn("a saved auth transaction exists in storage. This may indicate another auth flow is already in progress."),l.setStorage(e),this.enableSharedStorage&&e.state&&function(o,t,n){var r=o.getSharedTansactionStorage();(o=r.getStorage())[t]={dateCreated:Date.now(),transaction:n},r.setStorage(o)}(this.storageManager,e.state,e),f.oauth&&(this.saveNonceCookie||this.saveStateCookie||this.saveParamsCookie)&&(o=this.storageManager.getStorage({storageType:"cookie"}),this.saveParamsCookie&&(i=e.responseType,a=e.state,s=e.nonce,u=e.scopes,c=e.clientId,l=e.urls,f=e.ignoreSignature,o.setItem(Y,JSON.stringify({responseType:i,state:a,nonce:s,scopes:u,clientId:c,urls:l,ignoreSignature:f}),null)),this.saveNonceCookie&&e.nonce&&o.setItem(Z,e.nonce,null),this.saveStateCookie&&e.state&&o.setItem(X,e.state,null))}},{key:"exists",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};try{return!!this.load(e)}catch(e){return!1}}},{key:"load",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this.enableSharedStorage&&t.state&&(function(t){var n=(t=t.getSharedTansactionStorage()).getStorage();Object.keys(n).forEach(function(e){var t=n[e];18e5<Date.now()-t.dateCreated&&delete n[e]}),t.setStorage(n)}(this.storageManager),on(e=function(e,n){return(n=e.getSharedTansactionStorage().getStorage()[n])&&n.transaction&&on(n.transaction)?n.transaction:null}(this.storageManager,t.state))))return e;if(on(e=this.storageManager.getTransactionStorage().getStorage()))return e;if(!this.legacyWidgetSupport)return null;if(t.oauth)try{var r=this.loadLegacyOAuthParams();Object.assign(e,r)}finally{this.clearLegacyOAuthParams()}if(t.pkce)try{var o=this.loadLegacyPKCE();Object.assign(e,o)}finally{this.clearLegacyPKCE()}return on(e)?e:null}},{key:"clearLegacyPKCE",value:function(){this.storageManager.storageUtil.testStorageType("localStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).clearStorage()}},{key:"loadLegacyPKCE",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("localStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).getStorage())&&e.codeVerifier)return e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).getStorage())&&e.codeVerifier)return e;throw new b("Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.",void 0)}},{key:"clearLegacyOAuthParams",value:function(){this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("cookie")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).clearStorage()}},{key:"loadLegacyOAuthParams",value:function(){var e;if(en(e=this.storageManager.storageUtil.testStorageType("sessionStorage")?this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).getStorage():e))return e;if(en(e=this.storageManager.storageUtil.testStorageType("cookie")?this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).getStorage():e))return e;throw new b("Unable to retrieve OAuth redirect params from storage")}},{key:"saveIdxResponse",value:function(e){var t;!this.saveLastResponse||(t=this.storageManager.getIdxResponseStorage())&&t.setStorage(e)}},{key:"loadIdxResponse",value:function(){if(!this.saveLastResponse)return null;var t=this.storageManager.getIdxResponseStorage();if(!t)return null;t=t.getStorage();return co(t)?t:null}},{key:"clearIdxResponse",value:function(){var e;this.saveLastResponse&&(null==(e=this.storageManager.getIdxResponseStorage())||e.clearStorage())}}]),e}();var rs=n(98),ko=n.n(rs);function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wo=function(e,t,a){var o=a.data,i=a.headers||{};"application/json"===(i["Content-Type"]||i["content-type"]||"")&&o&&"string"!=typeof o&&(o=JSON.stringify(o));a=(n.g.fetch||ko())(t,{method:e,headers:a.headers,body:o,credentials:a.withCredentials?"include":"omit"});return(a=!a.finally?Promise.resolve(a):a).then(function(e){var t=!e.ok,n=e.status;return function(e){return e.headers.get("Content-Type")&&0<=e.headers.get("Content-Type").toLowerCase().indexOf("application/json")?e.json().catch(function(e){return{error:e,errorSummary:"Could not parse server response"}}):e.text()}(e).then(function(t){return function(e,t,u){var r,o="object"===l(t),i={},a=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bo(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(u.headers.entries());try{for(a.s();!(r=a.n()).done;){var s=r.value;i[s[0]]=s[1]}}catch(e){a.e(e)}finally{a.f()}u={responseText:o?JSON.stringify(t):t,status:e,headers:i};return o&&(u.responseType="json",u.responseJSON=t),u}(n,t,e)}).then(function(e){var n;if(t||null!==(n=e.responseJSON)&&void 0!==n&&n.error)throw e;return e})})},To={token:{storageTypes:["localStorage","sessionStorage","cookie"]},cache:{storageTypes:["localStorage","sessionStorage","cookie"]},transaction:{storageTypes:["sessionStorage","localStorage","cookie"]},"shared-transaction":{storageTypes:["localStorage"]},"original-uri":{storageTypes:["localStorage"]}};function _o(e,t){var l=t.method,s=void 0===l?"POST":l,c=void 0===(l=t.headers)?{}:l,f=void 0===(l=t.credentials)?"include":l,h=t.body,o=void 0,i=G().mark(function t(){var n,r;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={url:e,method:s,headers:Object.assign({},c),credentials:f,body:h},Eo.interceptors&&Eo.interceptors.request.handlers.forEach(function(e){e.before(n)}),r=n.url,delete n.url,t.abrupt("return",ko()(r,n));case 5:case"end":return t.stop()}},t)});return new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(void 0,[])).next())})}var Eo={interceptors:{request:new(function(){function e(){s(this,e),this.handlers=[]}return V(e,[{key:"use",value:function(e){this.handlers.push({before:e})}},{key:"clear",value:function(){this.handlers=[]}}]),e}())}};function Ao(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e){var t=e.actionDefinition,o=e.defaultParamsForAction,r=void 0===o?{}:o,i=void 0===(o=e.immutableParamsForAction)?{}:o,a=e.toPersist,s=t.href;return function(e){return n=this,u=void 0,c=G().mark(function n(){var o,u,c;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={"content-type":"application/json",accept:t.accepts||"application/ion+json"},u=JSON.stringify(Object.assign(Object.assign(Object.assign({},r),e),i)),c=a&&!1===a.withCredentials?"omit":"include",n.abrupt("return",_o(s,{method:t.method,headers:o,body:u,credentials:c}).then(function(e){var t=e.json();return e.ok?t:401===e.status&&'Oktadevicejwt realm="Okta Device"'===e.headers.get("WWW-Authenticate")?t.then(function(t){t=ti(t,a);return t.stepUp=!0,Promise.reject(t)}):t.then(function(e){return Promise.reject(ti(e,a))})}).then(function(e){return ti(e,a)}));case 4:case"end":return n.stop()}},n)}),new(u=u||Promise)(function(e,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):((n=t.value)instanceof u?n:new u(function(e){e(n)})).then(r,i)}a((c=c.apply(n,[])).next())});var n,u,c}}function Io(e,s){var n=jo,o=(a=function(e){var t,n=[],r={},o={},i=Ao(e=Array.isArray(e)?e:[e]);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=function(e){var t,n,r={},o=[],i={};if(!e.value)return o.push(e),{defaultParamsForAction:r,neededParamsForAction:o,immutableParamsForAction:i};var a,s=Ao(e.value);try{for(s.s();!(a=s.n()).done;){var u=a.value;!1!==u.mutable?(o.push(u),null!==(t=u.value)&&void 0!==t&&t&&(r[u.name]=u.value)):i[u.name]=null!==(n=u.value)&&void 0!==n?n:""}}catch(e){s.e(e)}finally{s.f()}return{defaultParamsForAction:r,neededParamsForAction:o,immutableParamsForAction:i}}(a),u=s.defaultParamsForAction,c=s.neededParamsForAction,l=s.immutableParamsForAction;n.push(c),r[a.name]=u,o[a.name]=l}}catch(e){i.e(e)}finally{i.f()}return{defaultParams:r,neededParams:n,immutableParams:o}}(e)).defaultParams,i=a.neededParams,a=a.immutableParams;return(s=n({actionDefinition:e,defaultParamsForAction:o[e.name],immutableParamsForAction:a[e.name],toPersist:s})).neededParams=i,s}function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function No(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Lo(e,t,n){return(Lo=No()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);o=new(Function.bind.apply(e,o));return n&&Do(o,n.prototype),o}).apply(null,arguments)}function Fo(e){var t="function"==typeof Map?new Map:void 0;return(Fo=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Lo(e,arguments,Uo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Do(r,e)})(e)}function Ho(e){return function(e){if(Array.isArray(e))return qo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){if(e){if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vo=Object.prototype.hasOwnProperty;function Wo(e,t){return(e=e.slice()).push(t),e}function Go(e,t){return(t=t.slice()).unshift(e),t}var Jo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(o,Fo(Error));var t,n,r=(t=o,n=No(),function(){var o,r=Uo(t);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n?(o=Uo(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e){var t;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return o}();function zo(e,s,n,r,o){if(!(this instanceof zo))try{return new zo(e,s,n,r,o)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(o=r,r=n,n=s,s=e,e=null);var i=e&&"object"===Mo(e);if(this.json=(e=e||{}).json||n,this.path=e.path||s,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!Vo.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){s={path:i?e.path:s};i?"json"in e&&(s.json=e.json):s.json=n;s=this.evaluate(s);if(!s||"object"!==Mo(s))throw new Jo(s);return s}}zo.prototype.evaluate=function(c,t,l,r){var o=this,i=this.parent,a=this.parentProperty,s=this.flatten,u=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,l=l||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,(c=c||this.path)&&"object"===Mo(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Vo.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=c.json,s=Vo.call(c,"flatten")?c.flatten:s,this.currResultType=Vo.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=Vo.call(c,"sandbox")?c.sandbox:this.currSandbox,u=Vo.call(c,"wrap")?c.wrap:u,this.currPreventEval=Vo.call(c,"preventEval")?c.preventEval:this.currPreventEval,l=Vo.call(c,"callback")?c.callback:l,this.currOtherTypeCallback=Vo.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,i=Vo.call(c,"parent")?c.parent:i,a=Vo.call(c,"parentProperty")?c.parentProperty:a,c=c.path}if(i=i||null,a=a||null,((c=Array.isArray(c)?zo.toPathString(c):c)||""===c)&&t){c=zo.toPathArray(c);"$"===c[0]&&1<c.length&&c.shift(),this._hasParentSelector=null;l=this._trace(c,t,["$"],i,a,l).filter(function(e){return e&&!e.isParentSelector});return l.length?u||1!==l.length||l[0].hasArrExpr?l.reduce(function(e,n){n=o._getPreferredOutput(n);return s&&Array.isArray(n)?e=e.concat(n):e.push(n),e},[]):this._getPreferredOutput(l[0]):u?[]:void 0}},zo.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:zo.toPathArray(e.path);return e.pointer=zo.toPointer(n),e.path="string"==typeof e.path?e.path:zo.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return zo.toPathString(e[t]);case"pointer":return zo.toPointer(e.path);default:throw new TypeError("Unknown result type")}},zo.prototype._handleCallback=function(e,t,n){var r;t&&(r=this._getPreferredOutput(e),e.path="string"==typeof e.path?e.path:zo.toPathString(e.path),t(r,n,e))},zo.prototype._trace=function(e,t,n,r,o,i,a,s){var c=this;if(!e.length)return this._handleCallback(y={path:n,value:t,parent:r,parentProperty:o,hasArrExpr:a},i,"value"),y;var l=e[0],f=e.slice(1),h=[];function p(e){Array.isArray(e)?e.forEach(function(e){h.push(e)}):h.push(e)}if(("string"!=typeof l||s)&&t&&Vo.call(t,l))p(this._trace(f,t[l],Wo(n,l),t,l,i,a));else if("*"===l)this._walk(l,f,t,n,r,o,i,function(e,t,n,r,o,i,a,s){p(c._trace(Go(e,n),r,o,i,a,s,!0,!0))});else if(".."===l)p(this._trace(f,t,n,r,o,i,a)),this._walk(l,f,t,n,r,o,i,function(e,t,n,r,o,i,a,s){"object"===Mo(r[e])&&p(c._trace(Go(t,n),r[e],Wo(o,e),r,e,s,!0))});else{if("^"===l)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:f,isParentSelector:!0};if("~"===l)return y={path:Wo(n,l),value:o,parent:r,parentProperty:null},this._handleCallback(y,i,"property"),y;if("$"===l)p(this._trace(f,t,n,null,null,i,a));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(l))p(this._slice(l,f,t,n,r,o,i));else if(0===l.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(l,f,t,n,r,o,i,function(e,t,n,r,o,i,a,s){c._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,o,i,a)&&p(c._trace(Go(e,n),r,o,i,a,s,!0))})}else if("("===l[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(Go(this._eval(l,t,n[n.length-1],n.slice(0,-1),r,o),f),t,n,r,o,i,a))}else if("@"===l[0]){var d=!1,v=l.slice(1,-2);switch(v){case"scalar":t&&["object","function"].includes(Mo(t))||(d=!0);break;case"boolean":case"string":case"undefined":case"function":Mo(t)===v&&(d=!0);break;case"integer":!Number.isFinite(t)||t%1||(d=!0);break;case"number":Number.isFinite(t)&&(d=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(d=!0);break;case"object":t&&Mo(t)===v&&(d=!0);break;case"array":Array.isArray(t)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(t,n,r,o);break;case"null":null===t&&(d=!0);break;default:throw new TypeError("Unknown value type "+v)}if(d)return this._handleCallback(y={path:n,value:t,parent:r,parentProperty:o},i,"value"),y}else if("`"===l[0]&&t&&Vo.call(t,l.slice(1))){var y=l.slice(1);p(this._trace(f,t[y],Wo(n,y),t,y,i,a,!0))}else if(l.includes(",")){var g,m=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ko(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(l.split(","));try{for(m.s();!(g=m.n()).done;){var k=g.value;p(this._trace(Go(k,f),t,n,r,o,i,!0))}}catch(e){m.e(e)}finally{m.f()}}else!s&&t&&Vo.call(t,l)&&p(this._trace(f,t[l],Wo(n,l),t,l,i,a,!0))}if(this._hasParentSelector)for(var b=0;b<h.length;b++){var w=h[b];if(w&&w.isParentSelector){var T=this._trace(w.expr,t,w.path,r,o,i,a);if(Array.isArray(T)){h[b]=T[0];for(var S=T.length,x=1;x<S;x++)b++,h.splice(b,0,T[x])}else h[b]=T}}return h},zo.prototype._walk=function(e,t,n,r,o,i,a,s){if(Array.isArray(n))for(var u=n.length,c=0;c<u;c++)s(c,e,t,n,r,o,i,a);else n&&"object"===Mo(n)&&Object.keys(n).forEach(function(u){s(u,e,t,n,r,o,i,a)})},zo.prototype._slice=function(l,t,n,r,o,i,a){if(Array.isArray(n)){for(var s=n.length,u=l.split(":"),c=u[2]&&Number.parseInt(u[2])||1,l=u[0]&&Number.parseInt(u[0])||0,f=u[1]&&Number.parseInt(u[1])||s,l=l<0?Math.max(0,l+s):Math.min(s,l),f=f<0?Math.max(0,f+s):Math.min(s,f),h=[],p=l;p<f;p+=c)this._trace(Go(p,t),n,r,o,i,a,!0).forEach(function(e){h.push(e)});return h}},zo.prototype._eval=function(e,t,n,r,o,i){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=i,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=o,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=zo.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},zo.cache={},zo.toPathString=function(e){for(var t=e,n=t.length,r="$",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+=/^[\*0-9]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']");return r},zo.toPointer=function(e){for(var t=e,n=t.length,r="",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+="/"+t[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},zo.toPathArray=function(e){var t=zo.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(e,t){return"[#"+(n.push(t)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(e,t){return";"+t.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e});return t[e]=r,t[e].concat()},zo.prototype.vm={runInNewContext:function(s,t){var n=Object.keys(t),a=[];!function(e,n){for(var a,o=e.length,i=0;i<o;i++)a=e[i],"function"==typeof t[a]&&n.push(e.splice(i--,1)[0])}(n,a);var o=n.map(function(e,n){return t[e]}),a=a.reduce(function(e,n){var r=t[n].toString();return"var "+n+"="+(r=!/function/.test(r)?"function "+r:r)+";"+e},""),a=(s=(s=!/(["'])use strict\1/.test(s=a+s)&&!n.includes("arguments")?"var arguments = undefined;"+s:s).replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),s=-1<a?s.slice(0,a+1)+" return "+s.slice(a+1):" return "+s;return Lo(Function,Ho(n).concat([s])).apply(void 0,Ho(o))}};var Qo=Object.fromEntries(["remediation","context"].map(function(e){return[e,!0]})),Yo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={},r={};return Object.keys(e).filter(function(e){return!Qo[e]}).forEach(function(o){var a,s,u;"object"===l(e[o])&&e[o]?e[o].rel?n[e[o].name]=Io(e[o],t):(a=(u=e[o]).value,s=u.type,u=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}(u,["value","type"]),r[o]=Object.assign({type:s},u),"object"===s?(r[o].value={},Object.entries(a).forEach(function(a){var s=tt(a,2),a=s[0],s=s[1];s.rel?n["".concat(o,"-").concat(a.name||a)]=Io(s,t):r[o].value[a]=s})):r[o].value=a):r[o]=e[o]}),{context:r,actions:n}},Xo=function e(t,n){Object.keys(n).forEach(function(r){if("relatesTo"===r){var i=Array.isArray(n[r])?n[r][0]:n[r];if("string"==typeof i){i=zo({path:i,json:t})[0];if(i)return void(n[r]=i)}}Array.isArray(n[r])&&n[r].forEach(function(n){return e(t,n)})})},Zo=function(e,r){r=function(e,argument_1){var t=1<arguments.length&&void 0!==argument_1?argument_1:{};return Object.fromEntries(e.map(function(e){return[e.name,Io(e,t)]}))}([e],r)[e.name];return Object.assign(Object.assign({},e),{action:r})},ei=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function ti(a,t){var n=a,s=function(e,i){var n=1<arguments.length&&void 0!==i?i:{},i=(null===(o=e.remediation)||void 0===o?void 0:o.value)||[];i.forEach(function(t){return Xo(e,t)});var o=i.map(function(e){return Zo(e,n)}),i=Yo(e,n);return{remediations:o,context:i.context,actions:i.actions}}(a,t),i=s.remediations,a=s.context,s=s.actions;return{proceed:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ei(this,void 0,void 0,G().mark(function n(){var r;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=i.find(function(t){return t.name===e})){n.next=3;break}return n.abrupt("return",Promise.reject("Unknown remediation choice: [".concat(e,"]")));case 3:return n.abrupt("return",r.action(t));case 4:case"end":return n.stop()}},n)}))},neededToProceed:nr(i),actions:s,context:a,rawIdxState:n,interactionCode:null===(n=n.successWithInteractionCode)||void 0===n?void 0:n.value.find(function(e){return"interaction_code"===e.name}).value,toPersist:t}}var ni={makeIdxState:ti},ri=function(e){switch(e){case"1.0.0":return ni;case void 0:case null:throw new Error("Api version is required");default:throw new Error("Unknown api version: ".concat(e,".  Use an exact semver version."))}};function oi(e){if(!e)throw new Error("version is required");if((null!=e?e:"").replace(/[^0-9a-zA-Z._-]/,"")!==e||!e)throw new Error("invalid version supplied - version is required and uses semver syntax");ri(e)}function ai(e){var i=e.withCredentials,a=e.domain,s=e.interactionHandle,u=e.stateHandle,c=e.version,t=this,r=void 0,o=G().mark(function e(){var t,n,r,o;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return oi(c),t="".concat(a,"/idp/idx/introspect"),n=u?{stateToken:u}:{interactionHandle:s},r={"content-type":"application/ion+json; okta-version=".concat(c),accept:"application/ion+json; okta-version=".concat(c)},o=!1===i?"omit":"include",e.abrupt("return",_o(t,{credentials:o,headers:r,body:JSON.stringify(n)}).then(function(e){return e.ok?e.json():function(e){return e.json().then(function(e){return Promise.reject(e)})}(e)}));case 6:case"end":return e.stop()}},e)});return new(r=r||Promise)(function(e,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}u((o=o.apply(t,[])).next())})}function ui(e){var i=e.withCredentials,a=e.clientId,s=e.baseUrl,u=e.scopes,c=void 0===u?["openid","email"]:u,l=e.redirectUri,f=e.codeChallenge,h=e.codeChallengeMethod,p=e.state,d=e.activationToken,v=e.recoveryToken,y=e.clientSecret,t=this,r=void 0,o=G().mark(function e(){var t,r,o,u;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(s,"/v1/interact"),u={client_id:a,scope:c.join(" "),redirect_uri:l,code_challenge:f,code_challenge_method:h,state:p},d&&(u.activation_token=d),v&&(u.recovery_token=v),y&&(u.client_secret=y),r=Object.entries(u).map(function(n){var r=tt(n,2),n=r[0],r=r[1];return"".concat(n,"=").concat(encodeURIComponent(r))}).join("&"),u=!(o={"content-type":"application/x-www-form-urlencoded"})===i?"omit":"include",e.abrupt("return",_o(t,{credentials:u,headers:o,body:r}).then(function(e){return e.ok?e.json():function(e){return e.json().then(function(e){return Promise.reject(e)})}(e)}).then(function(e){return e.interaction_handle}));case 9:case"end":return e.stop()}},e)});return new(r=r||Promise)(function(e,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}u((o=o.apply(t,[])).next())})}var rs=ri("1.0.0").makeIdxState,fi={start:function(e){var i=e.withCredentials,a=e.clientId,s=e.domain,u=e.issuer,c=e.stateHandle,l=e.interactionHandle,f=e.version,h=e.redirectUri,p=e.state,d=e.scopes,v=e.codeChallenge,y=e.codeChallengeMethod,g=e.activationToken,m=e.recoveryToken,t=this,r=void 0,o=G().mark(function e(){var t,n,o,b,T;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=null==u?void 0:u.replace(/\/+$/,""),t=0<(null==u?void 0:u.indexOf("/oauth2"))?u:u+"/oauth2",n={baseUrl:t,clientId:a,state:p,withCredentials:i},s||u){e.next=5;break}return e.abrupt("return",Promise.reject({error:"issuer is required"}));case 5:if(c||a){e.next=7;break}return e.abrupt("return",Promise.reject({error:"clientId is required"}));case 7:if(c||h){e.next=9;break}return e.abrupt("return",Promise.reject({error:"redirectUri is required"}));case 9:if(c||v&&y){e.next=11;break}return e.abrupt("return",Promise.reject({error:"PKCE params (codeChallenge, codeChallengeMethod) are required"}));case 11:if(s=s||new URL(u).origin,oi(f),c||l){e.next=26;break}return e.prev=14,o={withCredentials:i,clientId:a,baseUrl:t,scopes:d,redirectUri:h,codeChallenge:v,codeChallengeMethod:y,state:p,activationToken:g,recoveryToken:m},e.next=18,ui(o);case 18:o=e.sent,l=o,n.interactionHandle=l,e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(14),e.abrupt("return",Promise.reject({error:e.t0}));case 26:return e.prev=26,T=ri(f),b=T.makeIdxState,e.next=30,ai({withCredentials:i,domain:s,interactionHandle:l,stateHandle:c,version:f}).catch(function(e){return Promise.reject({error:"introspect call failed",details:b(e,n)})});case 30:return T=e.sent,T=b(T,n),e.abrupt("return",T);case 35:return e.prev=35,e.t1=e.catch(26),e.abrupt("return",Promise.reject({error:e.t1}));case 38:case"end":return e.stop()}},e,null,[[14,23],[26,35]])});return new(r=r||Promise)(function(e,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}u((o=o.apply(t,[])).next())})},introspect:ai,interact:ui,makeIdxState:rs,client:Eo,LATEST_SUPPORTED_IDX_API_VERSION:"1.0.0"},hi=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function pi(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return hi(this,void 0,void 0,G().mark(function n(){var o,s,c,f,d;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.token.prepareTokenParams(t);case 2:return f=n.sent,o=Bt(e,f),d=Object.assign(Object.assign({},e.options),t),c=d.flow,s=void 0===c?"default":c,f=d.withCredentials,c=void 0===f||f,f=d.activationToken,f=void 0===f?void 0:f,d=d.recoveryToken,d=void 0===d?void 0:d,d=Object.assign(Object.assign({},o),{flow:s,withCredentials:c,activationToken:f,recoveryToken:d}),n.abrupt("return",d);case 7:case"end":return n.stop()}},n)}))}function di(e,n){n=vi(e,n);return!(null==n||!n.interactionHandle)}function vi(e,t){var n;t=N(t),t=Object.assign(Object.assign({},e.options),t);try{n=e.transactionManager.load(t)}catch(e){}if(n)return ki(n,t)?n:void Kn("Saved transaction meta does not match the current configuration. This may indicate that two apps are sharing a storage key.")}function yi(e,t){return hi(this,void 0,void 0,G().mark(function n(){var r;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=N(t),t=Object.assign(Object.assign({},e.options),t),r=vi(e,t))return n.abrupt("return",r);n.next=5;break;case 5:return n.abrupt("return",pi(e,t));case 6:case"end":return n.stop()}},n)}))}function gi(e,t){e.transactionManager.save(t,{muteWarning:!0})}function mi(e){e.transactionManager.clear()}function ki(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return!1!==wi(e,t,["issuer","clientId","redirectUri","state","codeChallenge","codeChallengeMethod","activationToken","recoveryToken"])&&!1!==bi(e,t.flow)}function bi(e,t){return!(t&&"default"!==t&&"proceed"!==t)||t===e.flow}function wi(e,t,n){return!n.some(function(n){var r=t[n];if(r&&r!==e[n])return!0})}var Ti=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Si(e){return{meta:e,interactionHandle:e.interactionHandle,state:e.state}}function xi(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ti(this,void 0,void 0,G().mark(function n(){var r,o,a,s,u,c,l,f,h,p,d,g;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=N(t),null!=(r=vi(e,t))&&r.interactionHandle)return n.abrupt("return",Si(r));n.next=4;break;case 4:return n.next=6,pi(e,Object.assign(Object.assign({},r),t));case 6:return r=n.sent,o=dt(e),a=r.clientId,s=r.redirectUri,u=r.state,c=r.scopes,l=r.withCredentials,f=r.codeChallenge,h=r.codeChallengeMethod,p=r.activationToken,d=r.recoveryToken,g=t.clientSecret||e.options.clientSecret,n.next=12,fi.interact({withCredentials:l,clientId:a,baseUrl:o,scopes:c,state:u,redirectUri:s,codeChallenge:f,codeChallengeMethod:h,activationToken:p,recoveryToken:d,clientSecret:g});case 12:return g=n.sent,g=Object.assign(Object.assign({},r),{interactionHandle:g,withCredentials:l,state:u,scopes:c,recoveryToken:d,activationToken:p}),gi(e,g),n.abrupt("return",Si(g));case 16:case"end":return n.stop()}},n)}))}var Oi=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Ei(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Oi(this,void 0,void 0,G().mark(function n(){var r,i,a;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.transactionManager.loadIdxResponse()){n.next=17;break}return a=t.version||de,i=vt(e),n.prev=4,n.next=7,fi.introspect(Object.assign(Object.assign({domain:i},t),{version:a}));case 7:r=n.sent,n.next=17;break;case 10:if(n.prev=10,n.t0=n.catch(4),!co(n.t0)){n.next=16;break}r=n.t0,n.next=17;break;case 16:throw n.t0;case 17:return a=t.withCredentials,n.abrupt("return",fi.makeIdxState(r,{withCredentials:a}));case 19:case"end":return n.stop()}},n,null,[[4,10]])}))}function _i(e){return e.charAt(0).toUpperCase()+e.substring(1)}function Ai(e){return e.value.find(function(e){return"authenticator"===e.name})}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pi=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.values=Object.assign({},n),this.formatAuthenticators(),this.remediation=t}return V(e,[{key:"formatAuthenticators",value:function(){var e=this;this.values.authenticators=this.values.authenticators||[],this.values.authenticator&&(this.values.authenticators.some(function(t){return"string"==typeof t?t===e.values.authenticator:t.key===e.values.authenticator})||this.values.authenticators.push({key:this.values.authenticator})),this.values.authenticators=this.values.authenticators.map(function(e){return"string"==typeof e?{key:e}:e}),this.values.authenticatorsData=this.values.authenticators.reduce(function(e,t){return"object"===l(t)&&1<Object.keys(t).length&&e.push(t),e},this.values.authenticatorsData||[])}},{key:"getName",value:function(){return this.remediation.name}},{key:"canRemediate",value:function(){var t,n=this;return!!this.map&&!(null===(t=this.remediation.value)||void 0===t?void 0:t.reduce(function(e,t){return t.required&&e.push(t.name),e},[])).find(function(e){return!n.hasData(e)})}},{key:"getData",value:function(e){var n,r=this;if(!e)return(null===(n=this.remediation.value)||void 0===n?void 0:n.map(function(e){return e.name})).reduce(function(e,t){return e[t]=r.getData(t),e},{});if("function"==typeof this["map".concat(_i(e))])return this["map".concat(_i(e))](this.remediation.value.find(function(t){return t.name===e}));if(!this.map)return this.values[e];var i=this.map[e];if(!i)return this.values[e];for(var a=0;a<i.length;a++){var s=this.values[i[a]];if(s)return s}}},{key:"hasData",value:function(e){var t=this.getData(e);return"object"===l(t)?!!Object.keys(t).find(function(e){return!!t[e]}):!!t}},{key:"getNextStep",value:function(e){var t=this.getName(),n=this.getInputs(),r=this.getAuthenticator(),o=null==r?void 0:r.type;return Object.assign(Object.assign({name:t,inputs:n},o&&{type:o}),r&&{authenticator:r})}},{key:"getInputs",value:function(){var e=this;return this.map?Object.keys(this.map).reduce(function(t,n){var r,o=e.remediation.value.find(function(e){return e.name===n});if(!o)return t;var s,i=e.map[n],a=o.type;if("function"==typeof e["getInput".concat(_i(n))]?r=e["getInput".concat(_i(n))](o):"object"!==a&&(s=1===i.length?i[0]:i.find(function(t){return Object.keys(e.values).includes(t)}))&&(r=Object.assign(Object.assign({},o),{name:s})),!r)throw new b("Missing custom getInput".concat(_i(n)," method in Remediator: ").concat(e.getName()));return Array.isArray(r)?r.forEach(function(e){return t.push(e)}):t.push(r),t},[]):[]}},{key:"getValuesAfterProceed",value:function(){var e,t=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.getInputs());try{for(t.s();!(e=t.n()).done;){var n=e.value;delete this.values[n.name]}}catch(e){t.e(e)}finally{t.f()}return this.values}},{key:"getAuthenticator",value:function(){var e;return null===(e=this.remediation.relatesTo)||void 0===e?void 0:e.value}}],[{key:"getMessages",value:function(n){if(n.value)return null===(n=null===(n=n.value[0])||void 0===n?void 0:n.form)||void 0===n?void 0:n.value.reduce(function(e,t){return e=t.messages?[].concat(nr(e),nr(t.messages.value)):e},[])}}]),e}();function Ci(e,t,n){return(Ci="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(r,o,n){r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(r,o);if(r){o=Object.getOwnPropertyDescriptor(r,o);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ji(t){s(this,ji),this.meta=t}var Ii=function(){c(o,ji);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canVerify",value:function(e){return!(!e.verificationCode&&!e.otp)}},{key:"mapCredentials",value:function(e){return{passcode:e.verificationCode||e.otp}}},{key:"getInputs",value:function(e){var t;return Object.assign(Object.assign({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{name:"verificationCode",type:"string",required:e.required})}}]),o}(),Mi=function(){c(o,Ii);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"mapCredentials",value:function(e){return{totp:e.verificationCode}}}]),o}(),Ui=function(){c(o,ji);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canVerify",value:function(e){return!!e.password}},{key:"mapCredentials",value:function(e){return{passcode:e.password}}},{key:"getInputs",value:function(e){var t;return Object.assign(Object.assign({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{name:"password",type:"string",required:e.required})}}]),o}(),Di=function(){c(o,ji);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canVerify",value:function(r){var t=r.questionKey,n=r.question,r=r.answer;return!(!t||!r)||!(!n||!r)}},{key:"mapCredentials",value:function(e){var t=e.questionKey,n=e.question;return{questionKey:n?"custom":t,question:n,answer:e.answer}}},{key:"getInputs",value:function(){return[{name:"questionKey",type:"string",require:!0},{name:"question",type:"string",label:"Create a security question"},{name:"answer",type:"string",label:"Answer",required:!0}]}}]),o}(),Ni=function(){c(o,ji);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canVerify",value:function(e){return!!e.answer}},{key:"mapCredentials",value:function(e){return{questionKey:this.meta.contextualData.enrolledQuestion.questionKey,answer:e.answer}}},{key:"getInputs",value:function(){return[{name:"answer",type:"string",label:"Answer",required:!0}]}}]),o}(),Li=function(){c(o,ji);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canVerify",value:function(n){var t=n.clientData,n=n.attestation;return!(!t||!n)}},{key:"mapCredentials",value:function(e){return{clientData:e.clientData,attestation:e.attestation}}},{key:"getInputs",value:function(){return[{name:"clientData",type:"string",required:!0,visible:!1,label:"Client Data"},{name:"attestation",type:"string",required:!0,visible:!1,label:"Attestation"}]}}]),o}(),Fi=function(){c(o,ji);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canVerify",value:function(r){var t=r.clientData,n=r.authenticatorData,r=r.signatureData;return!!(t&&n&&r)}},{key:"mapCredentials",value:function(e){return{authenticatorData:e.authenticatorData,clientData:e.clientData,signatureData:e.signatureData}}},{key:"getInputs",value:function(){return[{name:"authenticatorData",type:"string",label:"Authenticator Data",required:!0,visible:!1},{name:"clientData",type:"string",label:"Client Data",required:!0,visible:!1},{name:"signatureData",type:"string",label:"Signature Data",required:!0,visible:!1}]}}]),o}();var Hi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,o),(t=r.call(this,e,t)).map={credentials:[]},t.authenticator=function(r){var n,o=(null==(r=r.relatesTo)?void 0:r.value)||{};switch(o.key){case Kt.OKTA_PASSWORD:return new Ui(o);case Kt.SECURITY_QUESTION:return new(null!==(n=o.contextualData)&&void 0!==n&&n.enrolledQuestion?Ni:Di)(o);case Kt.OKTA_VERIFY:return new Mi(o);case Kt.WEBAUTHN:return new(null!==(n=o.contextualData)&&void 0!==n&&n.challengeData?Fi:Li)(o);default:return new Ii(o)}}(e),t}return V(o,[{key:"getNextStep",value:function(r){var n=Ci(p(o.prototype),"getNextStep",this).call(this,r),r=null===(r=null==r?void 0:r.authenticatorEnrollments)||void 0===r?void 0:r.value;return Object.assign(Object.assign({},n),{authenticatorEnrollments:r})}},{key:"canRemediate",value:function(){return this.authenticator.canVerify(this.values)}},{key:"mapCredentials",value:function(){return this.authenticator.mapCredentials(this.values)}},{key:"getInputCredentials",value:function(e){return this.authenticator.getInputs(e)}}]),o}(),Ki=function(){c(o,Hi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return o}();function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ki.remediationName="enroll-authenticator";var Vi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canRemediate",value:function(){return Boolean(this.values.startPolling)}},{key:"getNextStep",value:function(e){var t=Ci(p(o.prototype),"getNextStep",this).call(this,e),n=this.getAuthenticator();return!n&&null!=e&&e.currentAuthenticator&&(n=e.currentAuthenticator.value),Object.assign(Object.assign({},t),{authenticator:n,poll:{required:!0,refresh:this.remediation.refresh}})}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter(function(e){return"startPolling"!==e}).reduce(function(t,n){return Object.assign(Object.assign({},t),qi({},n,e.values[n]))},{})}}]),o}();Vi.remediationName="enroll-poll";var Wi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canRemediate",value:function(){return Boolean(this.values.channel)}},{key:"getNextStep",value:function(r){var t=Ci(p(o.prototype),"getNextStep",this).call(this),n=this.getChannels(),r=r.currentAuthenticator.value;return Object.assign(Object.assign(Object.assign({},t),n&&{options:n}),{authenticator:r})}},{key:"getChannels",value:function(){var e;return null===(e=Ai(this.remediation).value.form.value.find(function(e){return"channel"===e.name}))||void 0===e?void 0:e.options}},{key:"getData",value:function(){return{authenticator:{id:this.remediation.value[0].value.form.value[0].value,channel:this.values.channel},stateHandle:this.values.stateHandle}}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter(function(e){return"channel"!==e}).reduce(function(t,n){return Object.assign(Object.assign({},t),qi({},n,e.values[n]))},{})}}]),o}();Wi.remediationName="select-enrollment-channel";var Gi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={email:[],phoneNumber:[]},e}return V(o,[{key:"getInputEmail",value:function(){return[{name:"email",type:"string",required:!0,label:"Email"}]}},{key:"getInputPhoneNumber",value:function(){return[{name:"phoneNumber",type:"string",required:!0,label:"Phone Number"}]}},{key:"canRemediate",value:function(){return Boolean(this.values.email||this.values.phoneNumber)}},{key:"getNextStep",value:function(n){var t=Ci(p(o.prototype),"getNextStep",this).call(this),n=n.currentAuthenticator.value;return Object.assign(Object.assign({},t),{authenticator:n})}},{key:"getData",value:function(){return{stateHandle:this.values.stateHandle,email:this.values.email,phoneNumber:this.values.phoneNumber}}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter(function(e){return!["email","phoneNumber"].includes(e)}).reduce(function(t,n){return Object.assign(Object.assign({},t),qi({},n,e.values[n]))},{})}}]),o}();Gi.remediationName="enrollment-channel-data";var Ji=function(){c(o,Hi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return o}();Ji.remediationName="challenge-authenticator";var zi=function(){c(o,Vi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return o}();zi.remediationName="challenge-poll";var $i=function(){c(o,Hi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return o}();$i.remediationName="reset-authenticator";var Qi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={userProfile:[]},e}return V(o,[{key:"canRemediate",value:function(){var e=this.getData().userProfile;return this.remediation.value.find(function(e){return"userProfile"===e.name}).form.value.reduce(function(t,n){return t=n.required?t&&!!e[n.name]:t},!0)}},{key:"mapUserProfile",value:function(e){var t=this;return e.form.value.map(function(e){return e.name}).reduce(function(e,n){return t.values[n]?Object.assign(Object.assign({},e),qi({},n,t.values[n])):e},{})}},{key:"getInputUserProfile",value:function(e){return nr(e.form.value)}},{key:"getErrorMessages",value:function(e){return e.value[0].form.value.reduce(function(e,t){return t.messages&&e.push(t.messages.value[0].message),e},[])}}]),o}();Qi.remediationName="enroll-profile";var Yi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={identifier:["username"],credentials:[],rememberMe:["rememberMe"]},e}return V(o,[{key:"canRemediate",value:function(){return!!this.getData().identifier}},{key:"mapCredentials",value:function(){return{passcode:this.values.password}}},{key:"getInputCredentials",value:function(e){return Object.assign(Object.assign({},e.form.value[0]),{name:"password",required:e.required})}}]),o}();Yi.remediationName="identify";var Xi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={credentials:[]},e}return V(o,[{key:"mapCredentials",value:function(){return{passcode:this.values.newPassword}}},{key:"getInputCredentials",value:function(e){var t="password"===this.getAuthenticator().type?"newPassword":"verificationCode";return Object.assign(Object.assign({},e.form.value[0]),{name:t})}}]),o}();Xi.remediationName="reenroll-authenticator";var Zi=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canRemediate",value:function(){return!1}},{key:"getNextStep",value:function(){var e=this.remediation;return{name:e.name,type:e.type,idp:e.idp,href:e.href}}}]),o}();function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Zi.remediationName="redirect-idp";var ta=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={authenticator:[]},e}return V(o,[{key:"findMatchedOption",value:function(e,t){var n,r,o=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(o.s();!(r=o.n()).done&&"break"!==function(){var e=r.value;if(n=t.find(function(t){return t.relatesTo.key===e.key}))return"break"}(););}catch(e){o.e(e)}finally{o.f()}return n}},{key:"canRemediate",value:function(){var e=this.values.authenticators,t=Ai(this.remediation).options;return!(!e||!e.length||!this.findMatchedOption(e,t))}},{key:"getNextStep",value:function(){var e=Ci(p(o.prototype),"getNextStep",this).call(this),t=Ai(this.remediation).options.map(function(e){return{label:e.label,value:e.relatesTo.key}});return Object.assign(Object.assign({},e),{options:t})}},{key:"mapAuthenticator",value:function(r){var t=this.values.authenticators,r=r.options,r=this.findMatchedOption(t,r);return this.selectedAuthenticator=r.relatesTo,{id:null==(this.selectedOption=r)?void 0:r.value.form.value.find(function(e){return"id"===e.name}).value}}},{key:"getInputAuthenticator",value:function(){return{name:"authenticator",key:"string"}}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Ci(p(o.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticators.filter(function(t){return t.key!==e.selectedAuthenticator.key});return Object.assign(Object.assign({},this.values),{authenticators:t})}}]),o}(),na=function(){c(o,ta);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,o);t=r.call(this,n,t);return(null===(n=Ai(n).options)||void 0===n?void 0:n.some(function(t){t=t.relatesTo;return(null==t?void 0:t.key)===Kt.OKTA_PASSWORD}))&&("recoverPassword"===t.values.flow||t.values.password)&&(t.values.authenticators=[].concat(nr(t.values.authenticators||[]),[{key:Kt.OKTA_PASSWORD}])),t}return o}();na.remediationName="select-authenticator-authenticate";var ra=function(){c(o,ta);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return o}();ra.remediationName="select-authenticator-enroll";var oa=function(){c(o,ta);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={authenticator:[],identifier:["username"]},e}return V(o,[{key:"canRemediate",value:function(){return!!this.getData("identifier")&&Ci(p(o.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(a){var i=Ci(p(o.prototype),"mapAuthenticator",this).call(this,a),a=null===(a=this.selectedOption)||void 0===a?void 0:a.value.form.value.find(function(e){return"methodType"===e.name}),s=this.values.methodType||(null==a?void 0:a.value)||(null===(s=null===(s=null==a?void 0:a.options)||void 0===s?void 0:s[0])||void 0===s?void 0:s.value);return s?Object.assign(Object.assign({},i),{methodType:s}):i}},{key:"getInputUsername",value:function(){return{name:"username",key:"string"}}}]),o}();oa.remediationName="select-authenticator-unlock-account";var ia=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"canRemediate",value:function(){return!0}}]),o}();ia.remediationName="select-enroll-profile";var aa=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,o),(t=r.call(this,e,t)).map={authenticator:[]},t.authenticator=t.getAuthenticator(),t.formatAuthenticatorData(),t}return V(o,[{key:"formatAuthenticatorData",value:function(){var t,e=this;this.getAuthenticatorData()?this.values.authenticatorsData=this.values.authenticatorsData.map(function(t){return t.key===e.authenticator.key?e.mapAuthenticatorDataFromValues(t):t}):(t=this.mapAuthenticatorDataFromValues())&&this.values.authenticatorsData.push(t)}},{key:"getAuthenticatorData",value:function(){var e=this;return this.values.authenticatorsData.find(function(t){return t.key===e.authenticator.key})}},{key:"canRemediate",value:function(){var e=this;return this.values.authenticatorsData.some(function(t){return t.key===e.authenticator.key})}},{key:"getNextStep",value:function(){var e=Ci(p(o.prototype),"getNextStep",this).call(this),t=this.getMethodTypes();return Object.assign(Object.assign({},e),t&&{options:t})}},{key:"mapAuthenticatorDataFromValues",value:function(e){var n=this.values.methodType,n=Object.assign(Object.assign({key:this.authenticator.key},e&&e),n&&{methodType:n});return n.methodType?n:null}},{key:"getAuthenticatorFromRemediation",value:function(){return this.remediation.value.find(function(e){return"authenticator"===e.name})}},{key:"getMethodTypes",value:function(){var e;return null===(e=this.getAuthenticatorFromRemediation().form.value.find(function(e){return"methodType"===e.name}))||void 0===e?void 0:e.options}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Ci(p(o.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticatorsData.filter(function(t){return t.key!==e.authenticator.key});return Object.assign(Object.assign({},this.values),{authenticatorsData:t})}}]),o}(),sa=function(){c(o,aa);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,o),(t=r.call(this,e,t)).shouldProceedWithEmailAuthenticator=1===t.authenticator.methods.length&&"email"===t.authenticator.methods[0].type,t}return V(o,[{key:"canRemediate",value:function(){return!!this.shouldProceedWithEmailAuthenticator||Ci(p(o.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(){var e,n=this.getAuthenticatorData(),t=this.getAuthenticatorFromRemediation();return this.shouldProceedWithEmailAuthenticator?null===(e=t.form)||void 0===e?void 0:e.value.reduce(function(e,t){if(t.value)e[t.name]=t.value;else{if(!t.options)throw new b("Unsupported authenticator data type: ".concat(t));e[t.name]=t.options[0].value}return e},{}):{id:t.form.value.find(function(e){return"id"===e.name}).value,enrollmentId:null===(t=t.form.value.find(function(e){return"enrollmentId"===e.name}))||void 0===t?void 0:t.value,methodType:null==n?void 0:n.methodType}}},{key:"getInputAuthenticator",value:function(){var e=this.getAuthenticatorFromRemediation(),t=e.form.value.find(function(e){return"methodType"===e.name});return t&&t.options?{name:"methodType",type:"string",required:!0}:nr(e.form.value)}}]),o}();sa.remediationName="authenticator-verification-data";var ua=function(){c(o,aa);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){return s(this,o),r.apply(this,arguments)}return V(o,[{key:"mapAuthenticator",value:function(){var e=this.getAuthenticatorData();return{id:Ai(this.remediation).form.value.find(function(e){return"id"===e.name}).value,methodType:e.methodType,phoneNumber:e.phoneNumber}}},{key:"getInputAuthenticator",value:function(){return[{name:"methodType",type:"string",required:!0},{name:"phoneNumber",type:"string",required:!0,label:"Phone Number"}]}},{key:"mapAuthenticatorDataFromValues",value:function(e){e=Ci(p(o.prototype),"mapAuthenticatorDataFromValues",this).call(this,e);var t=this.values.phoneNumber;return(e=Object.assign(Object.assign({},e&&e),t&&{phoneNumber:t})).phoneNumber&&e.methodType?e:null}}]),o}();ua.remediationName="authenticator-enrollment-data";var ca=function(){c(o,Pi);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(){var e;return s(this,o),(e=r.apply(this,arguments)).map={skip:["skip"]},e}return V(o,[{key:"canRemediate",value:function(){return!!this.values.skip}}]),o}();function la(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fa(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(n){var t=n.neededToProceed,n=n.interactionCode;return!t.length&&!n}function da(e){var n=[],i=e.rawIdxState,o=e.neededToProceed,i=null===(i=i.messages)||void 0===i?void 0:i.value.map(function(e){return e});i&&(n=[].concat(nr(n),nr(i)));var a,s=la(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=Pi.getMessages(u);c&&(n=[].concat(nr(n),nr(c)))}}catch(e){s.e(e)}finally{s.f()}return n}function va(r,o){var n=r.getNextStep(o.context),r=o.neededToProceed.some(function(e){return"skip"===e.name}),o=Object.keys(o.actions).some(function(e){return e.includes("resend")});return Object.assign(Object.assign(Object.assign({},n),r&&{canSkip:r}),o&&{canResend:o})}function ya(o,t){var i=lo(o)?o:null;if(!i)throw o;var r=pa(i),o=da(i);if(r)return{terminal:r,messages:o};i=t&&va(t,i);return Object.assign({messages:o},i&&{nextStep:i})}function ka(e,t,n){return r=this,i=void 0,a=G().mark(function r(){var i,s,u,c,f,d,v,y,g,m,T,S;return G().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.neededToProceed,c=e.interactionCode,s=n.remediators,u=n.flow,c)return r.abrupt("return",{idxResponse:e});r.next=4;break;case 4:if(c=pa(e),f=da(e),c)return r.abrupt("return",{terminal:c,messages:f});r.next=8;break;case 8:if(g=function(e,t){return Object.keys(t.actions).find(function(t){return!!e.resend&&t.includes("-resend")})}(t,e),!(g=[].concat(nr(n.actions||[]),nr(g?[g]:[])))){r.next=30;break}d=la(g),r.prev=12,y=G().mark(function r(){var o,a;return G().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=v.value,a=function(e){return e.resend=void 0,e}(t),"function"==typeof e.actions[o])return r.prev=3,r.next=6,e.actions[o]();r.next=15;break;case 6:e=r.sent,r.next=12;break;case 9:return r.prev=9,r.t0=r.catch(3),r.abrupt("return",{v:ya(r.t0,s)});case 12:if("cancel"===o)return r.abrupt("return",{v:{canceled:!0}});r.next=14;break;case 14:return r.abrupt("return",{v:ka(e,a,n)});case 15:if(i.find(function(e){return e.name===o}))return r.prev=17,r.next=20,e.proceed(o,{});r.next=27;break;case 20:e=r.sent,r.next=26;break;case 23:return r.prev=23,r.t1=r.catch(17),r.abrupt("return",{v:ya(r.t1,s)});case 26:return r.abrupt("return",{v:ka(e,t,n)});case 27:case"end":return r.stop()}},r,null,[[3,9],[17,23]])}),d.s();case 15:if((v=d.n()).done){r.next=22;break}return r.delegateYield(y(),"t0",17);case 17:if("object"===l(g=r.t0))return r.abrupt("return",g.v);r.next=20;break;case 20:r.next=15;break;case 22:r.next=27;break;case 24:r.prev=24,r.t1=r.catch(12),d.e(r.t1);case 27:return r.prev=27,d.f(),r.finish(27);case 30:if((m=function(e,t,n){var r,o=n.remediators;if(n.step){var i=e.find(function(e){return e.name===n.step});return new o[i.name](i,t)}var a,s=[],u=la(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Object.keys(o).includes(c.name)){if((r=new o[c.name](c,t)).canRemediate())return r;s.push(r)}}}catch(e){u.e(e)}finally{u.f()}return s[0]}(i,t,n))||"default"!==u){r.next=33;break}return r.abrupt("return",{idxResponse:e});case 33:if(m){r.next=35;break}throw new b("\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [".concat(i.reduce(function(e,t){return e?e+" ,"+t.name:t.name},""),"]\n    "));case 35:if(f.length)return T=va(m,e),r.abrupt("return",{nextStep:T,messages:f});r.next=38;break;case 38:if(m.canRemediate()){r.next=41;break}return S=va(m,e),r.abrupt("return",{idxResponse:e,nextStep:S});case 41:return T=m.getName(),S=m.getData(),r.prev=43,r.next=46,e.proceed(T,S);case 46:return e=r.sent,t=m.getValuesAfterProceed(),r.abrupt("return",ka(e,t,n));case 51:return r.prev=51,r.t2=r.catch(43),r.abrupt("return",ya(r.t2,m));case 54:case"end":return r.stop()}},r,null,[[12,24,27,30],[43,51]])}),new(i=i||Promise)(function(e,t){function n(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,s)}u((a=a.apply(r,[])).next())});var r,i,a}ca.remediationName="skip";var ba={identify:Yi,"select-authenticator-authenticate":na,"select-authenticator-enroll":ra,"authenticator-enrollment-data":ua,"authenticator-verification-data":sa,"enroll-authenticator":Ki,"challenge-authenticator":Ji,"challenge-poll":zi,"reenroll-authenticator":Xi,"enroll-poll":Vi,"redirect-idp":Zi,skip:ca},wa={identify:Yi,"identify-recovery":Yi,"select-authenticator-authenticate":na,"select-authenticator-enroll":ra,"challenge-authenticator":Ji,"authenticator-verification-data":sa,"authenticator-enrollment-data":ua,"reset-authenticator":$i,"reenroll-authenticator":Xi,"enroll-poll":Vi},Ta={"select-enroll-profile":ia,"enroll-profile":Qi,"authenticator-enrollment-data":ua,"select-authenticator-enroll":ra,"enroll-poll":Vi,"select-enrollment-channel":Wi,"enrollment-channel-data":Gi,"enroll-authenticator":Ki,skip:ca},Sa={identify:Yi,"select-authenticator-unlock-account":oa,"select-authenticator-authenticate":na,"challenge-authenticator":Ji,"challenge-poll":zi,"authenticator-verification-data":sa};function xa(e,r){var t,n,r=1<arguments.length&&void 0!==r?r:"default",o=!0;switch(r){case"register":case"signup":case"enrollProfile":t=Ta,o=!1;break;case"recoverPassword":case"resetPassword":t=wa,o=!(n=["currentAuthenticator-recover","currentAuthenticatorEnrollment-recover"]);break;case"unlockAccount":t=Sa,o=!1,n=["unlock-account"];break;default:t=ba}return{flow:r,remediators:t,actions:n,withCredentials:o}}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ea=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Aa(e){var t,n=[],r=Object.values(a).reduce(function(e,t){return t.remediationName&&(e[t.remediationName]=t),e},{}),o=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.neededToProceed);try{for(o.s();!(t=o.n()).done;){var u,i=t.value,s=r[i.name];s&&(u=new s(i),n.push(u.getNextStep(e.context)))}}catch(e){o.e(e)}finally{o.f()}return n}function Ra(e,argument_1){var t=1<arguments.length&&void 0!==argument_1?argument_1:{};return Ea(this,void 0,void 0,G().mark(function n(){var r,a,s,u,c,l,f,h,p,v,y,g,m,k,b,w,T,S,x,O,E,_,A,d,I,o,U,i,F,J,z,$,Q,Y;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=Ht.PENDING,h=!(f=!1),n.prev=3,g=t.flow,m=t.state,k=t.scopes,b=t.version,w=t.remediators,T=t.actions,S=t.withCredentials,x=t.exchangeCodeForTokens,O=t.autoRemediate,E=t.step,_=t.recoveryToken,A=t.activationToken,(g=g||e.idx.getFlow()||"default")&&(e.idx.setFlow(g),d=xa(e,g),S=void 0!==S?S:d.withCredentials,w=w||d.remediators,T=T||d.actions),v=vi(e,{state:m,recoveryToken:_,activationToken:A}),d=null==v?void 0:v.interactionHandle){n.next=17;break}return e.transactionManager.clear(),n.next=13,xi(e,{withCredentials:S,state:m,scopes:k,activationToken:A,recoveryToken:_});case 13:I=n.sent,d=I.interactionHandle,v=I.meta,S=v.withCredentials;case 17:return n.next=19,Ei(e,{withCredentials:S,version:b,interactionHandle:d});case 19:if(p=n.sent,u=function(r){var t=[],n=r.actions,r=r.neededToProceed;return n["currentAuthenticator-recover"]&&t.push(qt.PASSWORD_RECOVERY),r.some(function(e){return"select-enroll-profile"===e.name})&&t.push(qt.REGISTRATION),r.some(function(e){return"redirect-idp"===e.name})&&t.push(qt.SOCIAL_IDP),r.some(function(e){return"unlock-account"===e.name})&&t.push(qt.ACCOUNT_UNLOCK),t}(p),c=Aa(p),s=v,!1!==O&&(w||T))return U=Object.assign(Object.assign({},t),{stateHandle:p.rawIdxState.stateHandle}),n.next=27,ka(p,U,{remediators:w,actions:T,flow:g,step:E});n.next=56;break;case 27:if(i=n.sent,I=i.idxResponse,o=i.nextStep,U=i.terminal,F=i.canceled,i=i.messages,p=I||p,i=i,(o=o)&&(e.transactionManager.saveIdxResponse(p.rawIdxState),c=Aa(p)),U&&(l=Ht.TERMINAL,h=!(f=!0)),!F){n.next=43;break}l=Ht.CANCELED,f=!0,n.next=56;break;case 43:if(null==p||!p.interactionCode){n.next=56;break}if(y=p.interactionCode,!1!==x){n.next=50;break}l=Ht.SUCCESS,f=!1,n.next=56;break;case 50:return F=v.clientId,Y=v.codeVerifier,J=v.ignoreSignature,z=v.redirectUri,Q=v.urls,$=v.scopes,n.next=53,e.token.exchangeCodeForTokens({interactionCode:y,clientId:F,codeVerifier:Y,ignoreSignature:J,redirectUri:z,scopes:$},Q);case 53:r=n.sent,l=Ht.SUCCESS,f=!0;case 56:n.next=67;break;case 58:if(n.prev=58,n.t0=n.catch(3),!lo(n.t0)){n.next=66;break}a=n.t0,l=Ht.FAILURE,f=!0,n.next=67;break;case 66:throw n.t0;case 67:return f?e.transactionManager.clear({clearSharedStorage:h}):null!=s&&s.state&&gi(e,Object.assign({},s)),J=(Y=p||{}).actions,z=Y.context,$=Y.neededToProceed,Q=Y.proceed,Y=Y.rawIdxState,n.abrupt("return",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({status:l},s&&{meta:s}),u&&{enabledFeatures:u}),c&&{availableSteps:c}),r&&{tokens:r.tokens}),o&&{nextStep:o}),i&&{messages:i}),a&&{error:a}),{interactionCode:y,actions:J,context:z,neededToProceed:$,proceed:Q,rawIdxState:Y}));case 70:case"end":return n.stop()}},n,null,[[3,58]])}))}var Pa=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Ca(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Pa(this,void 0,void 0,G().mark(function n(){return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.password&&!t.authenticator&&(t.authenticator=Kt.OKTA_PASSWORD),n.abrupt("return",Ra(e,Object.assign(Object.assign({},t),{flow:"authenticate"})));case 2:case"end":return n.stop()}},n)}))}function ja(e,t){return n=this,o=void 0,i=G().mark(function n(){var o;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.transactionManager.load(),o=xa(e,o.flow),n.abrupt("return",Ra(e,Object.assign(Object.assign(Object.assign({},t),o),{actions:["cancel"]})));case 3:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}var Ia=function(){c(o,g);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,r=p(t);return h(this,n?(o=p(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e,t){var n;return s(this,o),(n=r.call(this,"Enter the OTP code in the originating client: ".concat(t))).name="EmailVerifyCallbackError",n.state=e,n.otp=t,n}return o}();function Ma(e){return"EmailVerifyCallbackError"===e.name}function Ua(e){return/(otp=)/i.test(e)&&/(state=)/i.test(e)}function Da(e){return Yt(e)}function Na(e,t){return n=this,o=void 0,i=G().mark(function n(){var o,i;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Ua(t)){n.next=9;break}if(i=Da(t),o=i.state,i=i.otp,e.idx.canProceed({state:o}))return n.next=5,e.idx.proceed({state:o,otp:i});n.next=8;break;case 5:return n.abrupt("return",n.sent);case 8:throw new Ia(o,i);case 9:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}var La=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Fa(e,t){return!!vi(e,t)}function Ba(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return La(this,void 0,void 0,G().mark(function n(){var o,i;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.state,o=vi(e,{state:i})){n.next=4;break}throw new b("Unable to proceed: saved transaction could not be loaded");case 4:return i=null==o?void 0:o.flow,n.abrupt("return",Ra(e,Object.assign(Object.assign({},t),{flow:i})));case 6:case"end":return n.stop()}},n)}))}var Ha=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Ka(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ha(this,void 0,void 0,G().mark(function r(){var o,a;return G().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ba(e,{startPolling:!0});case 2:if(o=r.sent,a=vi(e),null!=(a=null===(t=null==a?void 0:a.remediations)||void 0===t?void 0:t.find(function(e){return e.includes("poll")}))&&a.length||Kn("No polling remediations available at the current IDX flow stage"),Number.isInteger(n.refresh))return r.abrupt("return",new Promise(function(t,r){setTimeout(function(){var n,i;return Ha(this,void 0,void 0,G().mark(function a(){var s;return G().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{s=null===(i=null===(n=o.nextStep)||void 0===n?void 0:n.poll)||void 0===i?void 0:i.refresh,t(s?Ka(e,{refresh:s}):o)}catch(e){r(e)}case 1:case"end":return a.stop()}},a)}))},n.refresh)}));r.next=8;break;case 8:return r.abrupt("return",o);case 9:case"end":return r.stop()}},r)}))}var qa=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Va(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return qa(this,void 0,void 0,G().mark(function n(){return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.transactionManager.clear(),n.abrupt("return",Ra(e,Object.assign({exchangeCodeForTokens:!1},t)));case 2:case"end":return n.stop()}},n)}))}var Wa=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Ga(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Wa(this,void 0,void 0,G().mark(function n(){var o,i;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(di(e)){n.next=12;break}return n.next=3,Va(e,Object.assign(Object.assign({},t),{flow:"register",autoRemediate:!1}));case 3:if(i=n.sent,o=i.enabledFeatures,i=i.availableSteps,t.activationToken||!o||o.includes(qt.REGISTRATION)){n.next=9;break}throw new b("Registration is not supported based on your current org configuration.");case 9:if(t.activationToken&&null!=i&&i.some(function(e){return"identify"===e.name}))throw new b("activationToken is not supported based on your current org configuration.");n.next=12;break;case 12:return n.abrupt("return",Ra(e,Object.assign(Object.assign({},t),{flow:"register"})));case 13:case"end":return n.stop()}},n)}))}var Ja=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function za(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ja(this,void 0,void 0,G().mark(function n(){var r;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=xa(e,"recoverPassword"),n.abrupt("return",Ra(e,Object.assign(Object.assign({},t),r)));case 2:case"end":return n.stop()}},n)}))}function $a(e,t){return n=this,o=void 0,i=G().mark(function n(){var r,o,i,u,c,l,h;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.transactionManager.load()){n.next=3;break}throw new b("No transaction data was found in storage");case 3:if(o=r.codeVerifier,i=r.state,l=new URL(t),h=l.searchParams,u=h.get("state"),c=h.get("interaction_code"),l=h.get("error"))throw new w(l,h.get("error_description"));n.next=10;break;case 10:if(u!==i)throw new b("State in redirect uri does not match with transaction state");n.next=12;break;case 12:if(c){n.next=14;break}throw new b("Unable to parse interaction_code from the url");case 14:return n.next=16,e.token.exchangeCodeForTokens({interactionCode:c,codeVerifier:o});case 16:h=n.sent,h=h.tokens,e.tokenManager.setTokens(h);case 19:case"end":return n.stop()}},n)}),new(o=o||Promise)(function(e,t){function a(e){try{u(i.next(e))}catch(e){t(e)}}function s(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(a,s)}u((i=i.apply(n,[])).next())});var n,o,i}var Qa=function(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function Ya(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Qa(this,void 0,void 0,G().mark(function n(){var o;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.flow="unlockAccount",di(e)){n.next=8;break}return n.next=4,Va(e,Object.assign(Object.assign({},t),{autoRemediate:!1}));case 4:if(o=n.sent,(o=o.enabledFeatures)&&!o.includes(qt.ACCOUNT_UNLOCK))throw new b("Self Service Account Unlock is not supported based on your current org configuration.");n.next=8;break;case 8:return n.abrupt("return",Ra(e,Object.assign({},t)));case 9:case"end":return n.stop()}},n)}))}function ts(e,t,n,r){return new(n=n||Promise)(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}var Xa=function(){function e(){s(this,e),this.environments=["okta-auth-js/".concat("6.2.0")]}return V(e,[{key:"addEnvironment",value:function(e){this.environments.push(e)}},{key:"getHttpHeader",value:function(){return this.maybeAddNodeEnvironment(),{"X-Okta-User-Agent-Extended":this.environments.join(" ")}}},{key:"getVersion",value:function(){return"6.2.0"}},{key:"maybeAddNodeEnvironment",value:function(){var e;!mt()&&process&&process.versions&&(e=process.versions.node,this.environments.push("nodejs/".concat(e)))}}]),e}(),rs=n(279),es=n.n(rs),rs=function(){function e(t){var n=this;s(this,e);var r=this.options=function(e){e=0<arguments.length&&void 0!==e?e:{};return function(n){var t=(n=n||{}).scopes;if(t&&!Array.isArray(t))throw new b('scopes must be a array of strings. Required usage: new OktaAuth({scopes: ["openid", "email"]})');if(!(n=n.issuer))throw new b('No issuer passed to constructor. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(!new RegExp("^http?s?://.+").test(n))throw new b('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(-1!==n.indexOf("-admin."))throw new b('Issuer URL passed to constructor contains "-admin" in subdomain. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com})')}(e),N({issuer:Oe((e=function(e,t){return Object.assign({},e,N(t),{storageManager:Object.assign({},e.storageManager,t.storageManager),transactionManager:Object.assign({},e.transactionManager,t.transactionManager)})}({devMode:!1,httpRequestClient:wo,storageUtil:Gn,storageManager:To,transactionManager:{enableSharedStorage:!0}},e)).issuer),tokenUrl:Oe(e.tokenUrl),authorizeUrl:Oe(e.authorizeUrl),userinfoUrl:Oe(e.userinfoUrl),revokeUrl:Oe(e.revokeUrl),logoutUrl:Oe(e.logoutUrl),clientId:e.clientId,redirectUri:e.redirectUri,state:e.state,scopes:e.scopes,postLogoutRedirectUri:e.postLogoutRedirectUri,responseMode:e.responseMode,responseType:e.responseType,pkce:!1!==e.pkce,useInteractionCodeFlow:e.useInteractionCodeFlow,httpRequestClient:e.httpRequestClient,transformErrorXHR:e.transformErrorXHR,transformAuthState:e.transformAuthState,restoreOriginalUri:e.restoreOriginalUri,storageUtil:e.storageUtil,headers:e.headers,devMode:!!e.devMode,storageManager:e.storageManager,transactionManager:e.transactionManager,cookies:function(n,t){return n=0<arguments.length&&void 0!==n?n:{},t=1<arguments.length?t:void 0,void 0===(n=n.cookies||{}).secure&&(n.secure=t),void 0===n.sameSite&&(n.sameSite=n.secure?"none":"lax"),n.secure&&!t&&(Kn('The current page is not being served with the HTTPS protocol.\nFor security reasons, we strongly recommend using HTTPS.\nIf you cannot use HTTPS, set "cookies.secure" option to false.'),n.secure=!1),"none"!==n.sameSite||n.secure||(n.sameSite="lax"),n}(e,Et()),flow:e.flow,codeChallenge:e.codeChallenge,codeChallengeMethod:e.codeChallengeMethod,recoveryToken:e.recoveryToken,activationToken:e.activationToken,ignoreSignature:!!e.ignoreSignature,clientSecret:e.clientSecret})}(t);this.storageManager=new uo(r.storageManager,r.cookies,r.storageUtil),this.transactionManager=new yo(Object.assign({storageManager:this.storageManager},r.transactionManager)),this._oktaUserAgent=new Xa,this.tx={status:Le.bind(null,this),resume:Fe.bind(null,this),exists:Object.assign(Ke.bind(null,this),{_get:function(e){return r.storageUtil.storage.get(e)}}),introspect:Be.bind(null,this)},this.pkce={DEFAULT_CODE_CHALLENGE_METHOD:We.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:We.generateVerifier,computeChallenge:We.computeChallenge},Object.assign(this.options.storageUtil,{getPKCEStorage:this.storageManager.getLegacyPKCEStorage.bind(this.storageManager),getHttpCache:this.storageManager.getHttpCache.bind(this.storageManager)}),this._pending={handleLogin:!1},mt()&&(this.options=Object.assign(this.options,{redirectUri:Te(t.redirectUri,window.location.origin)})),t.maxClockSkew||0===t.maxClockSkew?this.options.maxClockSkew=t.maxClockSkew:this.options.maxClockSkew=$,this.options.ignoreLifetime=!!t.ignoreLifetime,this.session={close:function(e){return Ee(e,{url:e.getIssuerOrigin()+"/api/v1/sessions/me",method:"DELETE",withCredentials:!0})}.bind(null,this),exists:function(e){return e.session.get().then(function(e){return"ACTIVE"===e.status}).catch(function(){return!1})}.bind(null,this),get:function(e){return _e(e,"/api/v1/sessions/me",{withCredentials:!0}).then(function(t){var n=F(t,"_links");return n.refresh=function(){return Ae(e,H(t,"refresh").href,{},{withCredentials:!0})},n.user=function(){return _e(e,H(t,"user").href,{withCredentials:!0})},n}).catch(function(){return{status:"INACTIVE"}})}.bind(null,this),refresh:function(e){return Ae(e,"/api/v1/sessions/me/lifecycle/refresh",{},{withCredentials:!0})}.bind(null,this),setCookieAndRedirect:function(e,t,n){n=n||window.location.href,window.location.assign(e.getIssuerOrigin()+"/login/sessionCookieRedirect"+xe({checkAccountSetupComplete:!0,token:t,redirectUrl:n}))}.bind(null,this)},this._tokenQueue=new Xr;var p=function(e){return Xr.prototype.push.bind(n._tokenQueue,e,null)},a=p(_n.bind(null,this)),a=Object.assign(a,{_setLocation:function(e){window.location=e}}),p=p(Cn.bind(null,this)),p=Object.assign(p,{_getHistory:function(){return window.history},_getLocation:function(){return window.location},_getDocument:function(){return window.document}});this.token={prepareTokenParams:zt.bind(null,this),exchangeCodeForTokens:pn.bind(null,this),getWithoutPrompt:mn.bind(null,this),getWithPopup:On.bind(null,this),getWithRedirect:a,parseFromUrl:p,decode:fn,revoke:hn.bind(null,this),renew:Tn.bind(null,this),renewTokensWithRefresh:kn.bind(null,this),renewTokens:Sn.bind(null,this),getUserInfo:xn.bind(null,this),verify:dn.bind(null,this),isLoginRedirect:Lt.bind(null,this)};var l=["decode","isLoginRedirect","getWithRedirect","parseFromUrl"];Object.keys(this.token).forEach(function(e){var t;0<=l.indexOf(e)||(t=n.token[e],n.token[e]=Xr.prototype.push.bind(n._tokenQueue,t,null))});var h,p=Va.bind(null,this);this.idx={interact:xi.bind(null,this),introspect:Ei.bind(null,this),authenticate:Ca.bind(null,this),register:Ga.bind(null,this),start:p,startTransaction:p,poll:Ka.bind(null,this),proceed:Ba.bind(null,this),cancel:ja.bind(null,this),recoverPassword:za.bind(null,this),handleInteractionCodeRedirect:$a.bind(null,this),isInteractionRequired:Ft.bind(null,this),isInteractionRequiredError:Rt,handleEmailVerifyCallback:Na.bind(null,this),isEmailVerifyCallback:Ua,parseEmailVerifyCallback:Da,isEmailVerifyCallbackError:Ma,getSavedTransactionMeta:vi.bind(null,this),createTransactionMeta:pi.bind(null,this),getTransactionMeta:yi.bind(null,this),saveTransactionMeta:gi.bind(null,this),clearTransactionMeta:mi.bind(null,this),isTransactionMetaValid:ki,setFlow:function(e){n.options.flow=e},getFlow:function(){return n.options.flow},canProceed:Fa.bind(null,this),unlockAccount:Ya.bind(null,this)},h=this,fi.client.interceptors.request.use(function(e){var t=h._oktaUserAgent.getHttpHeader(),n=Object.assign(Object.assign({},t),h.options.headers);Object.keys(n).forEach(function(t){!h.options.clientSecret&&"X-Device-Token"===t||(e.headers[t]=n[t])})}),this.http={setRequestHeader:function(e,t,n){e.options.headers=e.options.headers||{},e.options.headers[t]=n}.bind(null,this)},this.fingerprint=function(e,t){return t=t||{},wt()?new Promise(function(i,a){(r=document.createElement("iframe")).style.display="none",o=function(t){if(t&&t.data&&t.origin===e.getIssuerOrigin()){try{var n=JSON.parse(t.data)}catch(e){return}if(n)return"FingerprintAvailable"===n.type?i(n.fingerprint):void("FingerprintServiceReady"===n.type&&t.source.postMessage(JSON.stringify({type:"GetFingerprint"}),t.origin))}},at(window,"message",o),r.src=e.getIssuerOrigin()+"/auth/services/devicefingerprint",document.body.appendChild(r),n=setTimeout(function(){a(new b("Fingerprinting timed out"))},(null==t?void 0:t.timeout)||15e3)}).finally(function(){clearTimeout(n),st(window,"message",o),document.body.contains(r)&&r.parentElement.removeChild(r)}):Promise.reject(new b("Fingerprinting is not supported on this device"));var n,r,o}.bind(null,this),this.emitter=new(es()),this.tokenManager=new tr(this,t.tokenManager),this.authStateManager=new io(this),this.serviceManager=new Qr(this,t.services)}return V(e,[{key:"start",value:function(){this.tokenManager.start(),this.token.isLoginRedirect()||this.authStateManager.updateAuthState(),this.serviceManager.start()}},{key:"stop",value:function(){this.tokenManager.stop(),this.serviceManager.stop()}},{key:"setHeaders",value:function(e){this.options.headers=Object.assign({},this.options.headers,e)}},{key:"signIn",value:function(e){return ts(this,void 0,void 0,G().mark(function t(){return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.signInWithCredentials(e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"signInWithCredentials",value:function(e){return ts(this,void 0,void 0,G().mark(function t(){var n,r=this;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=L(e||{}),n=function(t){return delete e.sendFingerprint,qe(r,"/api/v1/authn",e,t)},e.sendFingerprint){t.next=4;break}return t.abrupt("return",n());case 4:return t.abrupt("return",this.fingerprint().then(function(e){return n({headers:{"X-Device-Fingerprint":e}})}));case 5:case"end":return t.stop()}},t,this)}))}},{key:"signInWithRedirect",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ts(this,void 0,void 0,G().mark(function t(){var n,r,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.originalUri,r=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}(e,["originalUri"]),this._pending.handleLogin)return t.abrupt("return");t.next=3;break;case 3:return this._pending.handleLogin=!0,t.prev=4,n&&this.setOriginalUri(n),o=Object.assign({scopes:this.options.scopes||["openid","email","profile"]},r),t.next=9,this.token.getWithRedirect(o);case 9:return t.prev=9,this._pending.handleLogin=!1,t.finish(9);case 12:case"end":return t.stop()}},t,this,[[4,,9,12]])}))}},{key:"closeSession",value:function(){var e=this;return this.session.close().then(function(){return ts(e,void 0,void 0,G().mark(function e(){return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.tokenManager.clear();case 1:case"end":return e.stop()}},e,this)}))}).catch(function(e){if("AuthApiError"===e.name&&"E0000007"===e.errorCode)return null;throw e})}},{key:"revokeAccessToken",value:function(e){return ts(this,void 0,void 0,G().mark(function t(){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=6;break}return t.next=3,this.tokenManager.getTokens();case 3:e=t.sent.accessToken,n=this.tokenManager.getStorageKeyByType("accessToken"),this.tokenManager.remove(n);case 6:if(e){t.next=8;break}return t.abrupt("return",Promise.resolve(null));case 8:return t.abrupt("return",this.token.revoke(e));case 9:case"end":return t.stop()}},t,this)}))}},{key:"revokeRefreshToken",value:function(e){return ts(this,void 0,void 0,G().mark(function t(){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=6;break}return t.next=3,this.tokenManager.getTokens();case 3:e=t.sent.refreshToken,n=this.tokenManager.getStorageKeyByType("refreshToken"),this.tokenManager.remove(n);case 6:if(e){t.next=8;break}return t.abrupt("return",Promise.resolve(null));case 8:return t.abrupt("return",this.token.revoke(e));case 9:case"end":return t.stop()}},t,this)}))}},{key:"getSignOutRedirectUrl",value:function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=o.idToken,n=o.postLogoutRedirectUri,r=o.state;if(!(a=a||this.tokenManager.getTokensSync().idToken))return"";n=n||this.options.postLogoutRedirectUri,o=yt(this).logoutUrl,a=a.idToken,a=o+"?id_token_hint="+encodeURIComponent(a);return n&&(a+="&post_logout_redirect_uri="+encodeURIComponent(n)),r&&(a+="&state="+encodeURIComponent(r)),a}},{key:"signOut",value:function(e){return ts(this,void 0,void 0,G().mark(function t(){var r,o,i,a,s,u,c;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Object.assign({},e),u=window.location.origin,r=window.location.href,o=e.postLogoutRedirectUri||this.options.postLogoutRedirectUri||u,i=e.accessToken,a=e.refreshToken,s=!1!==e.revokeAccessToken,(u=!1!==e.revokeRefreshToken)&&void 0===a&&(a=this.tokenManager.getTokensSync().refreshToken),s&&void 0===i&&(i=this.tokenManager.getTokensSync().accessToken),e.idToken||(e.idToken=this.tokenManager.getTokensSync().idToken),u&&a)return t.next=14,this.revokeRefreshToken(a);t.next=14;break;case 14:if(s&&i)return t.next=17,this.revokeAccessToken(i);t.next=17;break;case 17:if(c=this.getSignOutRedirectUrl(Object.assign(Object.assign({},e),{postLogoutRedirectUri:o}))){t.next=22;break}return t.abrupt("return",this.closeSession().then(function(){o===r?window.location.reload():window.location.assign(o)}));case 22:e.clearTokensBeforeRedirect?this.tokenManager.clear():this.tokenManager.addPendingRemoveFlags(),window.location.assign(c);case 24:case"end":return t.stop()}},t,this)}))}},{key:"webfinger",value:function(e){return _e(this,"/.well-known/webfinger"+xe(e),{headers:{Accept:"application/jrd+json"}})}},{key:"isAuthenticated",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ts(this,void 0,void 0,G().mark(function t(){var i,a,u,l;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.tokenManager.getOptions(),a=i.autoRenew,u=i.autoRemove,i=e.onExpiredToken?"renew"===e.onExpiredToken:a,a=e.onExpiredToken?"remove"===e.onExpiredToken:u,u=this.tokenManager.getTokensSync(),!(u=u.accessToken)||!this.tokenManager.hasExpired(u)){t.next=18;break}if(u=void 0,i)return t.prev=7,t.next=10,this.tokenManager.renew("accessToken");t.next=17;break;case 10:u=t.sent,t.next=15;break;case 13:t.prev=13,t.t0=t.catch(7);case 15:t.next=18;break;case 17:a&&this.tokenManager.remove("accessToken");case 18:if(l=this.tokenManager.getTokensSync(),!(l=l.idToken)||!this.tokenManager.hasExpired(l)){t.next=33;break}if(l=void 0,i)return t.prev=22,t.next=25,this.tokenManager.renew("idToken");t.next=32;break;case 25:l=t.sent,t.next=30;break;case 28:t.prev=28,t.t1=t.catch(22);case 30:t.next=33;break;case 32:a&&this.tokenManager.remove("idToken");case 33:return t.abrupt("return",!(!u||!l));case 34:case"end":return t.stop()}},t,this,[[7,13],[22,28]])}))}},{key:"getUser",value:function(){return ts(this,void 0,void 0,G().mark(function e(){var n,r;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.tokenManager.getTokensSync(),n=r.idToken,r=r.accessToken,e.abrupt("return",this.token.getUserInfo(r,n));case 2:case"end":return e.stop()}},e,this)}))}},{key:"getIdToken",value:function(){var e=this.tokenManager.getTokensSync().idToken;return e?e.idToken:void 0}},{key:"getAccessToken",value:function(){var e=this.tokenManager.getTokensSync().accessToken;return e?e.accessToken:void 0}},{key:"getRefreshToken",value:function(){var e=this.tokenManager.getTokensSync().refreshToken;return e?e.refreshToken:void 0}},{key:"storeTokensFromRedirect",value:function(){return ts(this,void 0,void 0,G().mark(function e(){var n;return G().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.token.parseFromUrl();case 2:n=e.sent,n=n.tokens,this.tokenManager.setTokens(n);case 5:case"end":return e.stop()}},e,this)}))}},{key:"setOriginalUri",value:function(e,t){Gn.getSessionStorage().setItem(le,e),(t=t||this.options.state)&&this.storageManager.getOriginalUriStorage().setItem(t,e)}},{key:"getOriginalUri",value:function(e){if(e=e||this.options.state){var n=this.storageManager.getOriginalUriStorage().getItem(e);if(n)return n}n=Gn.getSessionStorage();return n&&n.getItem(le)||void 0}},{key:"removeOriginalUri",value:function(e){var t;Gn.getSessionStorage().removeItem(le),(e=e||this.options.state)&&(t=this.storageManager.getOriginalUriStorage()).removeItem&&t.removeItem(e)}},{key:"isLoginRedirect",value:function(){return Lt(this)}},{key:"handleLoginRedirect",value:function(e,t){return ts(this,void 0,void 0,G().mark(function n(){var r,i;return G().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.options.state,!e){n.next=6;break}this.tokenManager.setTokens(e),t=t||this.getOriginalUri(this.options.state),n.next=25;break;case 6:if(this.isLoginRedirect())return n.prev=7,n.next=10,Rn(this,{});n.next=24;break;case 10:return i=n.sent,r=i.state,t=t||this.getOriginalUri(r),n.next=15,this.storeTokensFromRedirect();case 15:n.next=22;break;case 17:return n.prev=17,n.t0=n.catch(7),n.next=21,this.authStateManager.updateAuthState();case 21:throw n.t0;case 22:n.next=25;break;case 24:return n.abrupt("return");case 25:return n.next=27,this.authStateManager.updateAuthState();case 27:if(this.removeOriginalUri(r),i=this.options.restoreOriginalUri)return n.next=32,i(this,t);n.next=34;break;case 32:n.next=35;break;case 34:t&&window.location.replace(t);case 35:case"end":return n.stop()}},n,this,[[7,17]])}))}},{key:"isPKCE",value:function(){return!!this.options.pkce}},{key:"hasResponseType",value:function(e){return Array.isArray(this.options.responseType)&&this.options.responseType.length?0<=this.options.responseType.indexOf(e):this.options.responseType===e}},{key:"isAuthorizationCodeFlow",value:function(){return this.hasResponseType("code")}},{key:"getIssuerOrigin",value:function(){return this.options.issuer.split("/oauth2/")[0]}},{key:"forgotPassword",value:function(e){return qe(this,"/api/v1/authn/recovery/password",e)}},{key:"unlockAccount",value:function(e){return qe(this,"/api/v1/authn/recovery/unlock",e)}},{key:"verifyRecoveryToken",value:function(e){return qe(this,"/api/v1/authn/recovery/token",e)}},{key:"invokeApiMethod",value:function(e){return ts(this,void 0,void 0,G().mark(function t(){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.accessToken){t.next=5;break}return t.next=3,this.tokenManager.getTokens();case 3:n=t.sent.accessToken,e.accessToken=null==n?void 0:n.accessToken;case 5:return t.abrupt("return",Ee(this,e));case 6:case"end":return t.stop()}},t,this)}))}}]),e}();rs.features=rs.prototype.features=o,rs.crypto=e,rs.webauthn=i,Object.assign(rs,{constants:t});var os=rs}(),r}()}(module={exports:{}}),module.exports);(x=oktaAuthJs_umd)&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")&&x.default;var oktaAuthJs_umd_1=oktaAuthJs_umd.toRelativeUrl,oktaAuthJs_umd_4=(oktaAuthJs_umd.isAbsoluteUrl,oktaAuthJs_umd.toAbsoluteUrl,oktaAuthJs_umd.AuthSdkError),oktaAuthJs_umd_5=oktaAuthJs_umd.OktaAuth;function compareVersions(v1,r){const n1=validateAndParse(v1),n2=validateAndParse(r),p1=n1.pop(),p2=n2.pop();r=compareSegments(n1,n2);return 0!==r?r:p1&&p2?compareSegments(p1.split("."),p2.split(".")):p1||p2?p1?-1:1:0}const compare$1=(v1,res,operator)=>{assertValidOperator(operator);res=compareVersions(v1,res);return operatorResMap[operator].includes(res)};compareVersions.validate=v=>"string"==typeof v&&/^[v\d]/.test(v)&&semver.test(v),compareVersions.compare=compare$1,compareVersions.sastisfies=(r2,r3)=>{var r1=r3.match(/^([<>=~^]+)/),op=r1?r1[1]:"=";if("^"!==op&&"~"!==op)return compare$1(r2,r3,op);var[v1,v2,v3]=validateAndParse(r2),[r1,r2,r3]=validateAndParse(r3);return 0===compareStrings(v1,r1)&&("^"===op?0<=compareSegments([v2,v3],[r2,r3]):0===compareStrings(v2,r2)&&0<=compareStrings(v3,r3))};const semver=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,validateAndParse=v=>{if("string"!=typeof v)throw new TypeError("Invalid argument expected string");const match=v.match(semver);if(!match)throw new Error(`Invalid argument not valid semver ('${v}' received)`);return match.shift(),match},isWildcard=s=>"*"===s||"x"===s||"X"===s,tryParse=v=>{var n=parseInt(v,10);return isNaN(n)?v:n},compareStrings=(ap,bp)=>{if(isWildcard(ap)||isWildcard(bp))return 0;var[ap,bp]=((a,b)=>typeof a!=typeof b?[String(a),String(b)]:[a,b])(tryParse(ap),tryParse(bp));return bp<ap?1:ap<bp?-1:0},compareSegments=(a,b)=>{for(let i=0;i<Math.max(a.length,b.length);i++){var r=compareStrings(a[i]||0,b[i]||0);if(0!==r)return r}return 0},operatorResMap={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},allowedOperators=Object.keys(operatorResMap),assertValidOperator=op=>{if("string"!=typeof op)throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);if(-1===allowedOperators.indexOf(op))throw new Error(`Invalid operator, expected one of ${allowedOperators.join("|")}`)};var OKTA_CONFIG=new core.InjectionToken("okta.config.angular"),OKTA_AUTH=new core.InjectionToken("okta.auth"),OktaCallbackComponent=function(){function OktaCallbackComponent(config,oktaAuth,injector){this.config=config,this.oktaAuth=oktaAuth,this.injector=injector}return OktaCallbackComponent.prototype.ngOnInit=function(){return __awaiter(this,void 0,void 0,function(){var e_1,onAuthResume,callbackFn;return __generator(this,function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.oktaAuth.handleLoginRedirect()];case 1:return _b.sent(),[3,3];case 2:return(e_1=_b.sent(),(this.oktaAuth.isInteractionRequiredError||this.oktaAuth.idx.isInteractionRequiredError)(e_1)&&this.injector&&(callbackFn=this.config,onAuthResume=callbackFn.onAuthResume,callbackFn=callbackFn.onAuthRequired,callbackFn=onAuthResume||callbackFn))?(callbackFn(this.oktaAuth,this.injector),[2]):(this.error=e_1.toString(),[3,3]);case 3:return[2]}})})},__decorate([core.Component({template:"<div>{{error}}</div>"}),__param(0,core.Inject(OKTA_CONFIG)),__param(1,core.Inject(OKTA_AUTH)),__param(2,core.Optional()),__metadata("design:paramtypes",[Object,oktaAuthJs_umd_5,core.Injector])],OktaCallbackComponent)}(),OktaAuthGuard=function(){function OktaAuthGuard(config,oktaAuth,injector){var _this=this;this.config=config,this.oktaAuth=oktaAuth,this.injector=injector,this.updateAuthStateListener=function(authState){authState.isAuthenticated||_this.handleLogin(_this.state.url)},this.onAuthRequired=this.config.onAuthRequired,injector.get(Router).events.pipe(operators.filter(function(e){return e instanceof NavigationStart&&_this.state&&_this.state.url!==e.url})).subscribe(function(){_this.oktaAuth.authStateManager.unsubscribe(_this.updateAuthStateListener)})}return OktaAuthGuard.prototype.canLoad=function(route,segments){return __awaiter(this,void 0,void 0,function(){var originalUri;return __generator(this,function(_a){switch(_a.label){case 0:return this.onAuthRequired=route.data&&route.data.onAuthRequired||this.onAuthRequired,[4,this.oktaAuth.isAuthenticated()];case 1:return _a.sent()?[2,!0]:(originalUri=segments[0].path,[4,this.handleLogin(originalUri)]);case 2:return _a.sent(),[2,!1]}})})},OktaAuthGuard.prototype.canActivate=function(route,state){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.state=state,this.onAuthRequired=route.data&&route.data.onAuthRequired||this.onAuthRequired,this.oktaAuth.authStateManager.subscribe(this.updateAuthStateListener),[4,this.oktaAuth.isAuthenticated()];case 1:return _a.sent()?[2,!0]:[4,this.handleLogin(state.url)];case 2:return _a.sent(),[2,!1]}})})},OktaAuthGuard.prototype.canActivateChild=function(route,state){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.canActivate(route,state)]})})},OktaAuthGuard.prototype.handleLogin=function(originalUri){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return this.oktaAuth.setOriginalUri(originalUri),this.onAuthRequired?this.onAuthRequired(this.oktaAuth,this.injector):this.oktaAuth.signInWithRedirect(),[2]})})},__decorate([core.Injectable(),__param(0,core.Inject(OKTA_CONFIG)),__param(1,core.Inject(OKTA_AUTH)),__metadata("design:paramtypes",[Object,oktaAuthJs_umd_5,core.Injector])],OktaAuthGuard)}(),defaultAuthState={isAuthenticated:!1},OktaAuthStateService=function(){function OktaAuthStateService(initialAuthState){this.oktaAuth=initialAuthState,this._authState=new rxjs.BehaviorSubject(defaultAuthState),this.authState$=this._authState.asObservable(),this.updateAuthState=this.updateAuthState.bind(this);initialAuthState=this.oktaAuth.authStateManager.getAuthState()||defaultAuthState;this._authState.next(initialAuthState),this.oktaAuth.authStateManager.subscribe(this.updateAuthState)}return OktaAuthStateService.prototype.ngOnDestroy=function(){this.oktaAuth.authStateManager.unsubscribe(this.updateAuthState)},OktaAuthStateService.prototype.hasAnyGroups=function(groups){var _this=this;return this.authState$.pipe(operators.mergeMap(function(_a){var isAuthenticated=_a.isAuthenticated,idToken=_a.idToken;return __awaiter(_this,void 0,void 0,function(){var key,value,userInfo;return __generator(this,function(_b){switch(_b.label){case 0:return isAuthenticated&&idToken?("string"==typeof groups&&(groups={groups:[groups]}),Array.isArray(groups)&&(groups={groups:groups}),key=Object.keys(groups)[0],value=groups[key],idToken.claims[key]?[2,value.some(function(authority){return idToken.claims[key].includes(authority)})]:[4,this.oktaAuth.getUser()]):[2,!1];case 1:return(userInfo=_b.sent())[key]?[2,value.some(function(authority){return userInfo[key].includes(authority)})]:[2,!1]}})})}))},OktaAuthStateService.prototype.updateAuthState=function(authState){this._authState.next(authState)},__decorate([core.Injectable(),__param(0,core.Inject(OKTA_AUTH)),__metadata("design:paramtypes",[oktaAuthJs_umd_5])],OktaAuthStateService)}(),OktaHasAnyGroupDirective=function(){function OktaHasAnyGroupDirective(templateRef,viewContainer,authStateService){this.templateRef=templateRef,this.viewContainer=viewContainer,this.authStateService=authStateService}return Object.defineProperty(OktaHasAnyGroupDirective.prototype,"oktaHasAnyGroup",{set:function(groups){var _this=this;this.authStateService.hasAnyGroups(groups).subscribe(function(isAuthorized){isAuthorized!==_this.previousIsAuthorized&&(_this.previousIsAuthorized=isAuthorized,_this.viewContainer.clear(),isAuthorized&&_this.viewContainer.createEmbeddedView(_this.templateRef))})},enumerable:!0,configurable:!0}),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],OktaHasAnyGroupDirective.prototype,"oktaHasAnyGroup",null),__decorate([core.Directive({selector:"[oktaHasAnyGroup]"}),__metadata("design:paramtypes",[core.TemplateRef,core.ViewContainerRef,OktaAuthStateService])],OktaHasAnyGroupDirective)}(),packageInfo_name="@okta/okta-angular",packageInfo_version="5.2.0",packageInfo_authJSMinSupportedVersion="5.3.1";function oktaAuthFactory(config){return config.oktaAuth}OktaAuthModule=function(){function OktaAuthModule(oktaAuth,location,router){var _this=this,oktaAuth=oktaAuth.oktaAuth;if(!(oktaAuth._oktaUserAgent&&compare$1(oktaAuth._oktaUserAgent.getVersion(),packageInfo_authJSMinSupportedVersion,">=")))throw new oktaAuthJs_umd_4("Passed in oktaAuth is not compatible with the SDK, minimum supported okta-auth-js version is "+packageInfo_authJSMinSupportedVersion+".");oktaAuth._oktaUserAgent.addEnvironment(packageInfo_name+"/"+packageInfo_version),oktaAuth._oktaUserAgent.addEnvironment("Angular/"+core.VERSION.full),!oktaAuth.options.restoreOriginalUri&&router&&location&&(oktaAuth.options.restoreOriginalUri=function(_,originalUri){return __awaiter(_this,void 0,void 0,function(){var routePath;return __generator(this,function(_a){return routePath=window.location.origin+location.prepareExternalUrl(""),routePath=oktaAuthJs_umd_1(originalUri||"/",routePath),router.navigateByUrl(routePath),[2]})})}),oktaAuth.start()}return __decorate([core.NgModule({declarations:[OktaCallbackComponent,OktaHasAnyGroupDirective],exports:[OktaCallbackComponent,OktaHasAnyGroupDirective],providers:[OktaAuthGuard,OktaAuthStateService,{provide:OKTA_AUTH,useFactory:oktaAuthFactory,deps:[OKTA_CONFIG]}]}),__param(0,core.Inject(OKTA_CONFIG)),__param(1,core.Optional()),__param(2,core.Optional()),__metadata("design:paramtypes",[Object,common.Location,Router])],OktaAuthModule)}();exports.OKTA_AUTH=OKTA_AUTH,exports.OKTA_CONFIG=OKTA_CONFIG,exports.OktaAuthGuard=OktaAuthGuard,exports.OktaAuthModule=OktaAuthModule,exports.OktaAuthStateService=OktaAuthStateService,exports.OktaCallbackComponent=OktaCallbackComponent,exports.ɵa=oktaAuthFactory,exports.ɵb=OktaHasAnyGroupDirective,Object.defineProperty(exports,"__esModule",{value:!0})});