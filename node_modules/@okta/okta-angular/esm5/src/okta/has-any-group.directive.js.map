{"version":3,"file":"has-any-group.directive.js","sourceRoot":"","sources":["../../../src/okta/has-any-group.directive.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;AAChF,OAAO,EAAE,oBAAoB,EAAU,MAAM,+BAA+B,CAAC;AAG7E;IAGE;IACE,8DAA8D;IACtD,WAA6B,EAC7B,aAA+B,EAC/B,gBAAsC;QAFtC,gBAAW,GAAX,WAAW,CAAkB;QAC7B,kBAAa,GAAb,aAAa,CAAkB;QAC/B,qBAAgB,GAAhB,gBAAgB,CAAsB;IAC5C,CAAC;IAEI,sBAAI,qDAAe;aAAnB,UAAoB,MAAc;YAA3C,iBAaC;YAZC,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,MAAM,CAAC;iBACvC,SAAS,CAAC,UAAA,YAAY;gBACrB,qCAAqC;gBACrC,IAAI,YAAY,KAAK,KAAI,CAAC,oBAAoB,EAAE;oBAC9C,OAAO;iBACR;gBACD,KAAI,CAAC,oBAAoB,GAAG,YAAY,CAAC;gBACzC,KAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;gBAC3B,IAAI,YAAY,EAAE;oBAChB,KAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;iBACzD;YACH,CAAC,CAAC,CAAC;QACP,CAAC;;;OAAA;IAbQ;QAAR,KAAK,EAAE;;;mEAaP;IAvBU,wBAAwB;QADpC,SAAS,CAAC,EAAE,QAAQ,EAAE,mBAAmB,EAAC,CAAC;iDAMnB,WAAW;YACT,gBAAgB;YACb,oBAAoB;OAPrC,wBAAwB,CAwBpC;IAAD,+BAAC;CAAA,AAxBD,IAwBC;SAxBY,wBAAwB","sourcesContent":["import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { OktaAuthStateService, Groups } from './services/auth-state.service';\n\n@Directive({ selector: '[oktaHasAnyGroup]'})\nexport class OktaHasAnyGroupDirective {\n  private previousIsAuthorized: boolean;\n\n  constructor(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private authStateService: OktaAuthStateService\n  ) { }\n\n  @Input() set oktaHasAnyGroup(groups: Groups) {\n    this.authStateService.hasAnyGroups(groups)\n      .subscribe(isAuthorized => {\n        // don't update UI if no state change\n        if (isAuthorized === this.previousIsAuthorized) {\n          return;\n        }\n        this.previousIsAuthorized = isAuthorized;\n        this.viewContainer.clear();\n        if (isAuthorized) {\n          this.viewContainer.createEmbeddedView(this.templateRef);\n        }\n      });\n  }\n}\n"]}