/*! For license information please see okta-auth-js.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OktaAuth=t():e.OktaAuth=t()}(self,(function(){return function(){var e={1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9100:function(e,t,n){var r=n(9489),o=n(7067);function i(t,n,a){return o()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,o=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5957:function(e,t,n){var r=n(9754),o=n(9489),i=n(430),a=n(9100);function u(t){var n="function"==typeof Map?new Map:void 0;return e.exports=u=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(5666)},7913:function(e,t,n){"use strict";n.d(t,{a:function(){return g},E:function(){return k}});var r=n(5861),o=n(5671),i=n(3144),a=n(4942),u=n(7757),s=n.n(u),c=n(3615),f=n.n(c),l=n(7301),p=n(2852),h=n(146),d=n(5991);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=null,m={updateAuthStatePromise:null,canceledTimes:0},b="authStateChange",k=function(){function e(t){var n=this;if((0,o.Z)(this,e),(0,a.Z)(this,"_sdk",void 0),(0,a.Z)(this,"_pending",void 0),(0,a.Z)(this,"_authState",void 0),(0,a.Z)(this,"_prevAuthState",void 0),(0,a.Z)(this,"_logOptions",void 0),(0,a.Z)(this,"_transformQueue",void 0),!t.emitter)throw new l.R("Emitter should be initialized before AuthStateManager");this._sdk=t,this._pending=y({},m),this._authState=g,this._logOptions={},this._prevAuthState=null,this._transformQueue=new d.Z({quiet:!0}),t.tokenManager.on(p.EVENT_ADDED,(function(e,t){n._setLogOptions({event:p.EVENT_ADDED,key:e,token:t}),n.updateAuthState()})),t.tokenManager.on(p.EVENT_REMOVED,(function(e,t){n._setLogOptions({event:p.EVENT_REMOVED,key:e,token:t}),n.updateAuthState()}))}var t;return(0,i.Z)(e,[{key:"_setLogOptions",value:function(e){this._logOptions=e}},{key:"getAuthState",value:function(){return this._authState}},{key:"getPreviousAuthState",value:function(){return this._prevAuthState}},{key:"updateAuthState",value:(t=(0,r.Z)(s().mark((function e(){var t,n,r,o,i,a,u,c=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._sdk.options,n=t.transformAuthState,r=t.devMode,o=function(e){var t=c._logOptions,n=t.event,r=t.key,o=t.token;(0,h.dr)().group("OKTA-AUTH-JS:updateAuthState: Event:".concat(n," Status:").concat(e)),(0,h.dr)().log(r,o),(0,h.dr)().log("Current authState",c._authState),(0,h.dr)().groupEnd(),c._logOptions={}},i=function(e){var t,n;n=e,(t=c._authState)&&t.isAuthenticated===n.isAuthenticated&&JSON.stringify(t.idToken)===JSON.stringify(n.idToken)&&JSON.stringify(t.accessToken)===JSON.stringify(n.accessToken)&&t.error===n.error?r&&o("unchanged"):(c._prevAuthState=c._authState,c._authState=e,c._sdk.emitter.emit(b,y({},e)),r&&o("emitted"))},a=function e(t){return c._pending.updateAuthStatePromise.then((function(){var n=c._pending.updateAuthStatePromise;return n&&n!==t?e(n):c.getAuthState()}))},!this._pending.updateAuthStatePromise){e.next=11;break}if(!(this._pending.canceledTimes>=10)){e.next=10;break}return r&&o("terminated"),e.abrupt("return",a(this._pending.updateAuthStatePromise));case 10:this._pending.updateAuthStatePromise.cancel();case 11:return u=new(f())((function(e,t,a){a.shouldReject=!1,a((function(){c._pending.updateAuthStatePromise=null,c._pending.canceledTimes=c._pending.canceledTimes+1,r&&o("canceled")}));var s=function(t){u.isCanceled?e():(i(t),e(),c._pending=y({},m))};c._sdk.isAuthenticated().then((function(){if(u.isCanceled)e();else{var t=c._sdk.tokenManager.getTokensSync(),r=t.accessToken,o=t.idToken,i=t.refreshToken,a={accessToken:r,idToken:o,refreshToken:i,isAuthenticated:!(!r||!o)};(n?c._transformQueue.push(n,null,c._sdk,a):Promise.resolve(a)).then((function(e){return s(e)})).catch((function(e){return s({accessToken:r,idToken:o,refreshToken:i,isAuthenticated:!1,error:e})}))}}))})),this._pending.updateAuthStatePromise=u,e.abrupt("return",a(u));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"subscribe",value:function(e){this._sdk.emitter.on(b,e)}},{key:"unsubscribe",value:function(e){this._sdk.emitter.off(b,e)}}]),e}()},3415:function(e,t,n){"use strict";n.d(t,{Z:function(){return mt}});var r={};n.r(r),n.d(r,{buildCredentialCreationOptions:function(){return A},buildCredentialRequestOptions:function(){return P},getAssertion:function(){return x},getAttestation:function(){return R}});var o=n(4925),i=n(5861),a=n(5671),u=n(3144),s=n(4942),c=n(7757),f=n.n(c),l=n(1971),p=n(2375),h=n(3611),d=n(3193),v=n(6718),y=n(7735);function g(e){return e.session.get().then((function(e){return"ACTIVE"===e.status})).catch((function(){return!1}))}function m(e){return(0,y.U2)(e,"/api/v1/sessions/me",{withCredentials:!0}).then((function(t){var n=(0,d.CE)(t,"_links");return n.refresh=function(){return(0,y.v_)(e,(0,d.Rg)(t,"refresh").href,{},{withCredentials:!0})},n.user=function(){return(0,y.U2)(e,(0,d.Rg)(t,"user").href,{withCredentials:!0})},n})).catch((function(){return{status:"INACTIVE"}}))}function b(e){return(0,y.c3)(e,{url:e.getIssuerOrigin()+"/api/v1/sessions/me",method:"DELETE",withCredentials:!0})}function k(e){return(0,y.v_)(e,"/api/v1/sessions/me/lifecycle/refresh",{},{withCredentials:!0})}function w(e,t,n){n=n||window.location.href,window.location.assign(e.getIssuerOrigin()+"/login/sessionCookieRedirect"+(0,v.UK)({checkAccountSetupComplete:!0,token:t,redirectUrl:n}))}var O=n(1279),E=n(415),T=n(9326),S=n(7987),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){"webauthn"===e.key&&t.push({type:"public-key",id:(0,S.dX)(e.credentialId)})})),t},A=function(e,t){return{publicKey:{rp:e.rp,user:{id:(0,S.dX)(e.user.id),name:e.user.name,displayName:e.user.displayName},challenge:(0,S.dX)(e.challenge),pubKeyCredParams:e.pubKeyCredParams,attestation:e.attestation,authenticatorSelection:e.authenticatorSelection,excludeCredentials:_(t)}}},P=function(e,t){return{publicKey:{challenge:(0,S.dX)(e.challenge),userVerification:e.userVerification,allowCredentials:_(t)}}},R=function(e){var t=e.response;return{id:e.id,clientData:(0,S.kQ)(t.clientDataJSON),attestation:(0,S.kQ)(t.attestationObject)}},x=function(e){var t=e.response;return{id:e.id,clientData:(0,S.kQ)(t.clientDataJSON),authenticatorData:(0,S.kQ)(t.authenticatorData),signatureData:(0,S.kQ)(t.signature)}};function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var j=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Z({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(r[u]=t.read(a,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Z({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Z({},this.attributes,t))},withConverter:function(t){return e(Z({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),C=j,D=n(9123),I=n(146),M={getHttpCache:function(){return null},getPKCEStorage:function(){return null},browserHasLocalStorage:function(){try{var e=this.getLocalStorage();return this.testStorage(e)}catch(e){return!1}},browserHasSessionStorage:function(){try{var e=this.getSessionStorage();return this.testStorage(e)}catch(e){return!1}},testStorageType:function(e){var t=!1;switch(e){case"sessionStorage":t=this.browserHasSessionStorage();break;case"localStorage":t=this.browserHasLocalStorage();break;case"cookie":case"memory":t=!0;break;default:t=!1}return t},getStorageByType:function(e,t){var n;switch(e){case"sessionStorage":n=this.getSessionStorage();break;case"localStorage":n=this.getLocalStorage();break;case"cookie":n=this.getCookieStorage(t);break;case"memory":n=this.getInMemoryStorage();break;default:throw new D.Z("Unrecognized storage option: ".concat(e))}return n},findStorageType:function(e){var t,n;return t=(e=e.slice()).shift(),(n=e.length?e[0]:null)?this.testStorageType(t)?t:((0,I.ZK)("This browser doesn't support ".concat(t,". Switching to ").concat(n,".")),this.findStorageType(e)):t},getLocalStorage:function(){return(0,E.isIE11OrLess)()&&!window.onstorage&&(window.onstorage=function(){}),localStorage},getSessionStorage:function(){return sessionStorage},getCookieStorage:function(e){var t=this,n=e.secure,r=e.sameSite,o=e.sessionCookie;if(void 0===n||void 0===r)throw new D.Z('getCookieStorage: "secure" and "sameSite" options must be provided');var i={getItem:this.storage.get,setItem:function(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2200-01-01T00:00:00.000Z";a=o?null:a,t.storage.set(e,i,a,{secure:n,sameSite:r})},removeItem:function(e){t.storage.delete(e)},isSharedStorage:function(){return!0}};return e.useSeparateCookies?{getItem:function(e){var t=i.getItem(),n={};return Object.keys(t).forEach((function(r){0===r.indexOf(e)&&(n[r.replace("".concat(e,"_"),"")]=JSON.parse(t[r]))})),JSON.stringify(n)},setItem:function(e,t){var n=JSON.parse(this.getItem(e));t=JSON.parse(t),Object.keys(t).forEach((function(r){var o=e+"_"+r,a=JSON.stringify(t[r]);i.setItem(o,a),delete n[r]})),Object.keys(n).forEach((function(t){i.removeItem(e+"_"+t)}))},removeItem:function(e){var t=JSON.parse(this.getItem(e));Object.keys(t).forEach((function(t){i.removeItem(e+"_"+t)}))},isSharedStorage:function(){return!0}}:i},inMemoryStore:{},getInMemoryStorage:function(){var e=this;return{getItem:function(t){return e.inMemoryStore[t]},setItem:function(t,n){e.inMemoryStore[t]=n},isSharedStorage:function(){return!1}}},testStorage:function(e){var t="okta-test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},storage:{set:function(e,t,n,r){var o=r.sameSite,i=r.secure;if(void 0===i||void 0===o)throw new D.Z('storage.set: "secure" and "sameSite" options must be provided');var a={path:r.path||"/",secure:i,sameSite:o};return Date.parse(n)&&(a.expires=new Date(n)),C.set(e,t,a),this.get(e)},get:function(e){return arguments.length?C.get(e):C.get()},delete:function(e){return C.remove(e,{path:"/"})}}},N=M,U=n(8092),L=n(885),F=n(2982),H=n(7301),K=n(2852),B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),(0,s.Z)(this,"tokenManager",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"renewTimeQueue",void 0),(0,s.Z)(this,"started",!1),this.tokenManager=t,this.options=n,this.renewTimeQueue=[],this.onTokenExpiredHandler=this.onTokenExpiredHandler.bind(this)}var t,n;return(0,u.Z)(e,[{key:"shouldThrottleRenew",value:function(){var e=!1;if(this.renewTimeQueue.push(Date.now()),this.renewTimeQueue.length>=10){var t=this.renewTimeQueue.shift();e=this.renewTimeQueue[this.renewTimeQueue.length-1]-t<3e4}return e}},{key:"requiresLeadership",value:function(){return!!this.options.syncStorage&&(0,E.isBrowser)()}},{key:"onTokenExpiredHandler",value:function(e){if(this.options.autoRenew)if(this.shouldThrottleRenew()){var t=new H.R("Too many token renew requests");this.tokenManager.emitError(t)}else this.tokenManager.renew(e).catch((function(){}));else this.options.autoRemove&&this.tokenManager.remove(e)}},{key:"canStart",value:function(){return!!this.options.autoRenew||!!this.options.autoRemove}},{key:"start",value:(n=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canStart()){e.next=5;break}return e.next=3,this.stop();case 3:this.tokenManager.on(K.EVENT_EXPIRED,this.onTokenExpiredHandler),this.started=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stop",value:(t=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.started&&(this.tokenManager.off(K.EVENT_EXPIRED,this.onTokenExpiredHandler),this.renewTimeQueue=[],this.started=!1);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isStarted",value:function(){return this.started}}]),e}();Promise.resolve(!1);var V=Promise.resolve(!0),G=Promise.resolve();function q(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function Y(){return Math.random().toString(36).substring(2)}var W=0,z=0;function $(){var e=(new Date).getTime();return e===W?1e3*e+ ++z:(W=e,z=0,1e3*e)}var Q={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),G}catch(e){return Promise.reject(e)}},canBeUsed:function(){if("undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:$},X=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,J()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,function(e){for(var t=J()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var o=r[0];if(!(r[1]<t))return;e.map.delete(o)}}(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function J(){return(new Date).getTime()}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var te="messages",ne={durability:"relaxed"};function re(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function oe(e){e.commit&&e.commit()}function ie(e){e.closed||ae(e).then((function(){return q(e.options.idb.fallbackInterval)})).then((function(){return ie(e)}))}function ae(e){return e.closed?G:e.messagesCallback?function(e,t){var n=e.transaction(te,"readonly",ne),r=n.objectStore(te),o=[],i=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(i);return new Promise((function(e,t){a.onerror=function(e){return t(e)},a.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,a){var u=function(){try{return i=IDBKeyRange.bound(t+1,1/0),r.openCursor(i)}catch(e){return r.openCursor()}}();u.onerror=function(e){return a(e)},u.onsuccess=function(r){var i=r.target.result;i?i.value.id<t+1?i.continue(t+1):(o.push(i.value),i.continue()):(oe(n),e(o))}}))}(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),G})):G}var ue={create:function(e,t){return t=ee(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=re().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(te,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Y(),eMIs:new X(2*t.idb.ttl),writeBlockPromise:G,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},ie(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,ae(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([te],"readwrite",ne);return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(te).add(r),oe(o)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(0,10,Math.floor(11*Math.random()+0))&&(t=e.db,n=e.options.idb.ttl,function(e,t){var n=(new Date).getTime()-t,r=e.transaction(te,"readonly",ne),o=r.objectStore(te),i=[];return new Promise((function(e){o.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var a=o.value;if(!(a.time<n))return oe(r),void e(i);i.push(a),o.continue()}else e(i)}}))}(t,n).then((function(e){return function(e,t){var n=e.transaction([te],"readwrite",ne).objectStore(te);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}(t,e.map((function(e){return e.id})))})))})),e.writeBlockPromise},canBeUsed:function(){return!!re()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:$};function se(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function ce(e){return"pubkey.broadcastChannel-"+e}function fe(){var e=se();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var le={create:function(e,t){if(t=ee(t),!fe())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Y(),r=new X(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:r};return o.listener=function(e,t){var i=ce(e),a=function(e){var t;e.key===i&&(t=JSON.parse(e.newValue),o.messagesCallback&&t.uuid!==n&&t.token&&!r.has(t.token)&&(t.data.time&&t.data.time<o.messagesCallbackTime||(r.add(t.token),o.messagesCallback(t.data))))};return window.addEventListener("storage",a),a}(e),o},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){q().then((function(){var r=ce(e.channelName),o={token:Y(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(o);se().setItem(r,i);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=i,window.dispatchEvent(a),n()}))}))},canBeUsed:fe,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:$},pe=$,he=new Set,de={create:function(e){var t={name:e,messagesCallback:null};return he.add(t),t},close:function(e){he.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(he).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:pe},ve=[Q,ue,le],ye=new Set,ge=0,me=function(e,t){var n,r,o;this.id=ge++,ye.add(this),this.name=e,this.options=ee(t),this.method=function(e){var t=[].concat(e.methods,ve).filter(Boolean);if(e.type){if("simulate"===e.type)return de;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable method found in "+JSON.stringify(ve.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,(o=r=(n=this).method.create(n.name,n.options))&&"function"==typeof o.then?(n._prepP=r,r.then((function(e){n._state=e}))):n._state=r};function be(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:G).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function ke(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function we(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&ke(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=e.time-1e5;t.time>=n&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Oe(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!ke(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}me._pubkey=!0,me.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return be(this,"message",e)},postInternal:function(e){return be(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Oe(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,we(this,"message",t)):this._onML=null},addEventListener:function(e,t){we(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Oe(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){ye.delete(this),this.closed=!0;var t=this._prepP?this._prepP:G;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var Ee=n(5643),Te=n.n(Ee),Se={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}},_e=n(199),Ae=n.n(_e),Pe=Te()?Ae():Se,Re=new Set,xe=!1;function Ze(){var e=[];return Re.forEach((function(t){e.push(t()),Re.delete(t)})),Promise.all(e)}var je=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=Y(),this._aplQ=G,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};function Ce(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function De(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n=new je(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n}je.prototype={applyOnce:function(e){var t=this;if(this.isLeader)return q(0,!0);if(this.isDead)return q(0,!1);if(this._aplQC>1)return this._aplQ;var n=function(){if(t.isLeader)return V;var n,r=!1,o=new Promise((function(e){n=function(){r=!0,e()}})),i=[],a=function(e){"leader"===e.context&&e.token!=t.token&&(i.push(e),"apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))};t.broadcastChannel.addEventListener("internal",a);var u=e?4*t._options.responseTime:t._options.responseTime;return Ce(t,"apply").then((function(){return Promise.race([q(u),o.then((function(){return Promise.reject(new Error)}))])})).then((function(){return Ce(t,"apply")})).then((function(){return Promise.race([q(u),o.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",a),!r&&function(e){e.isLeader=!0,e.hasLeader=!0;var t=function(e){if(xe||(xe=!0,Pe.add(Ze)),"function"!=typeof e)throw new Error("Listener is no function");return Re.add(e),{remove:function(){return Re.delete(e)},run:function(){return Re.delete(e),e()}}}((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&Ce(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),Ce(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Ce(e,"tell")}(t).then((function(){return!0}))}))};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return n()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?G:new Promise((function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()})),function t(){return q(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then((function(){e.isLeader?r():t()}))}))}();var o=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&r()})))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)}))),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,Ce(this,"death")}};var Ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),(0,s.Z)(this,"tokenManager",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"channel",void 0),(0,s.Z)(this,"started",!1),(0,s.Z)(this,"enablePostMessage",!0),this.tokenManager=t,this.options=n,this.onTokenAddedHandler=this.onTokenAddedHandler.bind(this),this.onTokenRemovedHandler=this.onTokenRemovedHandler.bind(this),this.onTokenRenewedHandler=this.onTokenRenewedHandler.bind(this),this.onSetStorageHandler=this.onSetStorageHandler.bind(this),this.onSyncMessageHandler=this.onSyncMessageHandler.bind(this)}var t,n;return(0,u.Z)(e,[{key:"requiresLeadership",value:function(){return!1}},{key:"isStarted",value:function(){return this.started}},{key:"canStart",value:function(){return!!this.options.syncStorage&&(0,E.isBrowser)()&&this.tokenManager.hasSharedStorage()}},{key:"start",value:(n=(0,i.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canStart()){e.next=11;break}return e.next=3,this.stop();case 3:t=this.options.syncChannelName,this.channel=new me(t),this.tokenManager.on(K.EVENT_ADDED,this.onTokenAddedHandler),this.tokenManager.on(K.EVENT_REMOVED,this.onTokenRemovedHandler),this.tokenManager.on(K.EVENT_RENEWED,this.onTokenRenewedHandler),this.tokenManager.on(K.EVENT_SET_STORAGE,this.onSetStorageHandler),this.channel.addEventListener("message",this.onSyncMessageHandler),this.started=!0;case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stop",value:(t=(0,i.Z)(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.started){e.next=10;break}return this.tokenManager.off(K.EVENT_ADDED,this.onTokenAddedHandler),this.tokenManager.off(K.EVENT_REMOVED,this.onTokenRemovedHandler),this.tokenManager.off(K.EVENT_RENEWED,this.onTokenRenewedHandler),this.tokenManager.off(K.EVENT_SET_STORAGE,this.onSetStorageHandler),null===(t=this.channel)||void 0===t||t.removeEventListener("message",this.onSyncMessageHandler),e.next=8,null===(n=this.channel)||void 0===n?void 0:n.close();case 8:this.channel=void 0,this.started=!1;case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onTokenAddedHandler",value:function(e,t){var n;this.enablePostMessage&&(null===(n=this.channel)||void 0===n||n.postMessage({type:K.EVENT_ADDED,key:e,token:t}))}},{key:"onTokenRemovedHandler",value:function(e,t){var n;this.enablePostMessage&&(null===(n=this.channel)||void 0===n||n.postMessage({type:K.EVENT_REMOVED,key:e,token:t}))}},{key:"onTokenRenewedHandler",value:function(e,t,n){var r;this.enablePostMessage&&(null===(r=this.channel)||void 0===r||r.postMessage({type:K.EVENT_RENEWED,key:e,token:t,oldToken:n}))}},{key:"onSetStorageHandler",value:function(e){var t;null===(t=this.channel)||void 0===t||t.postMessage({type:K.EVENT_SET_STORAGE,storage:e})}},{key:"onSyncMessageHandler",value:function(e){switch(this.enablePostMessage=!1,e.type){case K.EVENT_SET_STORAGE:this.tokenManager.getStorage().setStorage(e.storage);break;case K.EVENT_ADDED:this.tokenManager.emitAdded(e.key,e.token),this.tokenManager.setExpireEventTimeout(e.key,e.token);break;case K.EVENT_REMOVED:this.tokenManager.clearExpireEventTimeout(e.key),this.tokenManager.emitRemoved(e.key,e.token);break;case K.EVENT_RENEWED:this.tokenManager.emitRenewed(e.key,e.token,e.oldToken)}this.enablePostMessage=!0}}]),e}(),Me=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,e),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"channel",void 0),(0,s.Z)(this,"elector",void 0),(0,s.Z)(this,"started",!1),this.options=t,this.onLeaderDuplicate=this.onLeaderDuplicate.bind(this),this.onLeader=this.onLeader.bind(this)}var t,n,r;return(0,u.Z)(e,[{key:"onLeaderDuplicate",value:function(){}},{key:"onLeader",value:(r=(0,i.Z)(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(n=this.options).onLeader)||void 0===t?void 0:t.call(n);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"isLeader",value:function(){var e;return!(null===(e=this.elector)||void 0===e||!e.isLeader)}},{key:"hasLeader",value:function(){var e;return!(null===(e=this.elector)||void 0===e||!e.hasLeader)}},{key:"start",value:(n=(0,i.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stop();case 2:this.canStart()&&(t=this.options.electionChannelName,this.channel=new me(t),this.elector=De(this.channel),this.elector.onduplicate=this.onLeaderDuplicate,this.elector.awaitLeadership().then(this.onLeader),this.started=!0);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stop",value:(t=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.started){e.next=11;break}if(!this.elector){e.next=5;break}return e.next=4,this.elector.die();case 4:this.elector=void 0;case 5:if(!this.channel){e.next=10;break}return this.channel.postInternal=function(){return Promise.resolve()},e.next=9,this.channel.close();case 9:this.channel=void 0;case 10:this.started=!1;case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"requiresLeadership",value:function(){return!1}},{key:"isStarted",value:function(){return this.started}},{key:"canStart",value:function(){return(0,E.isBrowser)()}}]),e}();function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He="autoRenew",Ke="syncStorage",Be="leaderElection",Ve=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),(0,s.Z)(this,"sdk",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"services",void 0),(0,s.Z)(this,"started",void 0),this.sdk=t,this.onLeader=this.onLeader.bind(this);var o=t.tokenManager.getOptions(),i=o.autoRenew,u=o.autoRemove,c=o.syncStorage;r.electionChannelName=r.electionChannelName||r.broadcastChannelName,this.options=Object.assign({},e.defaultOptions,{autoRenew:i,autoRemove:u,syncStorage:c},{electionChannelName:"".concat(t.options.clientId,"-election"),syncChannelName:"".concat(t.options.clientId,"-sync")},(0,d.YY)(r)),this.started=!1,this.services=new Map,e.knownServices.forEach((function(e){var t=n.createService(e);t&&n.services.set(e,t)}))}var t,n,r,o,c;return(0,u.Z)(e,[{key:"onLeader",value:(c=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.started){e.next=3;break}return e.next=3,this.startServices();case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"isLeader",value:function(){var e;return null===(e=this.getService(Be))||void 0===e?void 0:e.isLeader()}},{key:"isLeaderRequired",value:function(){return(0,F.Z)(this.services.values()).some((function(e){return e.canStart()&&e.requiresLeadership()}))}},{key:"start",value:(o=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.started){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.startServices();case 4:this.started=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"stop",value:(r=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stopServices();case 2:this.started=!1;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getService",value:function(e){return this.services.get(e)}},{key:"startServices",value:(n=(0,i.Z)(f().mark((function e(){var t,n,r,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Le(this.services.entries()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}if(r=(0,L.Z)(n.value,2),o=r[0],i=r[1],!this.canStartService(o,i)){e.next=8;break}return e.next=8,i.start();case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))),function(){return n.apply(this,arguments)})},{key:"stopServices",value:(t=(0,i.Z)(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Le(this.services.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.stop();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))),function(){return t.apply(this,arguments)})},{key:"canStartService",value:function(e,t){var n=t.canStart()&&!t.isStarted();return e===Be?n&&(n=this.isLeaderRequired()):t.requiresLeadership()&&n&&(n=this.isLeader()),n}},{key:"createService",value:function(e){var t,n=this.sdk.tokenManager;switch(e){case Be:t=new Me(Ue(Ue({},this.options),{},{onLeader:this.onLeader}));break;case He:t=new B(n,Ue({},this.options));break;case Ke:t=new Ie(n,Ue({},this.options));break;default:throw new Error("Unknown service ".concat(e))}return t}}]),e}();(0,s.Z)(Ve,"knownServices",[He,Ke,Be]),(0,s.Z)(Ve,"defaultOptions",{autoRenew:!0,autoRemove:!0,syncStorage:!0});var Ge=n(5991);function qe(e,t){return t=t||{},(0,E.isFingerprintSupported)()?new Promise((function(i,a){var u;(r=document.createElement("iframe")).style.display="none",o=function(t){if(t&&t.data&&t.origin===e.getIssuerOrigin()){try{var n=JSON.parse(t.data)}catch(e){return}if(n)return"FingerprintAvailable"===n.type?i(n.fingerprint):void("FingerprintServiceReady"===n.type&&t.source.postMessage(JSON.stringify({type:"GetFingerprint"}),t.origin))}},(0,O.NH)(window,"message",o),r.src=e.getIssuerOrigin()+"/auth/services/devicefingerprint",document.body.appendChild(r),n=setTimeout((function(){a(new H.R("Fingerprinting timed out"))}),(null===(u=t)||void 0===u?void 0:u.timeout)||15e3)})).finally((function(){clearTimeout(n),(0,O.ys)(window,"message",o),document.body.contains(r)&&r.parentElement.removeChild(r)})):Promise.reject(new H.R("Fingerprinting is not supported on this device"));var n,r,o}var Ye=n(7913),We=n(6311),ze=n(6529);function $e(e){var t=(e=e||{}).scopes;if(t&&!Array.isArray(t))throw new D.Z('scopes must be a array of strings. Required usage: new OktaAuth({scopes: ["openid", "email"]})');var n=e.issuer;if(!n)throw new D.Z('No issuer passed to constructor. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(!new RegExp("^http?s?://.+").test(n))throw new D.Z('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(-1!==n.indexOf("-admin."))throw new D.Z('Issuer URL passed to constructor contains "-admin" in subdomain. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com})')}var Qe=n(1002),Xe=n(4098),Je=n.n(Xe);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=/application\/\w*\+?json/,nt=function(e,t,r){var o=r.data,i=r.headers||{},a=i["Content-Type"]||i["content-type"]||"";o&&"string"!=typeof o&&(tt.test(a)?o=JSON.stringify(o):"application/x-www-form-urlencoded"===a&&(o=Object.entries(o).map((function(e){var t=(0,L.Z)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&")));var u=(n.g.fetch||Je())(t,{method:e,headers:r.headers,body:o,credentials:r.withCredentials?"include":"omit"});return u.finally||(u=Promise.resolve(u)),u.then((function(e){var t=!e.ok,n=e.status;return function(e){return e.headers.get("Content-Type")&&e.headers.get("Content-Type").toLowerCase().indexOf("application/json")>=0?e.json().catch((function(e){return{error:e,errorSummary:"Could not parse server response"}})):e.text()}(e).then((function(t){return function(e,t,n){var r,o="object"===(0,Qe.Z)(t),i={},a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(n.headers.entries());try{for(a.s();!(r=a.n()).done;){var u=r.value;i[u[0]]=u[1]}}catch(e){a.e(e)}finally{a.f()}var s={responseText:o?JSON.stringify(t):t,status:e,headers:i};return o&&(s.responseType="json",s.responseJSON=t),s}(n,t,e)})).then((function(e){var n;if(t||null!==(n=e.responseJSON)&&void 0!==n&&n.error)throw e;return e}))}))},rt={token:{storageTypes:["localStorage","sessionStorage","cookie"]},cache:{storageTypes:["localStorage","sessionStorage","cookie"]},transaction:{storageTypes:["sessionStorage","localStorage","cookie"]},"shared-transaction":{storageTypes:["localStorage"]},"original-uri":{storageTypes:["localStorage"]}};function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.cookies||{};return void 0===n.secure&&(n.secure=t),void 0===n.sameSite&&(n.sameSite=n.secure?"none":"lax"),n.secure&&!t&&((0,I.ZK)('The current page is not being served with the HTTPS protocol.\nFor security reasons, we strongly recommend using HTTPS.\nIf you cannot use HTTPS, set "cookies.secure" option to false.'),n.secure=!1),"none"!==n.sameSite||n.secure||(n.sameSite="lax"),n}function it(){return{devMode:!1,httpRequestClient:nt,storageUtil:Object.assign({},N,{inMemoryStore:{}}),storageManager:rt,transactionManager:{enableSharedStorage:!0}}}function at(e,t){return Object.assign({},e,(0,d.YY)(t),{storageManager:Object.assign({},e.storageManager,t.storageManager),transactionManager:Object.assign({},e.transactionManager,t.transactionManager)})}var ut=n(4516),st=function(){function e(){(0,a.Z)(this,e),(0,s.Z)(this,"environments",void 0),this.environments=["okta-auth-js/".concat("6.9.0")]}return(0,u.Z)(e,[{key:"addEnvironment",value:function(e){this.environments.push(e)}},{key:"getHttpHeader",value:function(){return this.maybeAddNodeEnvironment(),{"X-Okta-User-Agent-Extended":this.environments.join(" ")}}},{key:"getVersion",value:function(){return"6.9.0"}},{key:"maybeAddNodeEnvironment",value:function(){if(!(0,E.isBrowser)()&&process&&process.versions){var e=process.versions.node;this.environments.push("nodejs/".concat(e))}}}]),e}(),ct=n(5372),ft=n(2620),lt=n(4279),pt=n.n(lt),ht=n(5294),dt=["originalUri"];function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(){function e(t){var n=this;(0,a.Z)(this,e),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"storageManager",void 0),(0,s.Z)(this,"transactionManager",void 0),(0,s.Z)(this,"tx",void 0),(0,s.Z)(this,"idx",void 0),(0,s.Z)(this,"session",void 0),(0,s.Z)(this,"pkce",void 0),(0,s.Z)(this,"features",E),(0,s.Z)(this,"token",void 0),(0,s.Z)(this,"_tokenQueue",void 0),(0,s.Z)(this,"emitter",void 0),(0,s.Z)(this,"tokenManager",void 0),(0,s.Z)(this,"authStateManager",void 0),(0,s.Z)(this,"serviceManager",void 0),(0,s.Z)(this,"http",void 0),(0,s.Z)(this,"fingerprint",void 0),(0,s.Z)(this,"_oktaUserAgent",void 0),(0,s.Z)(this,"_pending",void 0);var r=this.options=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $e(n),n=at(it(),n),(0,d.YY)({issuer:(0,v.Qj)(n.issuer),tokenUrl:(0,v.Qj)(n.tokenUrl),authorizeUrl:(0,v.Qj)(n.authorizeUrl),userinfoUrl:(0,v.Qj)(n.userinfoUrl),revokeUrl:(0,v.Qj)(n.revokeUrl),logoutUrl:(0,v.Qj)(n.logoutUrl),clientId:n.clientId,redirectUri:n.redirectUri,state:n.state,scopes:n.scopes,postLogoutRedirectUri:n.postLogoutRedirectUri,responseMode:n.responseMode,responseType:n.responseType,pkce:!1!==n.pkce,useInteractionCodeFlow:n.useInteractionCodeFlow,httpRequestClient:n.httpRequestClient,httpRequestInterceptors:n.httpRequestInterceptors,transformErrorXHR:n.transformErrorXHR,transformAuthState:n.transformAuthState,restoreOriginalUri:n.restoreOriginalUri,storageUtil:n.storageUtil,headers:n.headers,devMode:!!n.devMode,storageManager:n.storageManager,transactionManager:n.transactionManager,cookies:ot(n,(0,E.isHTTPS)()),flow:n.flow,codeChallenge:n.codeChallenge,codeChallengeMethod:n.codeChallengeMethod,recoveryToken:n.recoveryToken,activationToken:n.activationToken,idx:{useGenericRemediator:!(null===(e=n.idx)||void 0===e||!e.useGenericRemediator),exchangeCodeForTokens:!1!==(null===(t=n.idx)||void 0===t?void 0:t.exchangeCodeForTokens)},ignoreSignature:!!n.ignoreSignature,clientSecret:n.clientSecret,setLocation:n.setLocation})}(t);this.storageManager=new We.A(r.storageManager,r.cookies,r.storageUtil),this.transactionManager=new ze.Z(Object.assign({storageManager:this.storageManager},r.transactionManager)),this._oktaUserAgent=new st,this.tx={status:p.transactionStatus.bind(null,this),resume:p.resumeTransaction.bind(null,this),exists:Object.assign(p.transactionExists.bind(null,this),{_get:function(e){return r.storageUtil.storage.get(e)}}),introspect:p.introspectAuthn.bind(null,this),createTransaction:function(e){return new p.AuthTransaction(n,e)},postToTransaction:function(e,t,r){return(0,p.postToTransaction)(n,e,t,r)}},this.pkce={DEFAULT_CODE_CHALLENGE_METHOD:h.Z.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:h.Z.generateVerifier,computeChallenge:h.Z.computeChallenge},Object.assign(this.options.storageUtil||{},{getPKCEStorage:this.storageManager.getLegacyPKCEStorage.bind(this.storageManager),getHttpCache:this.storageManager.getHttpCache.bind(this.storageManager)}),this._pending={handleLogin:!1},(0,E.isBrowser)()&&(this.options=Object.assign(this.options,{redirectUri:(0,v.BY)(t.redirectUri,window.location.origin)})),t.maxClockSkew||0===t.maxClockSkew?this.options.maxClockSkew=t.maxClockSkew:this.options.maxClockSkew=l.DEFAULT_MAX_CLOCK_SKEW,this.options.ignoreLifetime=!!t.ignoreLifetime,this.session={close:b.bind(null,this),exists:g.bind(null,this),get:m.bind(null,this),refresh:k.bind(null,this),setCookieAndRedirect:w.bind(null,this)},this._tokenQueue=new Ge.Z;var o=function(e){return Ge.Z.prototype.push.bind(n._tokenQueue,e,null)},i=o(O.Hq.bind(null,this)),u=Object.assign(i,{_setLocation:function(e){r.setLocation?r.setLocation(e):window.location=e}}),c=o(O.ko.bind(null,this)),f=Object.assign(c,{_getHistory:function(){return window.history},_getLocation:function(){return window.location},_getDocument:function(){return window.document}});this.token={prepareTokenParams:O.wu.bind(null,this),exchangeCodeForTokens:O.rz.bind(null,this),getWithoutPrompt:O.y6.bind(null,this),getWithPopup:O.dh.bind(null,this),getWithRedirect:u,parseFromUrl:f,decode:O.TD,revoke:O.PX.bind(null,this),renew:O.$m.bind(null,this),renewTokensWithRefresh:O.Rm.bind(null,this),renewTokens:O.IK.bind(null,this),getUserInfo:function(e,t){return(0,O.bG)(n,e,t)},verify:O.WX.bind(null,this),isLoginRedirect:O.gM.bind(null,this)},["getWithoutPrompt","getWithPopup","revoke","renew","renewTokensWithRefresh","renewTokens"].forEach((function(e){n.token[e]=o(n.token[e])}));var T=ut.Yr.bind(null,this);this.idx={interact:ut.EW.bind(null,this),introspect:ut.L8.bind(null,this),makeIdxResponse:ht._T.bind(null,this),authenticate:ut.YR.bind(null,this),register:ut.z2.bind(null,this),start:T,startTransaction:T,poll:ut.$l.bind(null,this),proceed:ut.xc.bind(null,this),cancel:ut.al.bind(null,this),recoverPassword:ut.M4.bind(null,this),handleInteractionCodeRedirect:ut.Xx.bind(null,this),isInteractionRequired:O.wc.bind(null,this),isInteractionRequiredError:O.Cf,handleEmailVerifyCallback:ut.Jn.bind(null,this),isEmailVerifyCallback:ut.GA,parseEmailVerifyCallback:ut.mo,isEmailVerifyCallbackError:ut.gc,getSavedTransactionMeta:ft.uN.bind(null,this),createTransactionMeta:ft.Xc.bind(null,this),getTransactionMeta:ft.Co.bind(null,this),saveTransactionMeta:ft.r0.bind(null,this),clearTransactionMeta:ft.Jm.bind(null,this),isTransactionMetaValid:ft.Wf,setFlow:function(e){n.options.flow=e},getFlow:function(){return n.options.flow},canProceed:ut.Ch.bind(null,this),unlockAccount:ut.le.bind(null,this)},this.http={setRequestHeader:y.rn.bind(null,this)},this.fingerprint=qe.bind(null,this),this.emitter=new(pt()),this.tokenManager=new U.M(this,t.tokenManager),this.authStateManager=new Ye.E(this),this.serviceManager=new Ve(this,t.services)}var t,n,r,c,T,S,_,A,P,R,x,Z,j;return(0,u.Z)(e,[{key:"start",value:(j=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceManager.start();case 2:if(this.tokenManager.start(),this.token.isLoginRedirect()){e.next=6;break}return e.next=6,this.authStateManager.updateAuthState();case 6:case"end":return e.stop()}}),e,this)}))),function(){return j.apply(this,arguments)})},{key:"stop",value:(Z=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tokenManager.stop(),e.next=3,this.serviceManager.stop();case 3:case"end":return e.stop()}}),e,this)}))),function(){return Z.apply(this,arguments)})},{key:"setHeaders",value:function(e){this.options.headers=Object.assign({},this.options.headers,e)}},{key:"signIn",value:(x=(0,i.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signInWithCredentials(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"signInWithCredentials",value:(R=(0,i.Z)(f().mark((function e(t){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,d.d9)(t||{}),n=function(e){return delete t.sendFingerprint,(0,p.postToTransaction)(r,"/api/v1/authn",t,e)},t.sendFingerprint){e.next=4;break}return e.abrupt("return",n());case 4:return e.abrupt("return",this.fingerprint().then((function(e){return n({headers:{"X-Device-Fingerprint":e}})})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"signInWithRedirect",value:(P=(0,i.Z)(f().mark((function e(){var t,n,r,i,a=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.originalUri,r=(0,o.Z)(t,dt),!this._pending.handleLogin){e.next=4;break}return e.abrupt("return");case 4:return this._pending.handleLogin=!0,e.prev=5,n&&this.setOriginalUri(n),i=Object.assign({scopes:this.options.scopes||["openid","email","profile"]},r),e.next=10,this.token.getWithRedirect(i);case 10:return e.prev=10,this._pending.handleLogin=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[5,,10,13]])}))),function(){return P.apply(this,arguments)})},{key:"closeSession",value:function(){var e=this;return this.session.close().then((0,i.Z)(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.tokenManager.clear();case 1:case"end":return t.stop()}}),t)})))).catch((function(e){if("AuthApiError"===e.name&&"E0000007"===e.errorCode)return null;throw e}))}},{key:"revokeAccessToken",value:(A=(0,i.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.tokenManager.getTokens();case 3:t=e.sent.accessToken,n=this.tokenManager.getStorageKeyByType("accessToken"),this.tokenManager.remove(n);case 6:if(t){e.next=8;break}return e.abrupt("return",Promise.resolve(null));case 8:return e.abrupt("return",this.token.revoke(t));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"revokeRefreshToken",value:(_=(0,i.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.tokenManager.getTokens();case 3:t=e.sent.refreshToken,n=this.tokenManager.getStorageKeyByType("refreshToken"),this.tokenManager.remove(n);case 6:if(t){e.next=8;break}return e.abrupt("return",Promise.resolve(null));case 8:return e.abrupt("return",this.token.revoke(t));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"getSignOutRedirectUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.idToken,n=e.postLogoutRedirectUri,r=e.state;if(t||(t=this.tokenManager.getTokensSync().idToken),!t)return"";n||(n=this.options.postLogoutRedirectUri);var o=(0,O.Fc)(this).logoutUrl,i=t.idToken,a=o+"?id_token_hint="+encodeURIComponent(i);return n&&(a+="&post_logout_redirect_uri="+encodeURIComponent(n)),r&&(a+="&state="+encodeURIComponent(r)),a}},{key:"signOut",value:(S=(0,i.Z)(f().mark((function e(t){var n,r,o,i,a,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({},t),n=window.location.origin,r=window.location.href,o=t.postLogoutRedirectUri||this.options.postLogoutRedirectUri||n,i=t.accessToken,a=t.refreshToken,u=!1!==t.revokeAccessToken,(s=!1!==t.revokeRefreshToken)&&void 0===a&&(a=this.tokenManager.getTokensSync().refreshToken),u&&void 0===i&&(i=this.tokenManager.getTokensSync().accessToken),t.idToken||(t.idToken=this.tokenManager.getTokensSync().idToken),!s||!a){e.next=14;break}return e.next=14,this.revokeRefreshToken(a);case 14:if(!u||!i){e.next=17;break}return e.next=17,this.revokeAccessToken(i);case 17:if(c=this.getSignOutRedirectUrl(yt(yt({},t),{},{postLogoutRedirectUri:o}))){e.next=22;break}return e.abrupt("return",this.closeSession().then((function(){o===r?window.location.reload():window.location.assign(o)})));case 22:t.clearTokensBeforeRedirect?this.tokenManager.clear():this.tokenManager.addPendingRemoveFlags(),window.location.assign(c);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"webfinger",value:function(e){var t="/.well-known/webfinger"+(0,v.UK)(e);return(0,y.U2)(this,t,{headers:{Accept:"application/jrd+json"}})}},{key:"isAuthenticated",value:(T=(0,i.Z)(f().mark((function e(){var t,n,r,o,i,a,u,s,c,l,p=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},n=this.tokenManager.getOptions(),r=n.autoRenew,o=n.autoRemove,i=t.onExpiredToken?"renew"===t.onExpiredToken:r,a=t.onExpiredToken?"remove"===t.onExpiredToken:o,u=this.tokenManager.getTokensSync(),!(s=u.accessToken)||!this.tokenManager.hasExpired(s)){e.next=19;break}if(s=void 0,!i){e.next=18;break}return e.prev=8,e.next=11,this.tokenManager.renew("accessToken");case 11:s=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:e.next=19;break;case 18:a&&this.tokenManager.remove("accessToken");case 19:if(c=this.tokenManager.getTokensSync(),!(l=c.idToken)||!this.tokenManager.hasExpired(l)){e.next=34;break}if(l=void 0,!i){e.next=33;break}return e.prev=23,e.next=26,this.tokenManager.renew("idToken");case 26:l=e.sent,e.next=31;break;case 29:e.prev=29,e.t1=e.catch(23);case 31:e.next=34;break;case 33:a&&this.tokenManager.remove("idToken");case 34:return e.abrupt("return",!(!s||!l));case 35:case"end":return e.stop()}}),e,this,[[8,14],[23,29]])}))),function(){return T.apply(this,arguments)})},{key:"getUser",value:(c=(0,i.Z)(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.tokenManager.getTokensSync(),n=t.idToken,r=t.accessToken,e.abrupt("return",this.token.getUserInfo(r,n));case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getIdToken",value:function(){var e=this.tokenManager.getTokensSync().idToken;return e?e.idToken:void 0}},{key:"getAccessToken",value:function(){var e=this.tokenManager.getTokensSync().accessToken;return e?e.accessToken:void 0}},{key:"getRefreshToken",value:function(){var e=this.tokenManager.getTokensSync().refreshToken;return e?e.refreshToken:void 0}},{key:"storeTokensFromRedirect",value:(r=(0,i.Z)(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.token.parseFromUrl();case 2:t=e.sent,n=t.tokens,this.tokenManager.setTokens(n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"setOriginalUri",value:function(e,t){N.getSessionStorage().setItem(l.REFERRER_PATH_STORAGE_KEY,e),(t=t||this.options.state)&&this.storageManager.getOriginalUriStorage().setItem(t,e)}},{key:"getOriginalUri",value:function(e){if(e=e||this.options.state){var t=this.storageManager.getOriginalUriStorage().getItem(e);if(t)return t}var n=N.getSessionStorage();return n&&n.getItem(l.REFERRER_PATH_STORAGE_KEY)||void 0}},{key:"removeOriginalUri",value:function(e){if(N.getSessionStorage().removeItem(l.REFERRER_PATH_STORAGE_KEY),e=e||this.options.state){var t=this.storageManager.getOriginalUriStorage();t.removeItem&&t.removeItem(e)}}},{key:"isLoginRedirect",value:function(){return(0,O.gM)(this)}},{key:"handleLoginRedirect",value:(n=(0,i.Z)(f().mark((function e(t,n){var r,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.options.state,!t){e.next=6;break}this.tokenManager.setTokens(t),n=n||this.getOriginalUri(this.options.state),e.next=25;break;case 6:if(!this.isLoginRedirect()){e.next=24;break}return e.prev=7,e.next=10,(0,ct.Tp)(this,{});case 10:return o=e.sent,r=o.state,n=n||this.getOriginalUri(r),e.next=15,this.storeTokensFromRedirect();case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(7),e.next=21,this.authStateManager.updateAuthState();case 21:throw e.t0;case 22:e.next=25;break;case 24:return e.abrupt("return");case 25:return e.next=27,this.authStateManager.updateAuthState();case 27:if(this.removeOriginalUri(r),!(i=this.options.restoreOriginalUri)){e.next=34;break}return e.next=32,i(this,n);case 32:e.next=35;break;case 34:n&&window.location.replace(n);case 35:case"end":return e.stop()}}),e,this,[[7,17]])}))),function(e,t){return n.apply(this,arguments)})},{key:"isPKCE",value:function(){return!!this.options.pkce}},{key:"hasResponseType",value:function(e){return Array.isArray(this.options.responseType)&&this.options.responseType.length?this.options.responseType.indexOf(e)>=0:this.options.responseType===e}},{key:"isAuthorizationCodeFlow",value:function(){return this.hasResponseType("code")}},{key:"getIssuerOrigin",value:function(){return this.options.issuer.split("/oauth2/")[0]}},{key:"forgotPassword",value:function(e){return(0,p.postToTransaction)(this,"/api/v1/authn/recovery/password",e)}},{key:"unlockAccount",value:function(e){return(0,p.postToTransaction)(this,"/api/v1/authn/recovery/unlock",e)}},{key:"verifyRecoveryToken",value:function(e){return(0,p.postToTransaction)(this,"/api/v1/authn/recovery/token",e)}},{key:"invokeApiMethod",value:(t=(0,i.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.accessToken){e.next=5;break}return e.next=3,this.tokenManager.getTokens();case 3:n=e.sent.accessToken,t.accessToken=null==n?void 0:n.accessToken;case 5:return e.abrupt("return",(0,y.c3)(this,t));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();(0,s.Z)(gt,"features",E),(0,s.Z)(gt,"crypto",T),(0,s.Z)(gt,"webauthn",r),gt.features=gt.prototype.features=E,Object.assign(gt,{constants:l});var mt=gt},5991:function(e,t,n){"use strict";var r=n(5671),o=n(3144),i=n(4942),a=n(146),u=n(4771),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{quiet:!1};(0,r.Z)(this,e),(0,i.Z)(this,"queue",void 0),(0,i.Z)(this,"running",void 0),(0,i.Z)(this,"options",void 0),this.queue=[],this.running=!1,this.options=t}return(0,o.Z)(e,[{key:"push",value:function(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return new Promise((function(r,i){n.queue.length>0&&!1!==n.options.quiet&&(0,a.ZK)("Async method is being called but another async method is already running. The new method will be delayed until the previous method completes."),n.queue.push({method:e,thisObject:t,args:o,resolve:r,reject:i}),n.run()}))}},{key:"run",value:function(){var e=this;if(!this.running&&0!==this.queue.length){this.running=!0;var t=this.queue.shift(),n=t.method.apply(t.thisObject,t.args);(0,u.tI)(n)?n.then(t.resolve,t.reject).finally((function(){e.running=!1,e.run()})):(t.resolve(n),this.running=!1,this.run())}}}]),e}();t.Z=s},6311:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(5671),o=n(3144),i=n(4942),a=n(1971),u=n(9123),s=n(1524),c=function(){function e(t,n){if((0,r.Z)(this,e),(0,i.Z)(this,"storageProvider",void 0),(0,i.Z)(this,"storageName",void 0),!t)throw new u.Z('"storage" is required');if("string"!=typeof n||!n.length)throw new u.Z('"storageName" is required');this.storageName=n,this.storageProvider=t}return(0,o.Z)(e,[{key:"getItem",value:function(e){return this.getStorage()[e]}},{key:"setItem",value:function(e,t){return this.updateStorage(e,t)}},{key:"removeItem",value:function(e){return this.clearStorage(e)}},{key:"isSharedStorage",value:function(){var e,t;return(0,s.f)()&&this.storageProvider===localStorage||!(null===(e=(t=this.storageProvider).isSharedStorage)||void 0===e||!e.call(t))}},{key:"getStorage",value:function(){var e=this.storageProvider.getItem(this.storageName);e=e||"{}";try{return JSON.parse(e)}catch(e){throw new u.Z("Unable to parse storage string: "+this.storageName)}}},{key:"setStorage",value:function(e){try{var t=e?JSON.stringify(e):"{}";this.storageProvider.setItem(this.storageName,t)}catch(e){throw new u.Z("Unable to set storage: "+this.storageName)}}},{key:"clearStorage",value:function(e){if(e){var t=this.getStorage();delete t[e],this.setStorage(t)}else this.storageProvider.removeItem?this.storageProvider.removeItem(this.storageName):this.setStorage()}},{key:"updateStorage",value:function(e,t){var n=this.getStorage();n[e]=t,this.setStorage(n)}}]),e}(),f=n(415),l=n(146),p=n(7301);function h(e){(0,f.isBrowser)()||e.storageProvider||e.storageProvider||(0,l.ZK)("Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.")}var d=function(){function e(t,n,o){(0,r.Z)(this,e),(0,i.Z)(this,"storageManagerOptions",void 0),(0,i.Z)(this,"cookieOptions",void 0),(0,i.Z)(this,"storageUtil",void 0),this.storageManagerOptions=t,this.cookieOptions=n,this.storageUtil=o}return(0,o.Z)(e,[{key:"getOptionsForSection",value:function(e,t){return Object.assign({},this.storageManagerOptions[e],t)}},{key:"getStorage",value:function(e){if((e=Object.assign({},this.cookieOptions,e)).storageProvider)return e.storageProvider;var t=e,n=t.storageType,r=t.storageTypes;if("sessionStorage"===n&&(e.sessionCookie=!0),n&&r){var o=r.indexOf(n);o>=0&&(r=r.slice(o),n=void 0)}return n||(n=this.storageUtil.findStorageType(r)),this.storageUtil.getStorageByType(n,e)}},{key:"getTransactionStorage",value:function(e){h(e=this.getOptionsForSection("transaction",e));var t=this.getStorage(e),n=e.storageKey||a.TRANSACTION_STORAGE_NAME;return new c(t,n)}},{key:"getSharedTansactionStorage",value:function(e){h(e=this.getOptionsForSection("shared-transaction",e));var t=this.getStorage(e),n=e.storageKey||a.SHARED_TRANSACTION_STORAGE_NAME;return new c(t,n)}},{key:"getOriginalUriStorage",value:function(e){h(e=this.getOptionsForSection("original-uri",e));var t=this.getStorage(e),n=e.storageKey||a.ORIGINAL_URI_STORAGE_NAME;return new c(t,n)}},{key:"getIdxResponseStorage",value:function(e){var t;if((0,f.isBrowser)())try{t=this.storageUtil.getStorageByType("memory",e)}catch(e){(0,l.ZK)("No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic")}else{var n=this.getTransactionStorage(e);n&&(t={getItem:function(e){var t=n.getStorage();return t&&t[e]?t[e]:null},setItem:function(e,t){var r=n.getStorage();if(!r)throw new p.R("Transaction has been cleared, failed to save idxState");r[e]=t,n.setStorage(r)},removeItem:function(e){var t=n.getStorage();t&&(delete t[e],n.setStorage(t))}})}return t?new c(t,a.IDX_RESPONSE_STORAGE_NAME):null}},{key:"getTokenStorage",value:function(e){h(e=this.getOptionsForSection("token",e));var t=this.getStorage(e),n=e.storageKey||a.TOKEN_STORAGE_NAME;return new c(t,n)}},{key:"getHttpCache",value:function(e){e=this.getOptionsForSection("cache",e);var t=this.getStorage(e),n=e.storageKey||a.CACHE_STORAGE_NAME;return new c(t,n)}},{key:"getLegacyPKCEStorage",value:function(e){e=this.getOptionsForSection("legacy-pkce",e);var t=this.getStorage(e),n=e.storageKey||a.PKCE_STORAGE_NAME;return new c(t,n)}},{key:"getLegacyOAuthParamsStorage",value:function(e){e=this.getOptionsForSection("legacy-oauth-params",e);var t=this.getStorage(e),n=e.storageKey||a.REDIRECT_OAUTH_PARAMS_NAME;return new c(t,n)}}]),e}()},8092:function(e,t,n){"use strict";n.d(t,{M:function(){return k}});var r=n(5861),o=n(1002),i=n(5671),a=n(3144),u=n(4942),s=n(7757),c=n.n(s),f=n(3193),l=n(7301),p=n(1060),h=n(415),d=function(){function e(t){(0,i.Z)(this,e),(0,u.Z)(this,"localOffset",void 0),this.localOffset=parseInt(t||0)}return(0,a.Z)(e,[{key:"now",value:function(){return(Date.now()+this.localOffset)/1e3}}],[{key:"create",value:function(){return new e(0)}}]),e}(),v=n(2852),y=n(1971);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={autoRenew:!0,autoRemove:!0,syncStorage:!0,clearPendingRemoveTokens:!0,storage:void 0,expireEarlySeconds:30,storageKey:y.TOKEN_STORAGE_NAME},k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,i.Z)(this,e),(0,u.Z)(this,"sdk",void 0),(0,u.Z)(this,"clock",void 0),(0,u.Z)(this,"emitter",void 0),(0,u.Z)(this,"storage",void 0),(0,u.Z)(this,"state",void 0),(0,u.Z)(this,"options",void 0),this.sdk=t,this.emitter=t.emitter,!this.emitter)throw new l.R("Emitter should be initialized before TokenManager");n=Object.assign({},b,(0,f.YY)(n)),(0,h.isLocalhost)()||(n.expireEarlySeconds=b.expireEarlySeconds),this.options=n;var r=(0,f.YY)({storageKey:n.storageKey,secure:n.secure});"object"===(0,o.Z)(n.storage)?r.storageProvider=n.storage:n.storage&&(r.storageType=n.storage),this.storage=t.storageManager.getTokenStorage(m(m({},r),{},{useSeparateCookies:!0})),this.clock=d.create(),this.state={expireTimeouts:{},renewPromise:null}}var t,n,s;return(0,a.Z)(e,[{key:"on",value:function(e,t,n){n?this.emitter.on(e,t,n):this.emitter.on(e,t)}},{key:"off",value:function(e,t){t?this.emitter.off(e,t):this.emitter.off(e)}},{key:"hasSharedStorage",value:function(){return this.storage.isSharedStorage()}},{key:"start",value:function(){this.options.clearPendingRemoveTokens&&this.clearPendingRemoveTokens(),this.setExpireEventTimeoutAll()}},{key:"stop",value:function(){this.clearExpireEventTimeoutAll()}},{key:"getOptions",value:function(){return(0,f.d9)(this.options)}},{key:"getExpireTime",value:function(e){var t=this.options.expireEarlySeconds||0;return e.expiresAt-t}},{key:"hasExpired",value:function(e){return this.getExpireTime(e)<=this.clock.now()}},{key:"emitExpired",value:function(e,t){this.emitter.emit(v.EVENT_EXPIRED,e,t)}},{key:"emitRenewed",value:function(e,t,n){this.emitter.emit(v.EVENT_RENEWED,e,t,n)}},{key:"emitAdded",value:function(e,t){this.emitter.emit(v.EVENT_ADDED,e,t)}},{key:"emitRemoved",value:function(e,t){this.emitter.emit(v.EVENT_REMOVED,e,t)}},{key:"emitError",value:function(e){this.emitter.emit(v.EVENT_ERROR,e)}},{key:"clearExpireEventTimeout",value:function(e){clearTimeout(this.state.expireTimeouts[e]),delete this.state.expireTimeouts[e],this.state.renewPromise=null}},{key:"clearExpireEventTimeoutAll",value:function(){var e=this.state.expireTimeouts;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.clearExpireEventTimeout(t)}},{key:"setExpireEventTimeout",value:function(e,t){var n=this;if(!(0,v.isRefreshToken)(t)){var r=this.getExpireTime(t),o=1e3*Math.max(r-this.clock.now(),0);this.clearExpireEventTimeout(e);var i=setTimeout((function(){n.emitExpired(e,t)}),o);this.state.expireTimeouts[e]=i}}},{key:"setExpireEventTimeoutAll",value:function(){var e=this.storage.getStorage();for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];this.setExpireEventTimeout(t,n)}}},{key:"resetExpireEventTimeoutAll",value:function(){this.clearExpireEventTimeoutAll(),this.setExpireEventTimeoutAll()}},{key:"add",value:function(e,t){var n=this.storage.getStorage();(0,p.Rp)(t),n[e]=t,this.storage.setStorage(n),this.emitSetStorageEvent(),this.emitAdded(e,t),this.setExpireEventTimeout(e,t)}},{key:"getSync",value:function(e){return this.storage.getStorage()[e]}},{key:"get",value:(s=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSync(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getTokensSync",value:function(){var e={},t=this.storage.getStorage();return Object.keys(t).forEach((function(n){var r=t[n];(0,v.isAccessToken)(r)?e.accessToken=r:(0,v.isIDToken)(r)?e.idToken=r:(0,v.isRefreshToken)(r)&&(e.refreshToken=r)})),e}},{key:"getTokens",value:(n=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getTokensSync());case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getStorageKeyByType",value:function(e){var t=this.storage.getStorage();return Object.keys(t).filter((function(n){var r=t[n];return(0,v.isAccessToken)(r)&&"accessToken"===e||(0,v.isIDToken)(r)&&"idToken"===e||(0,v.isRefreshToken)(r)&&"refreshToken"===e}))[0]}},{key:"getTokenType",value:function(e){if((0,v.isAccessToken)(e))return"accessToken";if((0,v.isIDToken)(e))return"idToken";if((0,v.isRefreshToken)(e))return"refreshToken";throw new l.R("Unknown token type")}},{key:"emitSetStorageEvent",value:function(){if((0,h.isIE11OrLess)()){var e=this.storage.getStorage();this.emitter.emit(v.EVENT_SET_STORAGE,e)}}},{key:"getStorage",value:function(){return this.storage}},{key:"setTokens",value:function(e,t,n,r){var o=this,i=function(e,i){var a=o.getTokenType(i);"accessToken"===a?t&&t(e,i):"idToken"===a?n&&n(e,i):"refreshToken"===a&&r&&r(e,i)},a=function(e,t){o.emitAdded(e,t),o.setExpireEventTimeout(e,t),i(e,t)},u=function(e,t){o.clearExpireEventTimeout(e),o.emitRemoved(e,t),i(e,t)},s=["idToken","accessToken","refreshToken"],c=this.getTokensSync();s.forEach((function(t){var n=e[t];n&&(0,p.Rp)(n,t)}));var f=s.reduce((function(t,n){var r=e[n];return r&&(t[o.getStorageKeyByType(n)||n]=r),t}),{});this.storage.setStorage(f),this.emitSetStorageEvent(),s.forEach((function(t){var n,r,s,f=e[t],l=c[t],p=o.getStorageKeyByType(t)||t;f&&l?(u(p,l),a(p,f),n=p,r=f,s=l,o.emitRenewed(n,r,s),o.clearExpireEventTimeout(n),o.setExpireEventTimeout(n,r),i(n,r)):f?a(p,f):l&&u(p,l)}))}},{key:"remove",value:function(e){this.clearExpireEventTimeout(e);var t=this.storage.getStorage(),n=t[e];delete t[e],this.storage.setStorage(t),this.emitSetStorageEvent(),this.emitRemoved(e,n)}},{key:"renewToken",value:(t=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this.sdk.token)||void 0===n?void 0:n.renew(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"validateToken",value:function(e){return(0,p.Rp)(e)}},{key:"renew",value:function(e){var t=this;if(this.state.renewPromise)return this.state.renewPromise;try{var n=this.getSync(e);if(!n)throw new l.R("The tokenManager has no token for the key: "+e)}catch(e){return Promise.reject(e)}return this.clearExpireEventTimeout(e),this.state.renewPromise=this.sdk.token.renewTokens().then((function(e){return t.setTokens(e),e[t.getTokenType(n)]})).catch((function(n){throw t.remove(e),n.tokenKey=e,t.emitError(n),n})).finally((function(){t.state.renewPromise=null})),this.state.renewPromise}},{key:"clear",value:function(){var e=this,t=this.getTokensSync();this.clearExpireEventTimeoutAll(),this.storage.clearStorage(),this.emitSetStorageEvent(),Object.keys(t).forEach((function(n){e.emitRemoved(n,t[n])}))}},{key:"clearPendingRemoveTokens",value:function(){var e=this,t=this.storage.getStorage(),n={};Object.keys(t).forEach((function(e){t[e].pendingRemove&&(n[e]=t[e],delete t[e])})),this.storage.setStorage(t),this.emitSetStorageEvent(),Object.keys(n).forEach((function(t){e.clearExpireEventTimeout(t),e.emitRemoved(t,n[t])}))}},{key:"updateRefreshToken",value:function(e){var t=this.getStorageKeyByType("refreshToken")||y.REFRESH_TOKEN_STORAGE_KEY,n=this.storage.getStorage();(0,p.Rp)(e),n[t]=e,this.storage.setStorage(n),this.emitSetStorageEvent()}},{key:"removeRefreshToken",value:function(){var e=this.getStorageKeyByType("refreshToken")||y.REFRESH_TOKEN_STORAGE_KEY;this.remove(e)}},{key:"addPendingRemoveFlags",value:function(){var e=this.getTokensSync();Object.keys(e).forEach((function(t){e[t].pendingRemove=!0})),this.setTokens(e)}}]),e}()},6529:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(5671),o=n(3144),i=n(4942),a=n(7301),u=n(1971),s=n(2852),c=n(480),f=n(146);function l(e){var t=e.getSharedTansactionStorage(),n=t.getStorage();Object.keys(n).forEach((function(e){var t=n[e];Date.now()-t.dateCreated>18e5&&delete n[e]})),t.setStorage(n)}function p(e,t,n){var r=e.getSharedTansactionStorage(),o=r.getStorage();o[t]={dateCreated:Date.now(),transaction:n},r.setStorage(o)}function h(e,t){var n=e.getSharedTansactionStorage().getStorage()[t];return n&&n.transaction&&(0,s.isTransactionMeta)(n.transaction)?n.transaction:null}function d(e,t){var n=e.getSharedTansactionStorage(),r=n.getStorage();delete r[t],n.setStorage(r)}var v=function(){function e(t){(0,r.Z)(this,e),(0,i.Z)(this,"options",void 0),(0,i.Z)(this,"storageManager",void 0),(0,i.Z)(this,"legacyWidgetSupport",void 0),(0,i.Z)(this,"saveNonceCookie",void 0),(0,i.Z)(this,"saveStateCookie",void 0),(0,i.Z)(this,"saveParamsCookie",void 0),(0,i.Z)(this,"enableSharedStorage",void 0),(0,i.Z)(this,"saveLastResponse",void 0),this.storageManager=t.storageManager,this.legacyWidgetSupport=!1!==t.legacyWidgetSupport,this.saveNonceCookie=!1!==t.saveNonceCookie,this.saveStateCookie=!1!==t.saveStateCookie,this.saveParamsCookie=!1!==t.saveParamsCookie,this.enableSharedStorage=!1!==t.enableSharedStorage,this.saveLastResponse=!1!==t.saveLastResponse,this.options=t}return(0,o.Z)(e,[{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.storageManager.getTransactionStorage(),n=t.getStorage();if(t.clearStorage(),this.enableSharedStorage&&!1!==e.clearSharedStorage){var r=e.state||(null==n?void 0:n.state);r&&d(this.storageManager,r)}!1!==e.clearIdxResponse&&this.clearIdxResponse(),this.legacyWidgetSupport&&(e.oauth&&this.clearLegacyOAuthParams(),e.pkce&&this.clearLegacyPKCE())}},{key:"save",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.storageManager.getTransactionStorage(),r=n.getStorage();if((0,s.isTransactionMeta)(r)&&!t.muteWarning&&(0,f.ZK)("a saved auth transaction exists in storage. This may indicate another auth flow is already in progress."),n.setStorage(e),this.enableSharedStorage&&e.state&&p(this.storageManager,e.state,e),t.oauth&&(this.saveNonceCookie||this.saveStateCookie||this.saveParamsCookie)){var o=this.storageManager.getStorage({storageType:"cookie"});if(this.saveParamsCookie){var i=e.responseType,a=e.state,c=e.nonce,l=e.scopes,h=e.clientId,d=e.urls,v=e.ignoreSignature,y={responseType:i,state:a,nonce:c,scopes:l,clientId:h,urls:d,ignoreSignature:v};o.setItem(u.REDIRECT_OAUTH_PARAMS_NAME,JSON.stringify(y),null)}this.saveNonceCookie&&e.nonce&&o.setItem(u.REDIRECT_NONCE_COOKIE_NAME,e.nonce,null),this.saveStateCookie&&e.state&&o.setItem(u.REDIRECT_STATE_COOKIE_NAME,e.state,null)}}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=this.load(e);return!!t}catch(e){return!1}}},{key:"load",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.enableSharedStorage&&t.state&&(l(this.storageManager),e=h(this.storageManager,t.state),(0,s.isTransactionMeta)(e)))return e;var n=this.storageManager.getTransactionStorage();if(e=n.getStorage(),(0,s.isTransactionMeta)(e))return e;if(!this.legacyWidgetSupport)return null;if(t.oauth)try{var r=this.loadLegacyOAuthParams();Object.assign(e,r)}finally{this.clearLegacyOAuthParams()}if(t.pkce)try{var o=this.loadLegacyPKCE();Object.assign(e,o)}finally{this.clearLegacyPKCE()}return(0,s.isTransactionMeta)(e)?e:null}},{key:"clearLegacyPKCE",value:function(){this.storageManager.storageUtil.testStorageType("localStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).clearStorage()}},{key:"loadLegacyPKCE",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("localStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).getStorage())&&e.codeVerifier)return e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).getStorage())&&e.codeVerifier)return e;throw new a.R("Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.",void 0)}},{key:"clearLegacyOAuthParams",value:function(){this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("cookie")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).clearStorage()}},{key:"loadLegacyOAuthParams",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).getStorage()),(0,s.isOAuthTransactionMeta)(e))return e;if(this.storageManager.storageUtil.testStorageType("cookie")&&(e=this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).getStorage()),(0,s.isOAuthTransactionMeta)(e))return e;throw new a.R("Unable to retrieve OAuth redirect params from storage")}},{key:"saveIdxResponse",value:function(e){if(this.saveLastResponse){var t=this.storageManager.getIdxResponseStorage();t&&t.setStorage(e)}}},{key:"loadIdxResponse",value:function(e){if(!this.saveLastResponse)return null;var t=this.storageManager.getIdxResponseStorage();if(!t)return null;var n=t.getStorage();if(!n||!(0,c.P)(n.rawIdxResponse))return null;if(e){var r=e.stateHandle,o=e.interactionHandle;if(r&&n.stateHandle!==r)return null;if(o&&n.interactionHandle!==o)return null}return n}},{key:"clearIdxResponse",value:function(){if(this.saveLastResponse){var e=this.storageManager.getIdxResponseStorage();null==e||e.clearStorage()}}}]),e}()},1971:function(e,t,n){"use strict";n.r(t),n.d(t,{STATE_TOKEN_KEY_NAME:function(){return r},DEFAULT_POLLING_DELAY:function(){return o},DEFAULT_MAX_CLOCK_SKEW:function(){return i},DEFAULT_CACHE_DURATION:function(){return a},REDIRECT_OAUTH_PARAMS_NAME:function(){return u},REDIRECT_STATE_COOKIE_NAME:function(){return s},REDIRECT_NONCE_COOKIE_NAME:function(){return c},TOKEN_STORAGE_NAME:function(){return f},CACHE_STORAGE_NAME:function(){return l},PKCE_STORAGE_NAME:function(){return p},TRANSACTION_STORAGE_NAME:function(){return h},SHARED_TRANSACTION_STORAGE_NAME:function(){return d},ORIGINAL_URI_STORAGE_NAME:function(){return v},IDX_RESPONSE_STORAGE_NAME:function(){return y},ACCESS_TOKEN_STORAGE_KEY:function(){return g},ID_TOKEN_STORAGE_KEY:function(){return m},REFRESH_TOKEN_STORAGE_KEY:function(){return b},REFERRER_PATH_STORAGE_KEY:function(){return k},MIN_VERIFIER_LENGTH:function(){return w},MAX_VERIFIER_LENGTH:function(){return O},DEFAULT_CODE_CHALLENGE_METHOD:function(){return E},IDX_API_VERSION:function(){return T}});var r="oktaStateToken",o=500,i=300,a=86400,u="okta-oauth-redirect-params",s="okta-oauth-state",c="okta-oauth-nonce",f="okta-token-storage",l="okta-cache-storage",p="okta-pkce-storage",h="okta-transaction-storage",d="okta-shared-transaction-storage",v="okta-original-uri-storage",y="okta-idx-response-storage",g="accessToken",m="idToken",b="refreshToken",k="referrerPath",w=43,O=128,E="S256",T="1.0.0"},7987:function(e,t,n){"use strict";n.d(t,{NL:function(){return i},aR:function(){return a},Df:function(){return u},Wy:function(){return s},k8:function(){return c},EL:function(){return f},dX:function(){return l},kQ:function(){return p}});var r=n(7301),o=n(4029);function i(e){return a((0,o.r3)(e))}function a(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function u(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function s(e){var t=u(e);switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new r.R("Not a valid Base64Url")}var n=(0,o.ty)(t);try{return decodeURIComponent(escape(n))}catch(e){return n}}function c(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function f(e){return(0,o.ty)(u(e))}function l(e){return Uint8Array.from(f(e),(function(e){return e.charCodeAt(0)}))}function p(e){return(0,o.r3)(new Uint8Array(e).reduce((function(e,t){return e+String.fromCharCode(t)}),""))}},9326:function(e,t,n){"use strict";n.r(t),n.d(t,{atob:function(){return o.ty},base64ToBase64Url:function(){return r.aR},base64UrlDecode:function(){return r.EL},base64UrlToBase64:function(){return r.Df},base64UrlToBuffer:function(){return r.dX},base64UrlToString:function(){return r.Wy},btoa:function(){return o.r3},bufferToBase64Url:function(){return r.kQ},getOidcHash:function(){return i},stringToBase64Url:function(){return r.NL},stringToBuffer:function(){return r.k8},verifyToken:function(){return u},webcrypto:function(){return o.KP}});var r=n(7987),o=n(4029);function i(e){var t=(new TextEncoder).encode(e);return o.KP.subtle.digest("SHA-256",t).then((function(e){var t=new Uint8Array(e).slice(0,16),n=String.fromCharCode.apply(null,t);return(0,r.NL)(n)}))}var a=n(3193);function u(e,t){t=(0,a.d9)(t);var n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};return delete t.use,o.KP.subtle.importKey("jwk",t,n,!0,["verify"]).then((function(t){var i=e.split("."),a=(0,r.k8)(i[0]+"."+i[1]),u=(0,r.EL)(i[2]),s=(0,r.k8)(u);return o.KP.subtle.verify(n,t,s,a)}))}},4029:function(e,t,n){"use strict";n.d(t,{ty:function(){return r},r3:function(){return o},KP:function(){return i}});var r=function(e){return atob(e)},o=function(e){return btoa(e)},i="undefined"==typeof crypto?null:crypto},3983:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5671),o=n(7326),i=n(136),a=n(2963),u=n(1120),s=n(4942);var c=function(e){(0,i.Z)(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function f(e,t,n){var i;(0,r.Z)(this,f);var a=e.errorSummary;return i=c.call(this,a),(0,s.Z)((0,o.Z)(i),"errorSummary",void 0),(0,s.Z)((0,o.Z)(i),"errorCode",void 0),(0,s.Z)((0,o.Z)(i),"errorLink",void 0),(0,s.Z)((0,o.Z)(i),"errorId",void 0),(0,s.Z)((0,o.Z)(i),"errorCauses",void 0),(0,s.Z)((0,o.Z)(i),"xhr",void 0),(0,s.Z)((0,o.Z)(i),"meta",void 0),i.name="AuthApiError",i.errorSummary=e.errorSummary,i.errorCode=e.errorCode,i.errorLink=e.errorLink,i.errorId=e.errorId,i.errorCauses=e.errorCauses,t&&(i.xhr=t),n&&(i.meta=n),i}return f}(n(6245).Z)},6573:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5671),o=n(136),i=n(2963),a=n(1120);var u=function(e){(0,o.Z)(s,e);var t,n,u=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,a.Z)(t);if(n){var o=(0,a.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function s(){return(0,r.Z)(this,s),u.call(this,"The poll was stopped by the sdk")}return s}(n(6245).Z)},9123:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5671),o=n(7326),i=n(136),a=n(2963),u=n(1120),s=n(4942);var c=function(e){(0,i.Z)(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function f(e,t){var n;return(0,r.Z)(this,f),n=c.call(this,e),(0,s.Z)((0,o.Z)(n),"errorSummary",void 0),(0,s.Z)((0,o.Z)(n),"errorCode",void 0),(0,s.Z)((0,o.Z)(n),"errorLink",void 0),(0,s.Z)((0,o.Z)(n),"errorId",void 0),(0,s.Z)((0,o.Z)(n),"errorCauses",void 0),(0,s.Z)((0,o.Z)(n),"xhr",void 0),n.name="AuthSdkError",n.errorCode="INTERNAL",n.errorSummary=e,n.errorLink="INTERNAL",n.errorId="INTERNAL",n.errorCauses=[],t&&(n.xhr=t),n}return f}(n(6245).Z)},6245:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5671),o=n(7326),i=n(136),a=n(2963),u=n(1120),s=n(9611);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return f=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,s.Z)(o,n.prototype),o},f.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,(0,u.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(r,e)},l(e)}var p=function(e){(0,i.Z)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function c(e){var t;return(0,r.Z)(this,c),t=s.call(this,e),Object.setPrototypeOf((0,o.Z)(t),(this instanceof c?this.constructor:void 0).prototype),t}return c}(l(Error))},7301:function(e,t,n){"use strict";n.d(t,{Ws:function(){return r.Z},j2:function(){return o.Z},R:function(){return i.Z},BK:function(){return p},Tw:function(){return h},eo:function(){return d}});var r=n(3983),o=n(6573),i=n(9123),a=n(5671),u=n(7326),s=n(136),c=n(2963),f=n(1120),l=n(4942);var p=function(e){(0,s.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var o=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function o(e,t){var n;return(0,a.Z)(this,o),n=r.call(this,t),(0,l.Z)((0,u.Z)(n),"errorCode",void 0),(0,l.Z)((0,u.Z)(n),"errorSummary",void 0),(0,l.Z)((0,u.Z)(n),"error",void 0),(0,l.Z)((0,u.Z)(n),"error_description",void 0),n.name="OAuthError",n.errorCode=e,n.errorSummary=t,n.error=e,n.error_description=t,n}return o}(n(6245).Z);function h(e){return e instanceof r.Z}function d(e){return e instanceof p}},415:function(e,t,n){"use strict";n.r(t),n.d(t,{isBrowser:function(){return i},isIE11OrLess:function(){return a},getUserAgent:function(){return u},isFingerprintSupported:function(){return s},isPopupPostMessageSupported:function(){return c},isTokenVerifySupported:function(){return f},hasTextEncoder:function(){return l},isPKCESupported:function(){return p},isHTTPS:function(){return h},isLocalhost:function(){return d}});var r=n(9326),o=/windows phone|iemobile|wpdesktop/i;function i(){return"undefined"!=typeof document&&"undefined"!=typeof window}function a(){if(!i())return!1;var e=document.documentMode;return!!e&&e<=11}function u(){return navigator.userAgent}function s(){var e=u();return e&&!o.test(e)}function c(){if(!i())return!1;var e=document.documentMode,t=e&&e<10;return void 0!==window.postMessage&&!t}function f(){return void 0!==r.webcrypto&&null!==r.webcrypto&&void 0!==r.webcrypto.subtle&&"undefined"!=typeof Uint8Array}function l(){return"undefined"!=typeof TextEncoder}function p(){return f()&&l()}function h(){return!!i()&&"https:"===window.location.protocol}function d(){return i()&&"localhost"===window.location.hostname}},2281:function(e,t,n){"use strict";function r(e,t,n){e.options.headers=e.options.headers||{},e.options.headers[t]=n}n.d(t,{r:function(){return r}})},7735:function(e,t,n){"use strict";n.d(t,{U2:function(){return d},c3:function(){return h},v_:function(){return v},rn:function(){return r.r}});var r=n(2281),o=n(1002),i=n(4942),a=n(3193),u=n(4771),s=n(6718),c=n(1971),f=n(7301);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(t=t||{},e.options.httpRequestInterceptors){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.options.httpRequestInterceptors);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(O){r.e(O)}finally{r.f()}}var s=t.url,h=t.method,d=t.args,v=t.saveAuthnState,y=t.accessToken,g=!0===t.withCredentials,m=e.options.storageUtil.storage,b=e.storageManager.getHttpCache(e.options.cookies);if(t.cacheResponse){var k=b.getStorage()[s];if(k&&Date.now()/1e3<k.expiresAt)return Promise.resolve(k.response)}var w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Accept:"application/json","Content-Type":"application/json"},e._oktaUserAgent.getHttpHeader());Object.assign(w,e.options.headers,t.headers),w=(0,a.YY)(w),y&&(0,u.HD)(y)&&(w.Authorization="Bearer "+y);var O,E,T={headers:w,data:d||void 0,withCredentials:g};return e.options.httpRequestClient(h,s,T).then((function(n){return(E=n.responseText)&&(0,u.HD)(E)&&(E=JSON.parse(E))&&"object"===(0,o.Z)(E)&&!E.headers&&(Array.isArray(E)?E.forEach((function(e){e.headers=n.headers})):E.headers=n.headers),v&&(E.stateToken||m.delete(c.STATE_TOKEN_KEY_NAME)),E&&E.stateToken&&E.expiresAt&&m.set(c.STATE_TOKEN_KEY_NAME,E.stateToken,E.expiresAt,e.options.cookies),E&&t.cacheResponse&&b.updateStorage(s,{expiresAt:Math.floor(Date.now()/1e3)+c.DEFAULT_CACHE_DURATION,response:E}),E})).catch((function(t){var n=t.responseText||{};if((0,u.HD)(n))try{n=JSON.parse(n)}catch(e){n={errorSummary:"Unknown error"}}throw t.status>=500&&(n.errorSummary="Unknown error"),e.options.transformErrorXHR&&(t=e.options.transformErrorXHR((0,a.d9)(t))),"E0000011"===(O=n.error&&n.error_description?new f.BK(n.error,n.error_description):new f.Ws(n,t)).errorCode&&m.delete(c.STATE_TOKEN_KEY_NAME),O}))}function d(e,t,n){var r={url:t=(0,s.sD)(t)?t:e.getIssuerOrigin()+t,method:"GET"};return Object.assign(r,n),h(e,r)}function v(e,t,n,r){var o={url:t=(0,s.sD)(t)?t:e.getIssuerOrigin()+t,method:"POST",args:n,saveAuthnState:!0};return Object.assign(o,r),h(e,o)}},5294:function(e,t,n){"use strict";n.d(t,{_T:function(){return Y},A0:function(){return q}});var r=n(1971),o=n(5861),i=n(2982),a=n(7757),u=n.n(a),s=n(885),c=n(4942),f=n(4925),l=n(1002),p=n(7735);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){return!1!==e.mutable},y=function(e){var t={},n=[],r={};if(!e.value)return n.push(e),{defaultParamsForAction:t,neededParamsForAction:n,immutableParamsForAction:r};var o,i=h(e.value);try{for(i.s();!(o=i.n()).done;){var a,u,s=o.value;v(s)?(n.push(s),null!==(a=s.value)&&void 0!==a&&a&&(t[s.name]=s.value)):r[s.name]=null!==(u=s.value)&&void 0!==u?u:""}}catch(e){i.e(e)}finally{i.f()}return{defaultParamsForAction:t,neededParamsForAction:n,immutableParamsForAction:r}},g=n(3983);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t){var n=t.actionDefinition,r=t.defaultParamsForAction,i=void 0===r?{}:r,a=t.immutableParamsForAction,s=void 0===a?{}:a,c=t.toPersist,f=void 0===c?{}:c,l=n.href;return(0,o.Z)(u().mark((function t(){var r,o,a,c,h,d,v,y,m,k=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=k.length>0&&void 0!==k[0]?k[0]:{},o={"Content-Type":"application/json",Accept:n.accepts||"application/ion+json"},a=JSON.stringify(b(b(b({},i),r),s)),t.prev=3,t.next=6,(0,p.c3)(e,{url:l,method:n.method,headers:o,args:a,withCredentials:null===(c=null==f?void 0:f.withCredentials)||void 0===c||c});case 6:return h=t.sent,t.abrupt("return",e.idx.makeIdxResponse(b({},h),f,!0));case 10:if(t.prev=10,t.t0=t.catch(3),t.t0 instanceof g.Z&&null!==t.t0&&void 0!==t.t0&&t.t0.xhr){t.next=14;break}throw t.t0;case 14:throw d=t.t0.xhr,v=d.responseJSON||JSON.parse(d.responseText),y=d.headers["WWW-Authenticate"]||d.headers["www-authenticate"],m=e.idx.makeIdxResponse(b({},v),f,!1),401===d.status&&'Oktadevicejwt realm="Okta Device"'===y&&(m.stepUp=!0),m;case 20:case"end":return t.stop()}}),t,null,[[3,10]])})))},w=function(e,t,n){var r=k,o=function(e){var t,n=[],r={},o={},i=h(e=Array.isArray(e)?e:[e]);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=y(a),s=u.defaultParamsForAction,c=u.neededParamsForAction,f=u.immutableParamsForAction;n.push(c),r[a.name]=s,o[a.name]=f}}catch(e){i.e(e)}finally{i.f()}return{defaultParams:r,neededParams:n,immutableParams:o}}(t),i=o.defaultParams,a=o.neededParams,u=o.immutableParams,s=r(e,{actionDefinition:t,defaultParamsForAction:i[t.name],immutableParamsForAction:u[t.name],toPersist:n});return s.neededParams=a,s};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e,t,n){return _=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&T(o,n.prototype),o},_.apply(null,arguments)}function A(e){var t="function"==typeof Map?new Map:void 0;return A=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,E(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),T(r,e)},A(e)}function P(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=Object.prototype.hasOwnProperty;function C(e,t){return(e=e.slice()).push(t),e}function D(e,t){return(t=t.slice()).unshift(e),t}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,e);var t,n,r=(t=o,n=S(),function(){var e,r=E(t);if(n){var o=E(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return P(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return o}(A(Error));function M(e,t,n,r,o){if(!(this instanceof M))try{return new M(e,t,n,r,o)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(o=r,r=n,n=t,t=e,e=null);var i=e&&"object"===O(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!j.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var a={path:i?e.path:t};i?"json"in e&&(a.json=e.json):a.json=n;var u=this.evaluate(a);if(!u||"object"!==O(u))throw new I(u);return u}}M.prototype.evaluate=function(e,t,n,r){var o=this,i=this.parent,a=this.parentProperty,u=this.flatten,s=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===O(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!j.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,u=j.call(e,"flatten")?e.flatten:u,this.currResultType=j.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=j.call(e,"sandbox")?e.sandbox:this.currSandbox,s=j.call(e,"wrap")?e.wrap:s,this.currPreventEval=j.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=j.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=j.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,i=j.call(e,"parent")?e.parent:i,a=j.call(e,"parentProperty")?e.parentProperty:a,e=e.path}if(i=i||null,a=a||null,Array.isArray(e)&&(e=M.toPathString(e)),(e||""===e)&&t){var c=M.toPathArray(e);"$"===c[0]&&c.length>1&&c.shift(),this._hasParentSelector=null;var f=this._trace(c,t,["$"],i,a,n).filter((function(e){return e&&!e.isParentSelector}));return f.length?s||1!==f.length||f[0].hasArrExpr?f.reduce((function(e,t){var n=o._getPreferredOutput(t);return u&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(f[0]):s?[]:void 0}},M.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:M.toPathArray(e.path);return e.pointer=M.toPointer(n),e.path="string"==typeof e.path?e.path:M.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return M.toPathString(e[t]);case"pointer":return M.toPointer(e.path);default:throw new TypeError("Unknown result type")}},M.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:M.toPathString(e.path),t(r,n,e)}},M.prototype._trace=function(e,t,n,r,o,i,a,u){var s,c=this;if(!e.length)return s={path:n,value:t,parent:r,parentProperty:o,hasArrExpr:a},this._handleCallback(s,i,"value"),s;var f=e[0],l=e.slice(1),p=[];function h(e){Array.isArray(e)?e.forEach((function(e){p.push(e)})):p.push(e)}if(("string"!=typeof f||u)&&t&&j.call(t,f))h(this._trace(l,t[f],C(n,f),t,f,i,a));else if("*"===f)this._walk(f,l,t,n,r,o,i,(function(e,t,n,r,o,i,a,u){h(c._trace(D(e,n),r,o,i,a,u,!0,!0))}));else if(".."===f)h(this._trace(l,t,n,r,o,i,a)),this._walk(f,l,t,n,r,o,i,(function(e,t,n,r,o,i,a,u){"object"===O(r[e])&&h(c._trace(D(t,n),r[e],C(o,e),r,e,u,!0))}));else{if("^"===f)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:l,isParentSelector:!0};if("~"===f)return s={path:C(n,f),value:o,parent:r,parentProperty:null},this._handleCallback(s,i,"property"),s;if("$"===f)h(this._trace(l,t,n,null,null,i,a));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(f))h(this._slice(f,l,t,n,r,o,i));else if(0===f.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(f,l,t,n,r,o,i,(function(e,t,n,r,o,i,a,u){c._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,o,i,a)&&h(c._trace(D(e,n),r,o,i,a,u,!0))}))}else if("("===f[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");h(this._trace(D(this._eval(f,t,n[n.length-1],n.slice(0,-1),r,o),l),t,n,r,o,i,a))}else if("@"===f[0]){var d=!1,v=f.slice(1,-2);switch(v){case"scalar":t&&["object","function"].includes(O(t))||(d=!0);break;case"boolean":case"string":case"undefined":case"function":O(t)===v&&(d=!0);break;case"integer":!Number.isFinite(t)||t%1||(d=!0);break;case"number":Number.isFinite(t)&&(d=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(d=!0);break;case"object":t&&O(t)===v&&(d=!0);break;case"array":Array.isArray(t)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(t,n,r,o);break;case"null":null===t&&(d=!0);break;default:throw new TypeError("Unknown value type "+v)}if(d)return s={path:n,value:t,parent:r,parentProperty:o},this._handleCallback(s,i,"value"),s}else if("`"===f[0]&&t&&j.call(t,f.slice(1))){var y=f.slice(1);h(this._trace(l,t[y],C(n,y),t,y,i,a,!0))}else if(f.includes(",")){var g,m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(f.split(","));try{for(m.s();!(g=m.n()).done;){var b=g.value;h(this._trace(D(b,l),t,n,r,o,i,!0))}}catch(e){m.e(e)}finally{m.f()}}else!u&&t&&j.call(t,f)&&h(this._trace(l,t[f],C(n,f),t,f,i,a,!0))}if(this._hasParentSelector)for(var k=0;k<p.length;k++){var w=p[k];if(w&&w.isParentSelector){var E=this._trace(w.expr,t,w.path,r,o,i,a);if(Array.isArray(E)){p[k]=E[0];for(var T=E.length,S=1;S<T;S++)k++,p.splice(k,0,E[S])}else p[k]=E}}return p},M.prototype._walk=function(e,t,n,r,o,i,a,u){if(Array.isArray(n))for(var s=n.length,c=0;c<s;c++)u(c,e,t,n,r,o,i,a);else n&&"object"===O(n)&&Object.keys(n).forEach((function(s){u(s,e,t,n,r,o,i,a)}))},M.prototype._slice=function(e,t,n,r,o,i,a){if(Array.isArray(n)){var u=n.length,s=e.split(":"),c=s[2]&&Number.parseInt(s[2])||1,f=s[0]&&Number.parseInt(s[0])||0,l=s[1]&&Number.parseInt(s[1])||u;f=f<0?Math.max(0,f+u):Math.min(u,f),l=l<0?Math.max(0,l+u):Math.min(u,l);for(var p=[],h=f;h<l;h+=c)this._trace(D(h,t),n,r,o,i,a,!0).forEach((function(e){p.push(e)}));return p}},M.prototype._eval=function(e,t,n,r,o,i){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=i,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=o,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=M.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},M.cache={},M.toPathString=function(e){for(var t=e,n=t.length,r="$",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+=/^[\*0-9]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']");return r},M.toPointer=function(e){for(var t=e,n=t.length,r="",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+="/"+t[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},M.toPathArray=function(e){var t=M.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e}));return t[e]=r,t[e].concat()},M.prototype.vm={runInNewContext:function(e,t){var n=Object.keys(t),r=[];!function(e,n,r){for(var o=e.length,i=0;i<o;i++)a=e[i],"function"==typeof t[a]&&n.push(e.splice(i--,1)[0]);var a}(n,r);var o=n.map((function(e,n){return t[e]})),i=r.reduce((function(e,n){var r=t[n].toString();return/function/.test(r)||(r="function "+r),"var "+n+"="+r+";"+e}),"");/(["'])use strict\1/.test(e=i+e)||n.includes("arguments")||(e="var arguments = undefined;"+e);var a=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),u=a>-1?e.slice(0,a+1)+" return "+e.slice(a+1):" return "+e;return _(Function,R(n).concat([u])).apply(void 0,R(o))}};var N=["value","type"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=Object.fromEntries(["remediation","context"].map((function(e){return[e,!0]}))),H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},o={};return Object.keys(t).filter((function(e){return!F[e]})).forEach((function(i){if("object"===(0,l.Z)(t[i])&&t[i])if(t[i].rel)r[t[i].name]=w(e,t[i],n);else{var a=t[i],u=a.value,c=a.type,p=(0,f.Z)(a,N);o[i]=L({type:c},p),"object"===c?(o[i].value={},Object.entries(u).forEach((function(t){var a=(0,s.Z)(t,2),u=a[0],c=a[1];c.rel?r["".concat(i,"-").concat(u.name||u)]=w(e,c,n):o[i].value[u]=c}))):o[i].value=u}else o[i]=t[i]})),{context:o,actions:r}},K=function e(t,n){Object.keys(n).forEach((function(r){if("relatesTo"===r){var o=Array.isArray(n[r])?n[r][0]:n[r];if("string"==typeof o){var i=M({path:o,json:t})[0];if(i)return void(n[r]=i)}}Array.isArray(n[r])&&n[r].forEach((function(n){return e(t,n)}))}))},B=function(e,t,n){if(t.rel){var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.fromEntries(t.map((function(t){return[t.name,w(e,t,n)]})))}(e,[t],n),o=r[t.name];return L(L({},t),{},{action:o})}return t},V={makeIdxState:function(e,t,n,r){var a,s,c,f,l=t,p=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(null===(n=t.remediation)||void 0===n?void 0:n.value)||[];o.forEach((function(e){return K(t,e)}));var i=o.map((function(t){return B(e,t,r)})),a=H(e,t,r),u=a.context,s=a.actions;return{remediations:i,context:u,actions:s}}(e,t,n),h=p.remediations,d=p.context,v=p.actions,y=(0,i.Z)(h),g=(f=(0,o.Z)(u().mark((function e(t){var n,r,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=h.find((function(e){return e.name===t}))){e.next=4;break}return e.abrupt("return",Promise.reject("Unknown remediation choice: [".concat(t,"]")));case 4:if("function"==typeof r.action){e.next=7;break}return e.abrupt("return",Promise.reject("Current remediation cannot make form submit action: [".concat(t,"]")));case 7:return e.abrupt("return",r.action(n));case 8:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)});return{proceed:g,neededToProceed:y,actions:v,context:d,rawIdxState:l,interactionCode:null===(a=l.successWithInteractionCode)||void 0===a||null===(s=a.value)||void 0===s||null===(c=s.find((function(e){return"interaction_code"===e.name})))||void 0===c?void 0:c.value,toPersist:n,requestDidSucceed:r}}},G=function(e){switch(e){case"1.0.0":return V;case void 0:case null:throw new Error("Api version is required");default:throw new Error("Unknown api version: ".concat(e,".  Use an exact semver version."))}};function q(e){if(!e)throw new Error("version is required");if((null!=e?e:"").replace(/[^0-9a-zA-Z._-]/,"")!==e||!e)throw new Error("invalid version supplied - version is required and uses semver syntax");G(e)}function Y(e,t,n,o){var i,a=null!==(i=null==t?void 0:t.version)&&void 0!==i?i:r.IDX_API_VERSION;return q(a),(0,G(a).makeIdxState)(e,t,n,o)}},4516:function(e,t,n){"use strict";n.d(t,{YR:function(){return $t},Ch:function(){return hn},al:function(){return en},Jm:function(){return c.Jm},Xc:function(){return c.Xc},uN:function(){return c.uN},Co:function(){return c.Co},Jn:function(){return cn},Xx:function(){return xn},$0:function(){return c.$0},EW:function(){return y},L8:function(){return O},GA:function(){return un},gc:function(){return an},Wf:function(){return c.Wf},bl:function(){return c.bl},UC:function(){return c.UC},mo:function(){return sn},$l:function(){return yn},xc:function(){return dn},M4:function(){return Pn},z2:function(){return Tn},r0:function(){return c.r0},Yr:function(){return kn},le:function(){return Dn}});var r={};n.r(r),n.d(r,{AuthenticatorEnrollmentData:function(){return Qe},AuthenticatorVerificationData:function(){return We},ChallengeAuthenticator:function(){return ke},ChallengePoll:function(){return we},EnrollAuthenticator:function(){return fe},EnrollPoll:function(){return he},EnrollProfile:function(){return Se},EnrollmentChannelData:function(){return be},GenericRemediator:function(){return rt},Identify:function(){return Pe},ReEnrollAuthenticator:function(){return Ze},RedirectIdp:function(){return je},Remediator:function(){return H},ResetAuthenticator:function(){return Oe},SelectAuthenticatorAuthenticate:function(){return Ne},SelectAuthenticatorEnroll:function(){return Ue},SelectAuthenticatorUnlockAccount:function(){return He},SelectEnrollProfile:function(){return Ke},SelectEnrollmentChannel:function(){return ye},Skip:function(){return Xe}});var o=n(4942),i=n(5861),a=n(7757),u=n.n(a),s=n(2852),c=n(2620),f=n(1279),l=n(3193),p=n(7735);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){return{meta:e,interactionHandle:e.interactionHandle,state:e.state}}function y(e){return g.apply(this,arguments)}function g(){return g=(0,i.Z)(u().mark((function e(t){var n,r,o,i,a,s,h,y,g,m,b,k,w,O,E,T,S,_,A,P,R,x,Z,j,C=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=C.length>1&&void 0!==C[1]?C[1]:{},o=(0,l.YY)(o),i=(0,c.uN)(t,o),null===(n=i)||void 0===n||!n.interactionHandle){e.next=5;break}return e.abrupt("return",v(i));case 5:return e.next=7,(0,c.Xc)(t,d(d({},i),o));case 7:return i=e.sent,a=(0,f.zf)(t),h=(s=i).clientId,y=s.redirectUri,g=s.state,m=s.scopes,b=s.withCredentials,k=s.codeChallenge,w=s.codeChallengeMethod,O=s.activationToken,E=s.recoveryToken,T=s.maxAge,S=s.nonce,_=o.clientSecret||t.options.clientSecret,b=null===(r=b)||void 0===r||r,A="".concat(a,"/v1/interact"),P=d(d(d(d(d({client_id:h,scope:m.join(" "),redirect_uri:y,code_challenge:k,code_challenge_method:w,state:g},O&&{activation_token:O}),E&&{recovery_token:E}),_&&{client_secret:_}),T&&{max_age:T}),S&&{nonce:S}),R={"Content-Type":"application/x-www-form-urlencoded"},e.next=17,(0,p.c3)(t,{method:"POST",url:A,headers:R,withCredentials:b,args:P});case 17:return x=e.sent,Z=x.interaction_handle,j=d(d({},i),{},{interactionHandle:Z,withCredentials:b,state:g,scopes:m,recoveryToken:E,activationToken:O}),(0,c.r0)(t,j),e.abrupt("return",v(j));case 22:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}var m=n(5294),b=n(480),k=n(1971),w=n(7301);function O(e){return E.apply(this,arguments)}function E(){return E=(0,i.Z)(u().mark((function e(t){var n,r,o,i,a,s,c,l,h,d,v,y,g,O,E=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]?E[1]:{},(i=t.transactionManager.loadIdxResponse(n))&&(r=i.rawIdxResponse,o=i.requestDidSucceed),r){e.next=27;break}return s=n.version||k.IDX_API_VERSION,c=(0,f.Xp)(t),l=n.interactionHandle,h=n.stateHandle,d=null===(a=n.withCredentials)||void 0===a||a,e.prev=8,o=!0,(0,m.A0)(s),v="".concat(c,"/idp/idx/introspect"),y=h?{stateToken:h}:{interactionHandle:l},g={"Content-Type":"application/ion+json; okta-version=".concat(s),Accept:"application/ion+json; okta-version=".concat(s)},e.next=16,(0,p.c3)(t,{method:"POST",url:v,headers:g,withCredentials:d,args:y});case 16:r=e.sent,e.next=27;break;case 19:if(e.prev=19,e.t0=e.catch(8),!((0,w.Tw)(e.t0)&&e.t0.xhr&&(0,b.P)(e.t0.xhr.responseJSON))){e.next=26;break}r=e.t0.xhr.responseJSON,o=!1,e.next=27;break;case 26:throw e.t0;case 27:return O=n.withCredentials,e.abrupt("return",(0,m._T)(t,r,{withCredentials:O},o));case 29:case"end":return e.stop()}}),e,null,[[8,19]])}))),E.apply(this,arguments)}var T=n(1002),S=n(2982),_=n(4925),A=n(885),P=n(8750),R=n(146),x=n(5671),Z=n(3144);function j(e){return e.charAt(0).toUpperCase()+e.substring(1)}function C(e){return e.value.find((function(e){return"authenticator"===e.name}))}var D=n(1384);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t;if((0,D.H)(e))t=e;else{if("string"!=typeof e)throw new Error("Invalid format for authenticator");t={key:e}}return t}function N(e,t){return!!(e&&t&&(e.id&&t.id?e.id===t.id:e.key&&t.key&&e.key===t.key))}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,x.Z)(this,e),(0,o.Z)(this,"remediation",void 0),(0,o.Z)(this,"values",void 0),(0,o.Z)(this,"options",void 0),(0,o.Z)(this,"map",void 0),this.values=F({},n),this.options=F({},r),this.formatAuthenticators(),this.remediation=t}return(0,Z.Z)(e,[{key:"formatAuthenticators",value:function(){if(this.values.authenticators=this.values.authenticators||[],this.values.authenticators=this.values.authenticators.map((function(e){return M(e)})),this.values.authenticator){var e=M(this.values.authenticator);this.values.authenticators.some((function(t){return N(e,t)}))||this.values.authenticators.push(e)}this.values.authenticatorsData=this.values.authenticators.reduce((function(e,t){return"object"===(0,T.Z)(t)&&Object.keys(t).length>1&&e.push(t),e}),this.values.authenticatorsData||[])}},{key:"getName",value:function(){return this.remediation.name}},{key:"canRemediate",value:function(){var e,t,n=this;return!(e=this.remediation,null===(t=e.value)||void 0===t?void 0:t.reduce((function(e,t){return t.required&&e.push(t.name),e}),[])).find((function(e){return!n.hasData(e)}))}},{key:"getData",value:function(e){var t,n,r=this;if(!e){var o=(t=this.remediation,null===(n=t.value)||void 0===n?void 0:n.map((function(e){return e.name}))).reduce((function(e,t){return e[t]=r.getData(t),e}),{});return o}if("function"==typeof this["map".concat(j(e))]){var i=this["map".concat(j(e))](this.remediation.value.find((function(t){return t.name===e})));if(i)return i}if(this.map&&this.map[e])for(var a=this.map[e],u=0;u<a.length;u++){var s=this.values[a[u]];if(s)return s}return this.values[e]}},{key:"hasData",value:function(e){return!!this.getData(e)}},{key:"getNextStep",value:function(e,t){var n=this.getName(),r=this.getInputs(),o=this.getAuthenticator(),i=null==o?void 0:o.type;return F(F({name:n,inputs:r},i&&{type:i}),o&&{authenticator:o})}},{key:"getInputs",value:function(){var e=this,t=[];return(this.remediation.value||[]).forEach((function(n){var r,o=n.name,i=n.type,a=n.visible,u=n.messages;if(!1!==a){if("function"==typeof e["getInput".concat(j(o))])r=e["getInput".concat(j(o))](n);else if("object"!==i){var s,c=(e.map?e.map[o]:null)||[];s=1===c.length?c[0]:c.find((function(t){return Object.keys(e.values).includes(t)})),s&&(r=F(F({},n),{},{name:s}))}r||(r=n),Array.isArray(r)?r.forEach((function(e){return t.push(e)})):(u&&(r.messages=u),t.push(r))}})),t}},{key:"getValuesAfterProceed",value:function(){var e,t=this.remediation.value||[],n=this.getInputs(),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}([].concat((0,S.Z)(t),(0,S.Z)(n)));try{for(r.s();!(e=r.n()).done;){var o=e.value;delete this.values[o.name]}}catch(e){r.e(e)}finally{r.f()}return this.values}},{key:"getAuthenticator",value:function(){var e,t,n=null===(e=this.remediation.relatesTo)||void 0===e?void 0:e.value;if(n){var r=C(this.remediation);if(!r)return n;var o=r.form.value.find((function(e){return"id"===e.name})).value,i=null===(t=r.form.value.find((function(e){return"enrollmentId"===e.name})))||void 0===t?void 0:t.value;return F(F({},n),{},{id:o,enrollmentId:i})}}}],[{key:"getMessages",value:function(e){var t,n;if(e.value)return null===(t=e.value[0])||void 0===t||null===(n=t.form)||void 0===n?void 0:n.value.reduce((function(e,t){return t.messages&&(e=[].concat((0,S.Z)(e),(0,S.Z)(t.messages.value))),e}),[])}}]),e}();(0,o.Z)(H,"remediationName",void 0);var K=n(136),B=n(2963),V=n(1120),G=n(7326);function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,V.Z)(e)););return e}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Y.apply(this,arguments)}var W=function e(t){(0,x.Z)(this,e),(0,o.Z)(this,"meta",void 0),this.meta=t};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){return!!(e.credentials||e.verificationCode||e.otp)}},{key:"mapCredentials",value:function(e){var t=e.credentials,n=e.verificationCode,r=e.otp;if(t||n||r)return t||{passcode:n||r}}},{key:"getInputs",value:function(e){var t;return $($({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{},{name:"verificationCode",type:"string",required:e.required})}}]),o}(W);var X=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"mapCredentials",value:function(e){var t=e.verificationCode;if(t)return{totp:t}}}]),o}(Q);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){return!!(e.credentials||e.password||e.passcode)}},{key:"mapCredentials",value:function(e){var t=e.credentials,n=e.password,r=e.passcode;if(t||n||r)return t||{passcode:r||n}}},{key:"getInputs",value:function(e){var t;return ee(ee({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{},{name:"password",type:"string",required:e.required})}}]),o}(W);var ne=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){var t=e.credentials;if(t&&t.questionKey&&t.answer)return!0;var n=e.questionKey,r=e.question,o=e.answer;return!(!n||!o)||!(!r||!o)}},{key:"mapCredentials",value:function(e){var t=e.questionKey,n=e.question,r=e.answer;if(r&&(t||n))return{questionKey:n?"custom":t,question:n,answer:r}}},{key:"getInputs",value:function(){return[{name:"questionKey",type:"string",required:!0},{name:"question",type:"string",label:"Create a security question"},{name:"answer",type:"string",label:"Answer",required:!0}]}}]),o}(W);var re=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){var t=e.credentials;return!(!t||!t.answer)||!!e.answer}},{key:"mapCredentials",value:function(e){var t=e.answer;if(t)return{questionKey:this.meta.contextualData.enrolledQuestion.questionKey,answer:t}}},{key:"getInputs",value:function(){return[{name:"answer",type:"string",label:"Answer",required:!0}]}}]),o}(W);var oe=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){var t=e.credentials||e,n=t.clientData,r=t.attestation;return!(!n||!r)}},{key:"mapCredentials",value:function(e){var t=e.credentials,n=e.clientData,r=e.attestation;if(t||n||r)return t||{clientData:n,attestation:r}}},{key:"getInputs",value:function(){return[{name:"clientData",type:"string",required:!0,visible:!1,label:"Client Data"},{name:"attestation",type:"string",required:!0,visible:!1,label:"Attestation"}]}}]),o}(W);var ie=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){var t=e.credentials||e,n=t.clientData,r=t.authenticatorData,o=t.signatureData;return!!(n&&r&&o)}},{key:"mapCredentials",value:function(e){var t=e.credentials,n=e.authenticatorData,r=e.clientData,o=e.signatureData;if(t||n||r||o)return t||{authenticatorData:n,clientData:r,signatureData:o}}},{key:"getInputs",value:function(){return[{name:"authenticatorData",type:"string",label:"Authenticator Data",required:!0,visible:!1},{name:"clientData",type:"string",label:"Client Data",required:!0,visible:!1},{name:"signatureData",type:"string",label:"Signature Data",required:!0,visible:!1}]}}]),o}(W);function ae(e){var t,n,r=e.relatesTo,o=(null==r?void 0:r.value)||{};switch(o.key){case D.pc.OKTA_PASSWORD:return new te(o);case D.pc.SECURITY_QUESTION:return null!==(t=o.contextualData)&&void 0!==t&&t.enrolledQuestion?new re(o):new ne(o);case D.pc.OKTA_VERIFY:return new X(o);case D.pc.WEBAUTHN:return null!==(n=o.contextualData)&&void 0!==n&&n.challengeData?new ie(o):new oe(o);default:return new Q(o)}}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,x.Z)(this,i),t=r.call(this,e,n),(0,o.Z)((0,G.Z)(t),"authenticator",void 0),t.authenticator=ae(e),t}return(0,Z.Z)(i,[{key:"getNextStep",value:function(e,t){var n,r=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,e,t),o=null==t||null===(n=t.authenticatorEnrollments)||void 0===n?void 0:n.value;return se(se({},r),{},{authenticatorEnrollments:o})}},{key:"canRemediate",value:function(){return this.authenticator.canVerify(this.values)}},{key:"mapCredentials",value:function(){return this.authenticator.mapCredentials(this.values)}},{key:"getInputCredentials",value:function(e){return this.authenticator.getInputs(e)}},{key:"getValuesAfterProceed",value:function(){var e=this;return this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this),Object.keys(this.values).filter((function(e){return"credentials"!==e})).reduce((function(t,n){return se(se({},t),{},(0,o.Z)({},n,e.values[n]))}),{})}}]),i}(H);var fe=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}(ce);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(fe,"remediationName","enroll-authenticator");var he=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(){return(0,x.Z)(this,i),r.apply(this,arguments)}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!!this.values.startPolling||"enroll-poll"===this.options.step}},{key:"getNextStep",value:function(e,t){var n=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,e,t),r=this.getAuthenticator();return!r&&null!=t&&t.currentAuthenticator&&(r=t.currentAuthenticator.value),pe(pe({},n),{},{authenticator:r,poll:{required:!0,refresh:this.remediation.refresh}})}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter((function(e){return"startPolling"!==e})).reduce((function(t,n){return pe(pe({},t),{},(0,o.Z)({},n,e.values[n]))}),{})}}]),i}(H);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(he,"remediationName","enroll-poll");var ye=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(){return(0,x.Z)(this,i),r.apply(this,arguments)}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){if(this.values.channel)return!0;if(this.values.authenticator){var e=this.values.authenticator,t=e.id,n=e.channel;if(t&&n)return!0}return!1}},{key:"getNextStep",value:function(e,t){var n=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,e,t),r=this.getChannels(),o=t.currentAuthenticator.value;return ve(ve(ve({},n),r&&{options:r}),{},{authenticator:o})}},{key:"getChannels",value:function(){var e;return null===(e=C(this.remediation).value.form.value.find((function(e){return"channel"===e.name})))||void 0===e?void 0:e.options}},{key:"getData",value:function(){var e;return{authenticator:{id:this.remediation.value[0].value.form.value[0].value,channel:(null===(e=this.values.authenticator)||void 0===e?void 0:e.channel)||this.values.channel},stateHandle:this.values.stateHandle}}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this),delete this.values.authenticators;var t=this.values.channel?"channel":"authenticator";return Object.keys(this.values).filter((function(e){return e!==t})).reduce((function(t,n){return ve(ve({},t),{},(0,o.Z)({},n,e.values[n]))}),{})}}]),i}(H);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(ye,"remediationName","select-enrollment-channel");var be=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(){return(0,x.Z)(this,i),r.apply(this,arguments)}return(0,Z.Z)(i,[{key:"getInputEmail",value:function(){return[{name:"email",type:"string",required:!0,label:"Email"}]}},{key:"getInputPhoneNumber",value:function(){return[{name:"phoneNumber",type:"string",required:!0,label:"Phone Number"}]}},{key:"canRemediate",value:function(){return Boolean(this.values.email||this.values.phoneNumber)}},{key:"getNextStep",value:function(e,t){var n=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,e,t),r=t.currentAuthenticator.value;return me(me({},n),{},{authenticator:r})}},{key:"getData",value:function(){return{stateHandle:this.values.stateHandle,email:this.values.email,phoneNumber:this.values.phoneNumber}}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter((function(e){return!["email","phoneNumber"].includes(e)})).reduce((function(t,n){return me(me({},t),{},(0,o.Z)({},n,e.values[n]))}),{})}}]),i}(H);(0,o.Z)(be,"remediationName","enrollment-channel-data");var ke=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}(ce);(0,o.Z)(ke,"remediationName","challenge-authenticator");var we=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!!this.values.startPolling||"challenge-poll"===this.options.step}}]),o}(he);(0,o.Z)(we,"remediationName","challenge-poll");var Oe=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}(ce);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(Oe,"remediationName","reset-authenticator");var Se=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,x.Z)(this,i),t=r.call(this,e,n,a),(0,o.Z)((0,G.Z)(t),"authenticator",null);var u=t.getCredentialsFromRemediation();return u&&(t.authenticator=t.authenticator=new te({})),t}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){if(this.authenticator&&!this.authenticator.canVerify(this.values))return!1;var e=this.getData().userProfile;return!!e&&this.remediation.value.find((function(e){return"userProfile"===e.name})).form.value.reduce((function(t,n){return n.required&&(t=t&&!!e[n.name]),t}),!0)}},{key:"getCredentialsFromRemediation",value:function(){return this.remediation.value.find((function(e){return"credentials"===e.name}))}},{key:"mapUserProfile",value:function(e){var t=this,n=e.form.value.map((function(e){return e.name})).reduce((function(e,n){return t.values[n]?Te(Te({},e),{},(0,o.Z)({},n,t.values[n])):e}),{});if(0!==Object.keys(n).length)return n}},{key:"mapCredentials",value:function(){var e=this.authenticator&&this.authenticator.mapCredentials(this.values);if(e)return e}},{key:"getInputUserProfile",value:function(e){return(0,S.Z)(e.form.value)}},{key:"getInputCredentials",value:function(e){return(0,S.Z)(e.form.value)}},{key:"getErrorMessages",value:function(e){return e.value[0].form.value.reduce((function(e,t){return t.messages&&e.push(t.messages.value[0].message),e}),[])}}]),i}(H);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(Se,"remediationName","enroll-profile");var Pe=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(){var e;(0,x.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,G.Z)(e),"map",{identifier:["username"]}),e}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!!this.getData().identifier}},{key:"mapCredentials",value:function(){var e=this.values,t=e.credentials,n=e.password;if(t||n)return t||{passcode:n}}},{key:"getInputCredentials",value:function(e){return Ae(Ae({},e.form.value[0]),{},{name:"password",required:e.required})}}]),i}(H);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(Pe,"remediationName","identify");var Ze=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"mapCredentials",value:function(){var e=this.values.newPassword;if(e)return{passcode:e}}},{key:"getInputCredentials",value:function(e){var t="password"===this.getAuthenticator().type?"newPassword":"verificationCode";return xe(xe({},e.form.value[0]),{},{name:t})}}]),o}(H);(0,o.Z)(Ze,"remediationName","reenroll-authenticator");var je=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!1}},{key:"getNextStep",value:function(){var e=this.remediation;return{name:e.name,type:e.type,idp:e.idp,href:e.href}}}]),o}(H);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,o.Z)(je,"remediationName","redirect-idp");var Me=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(){var e;(0,x.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,G.Z)(e),"selectedAuthenticator",void 0),(0,o.Z)((0,G.Z)(e),"selectedOption",void 0),e}return(0,Z.Z)(i,[{key:"findMatchedOption",value:function(e,t){var n,r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{var i=function(){var e=r.value;if(n=t.find((function(t){return t.relatesTo.key===e.key})))return"break"};for(o.s();!(r=o.n()).done&&"break"!==i(););}catch(e){o.e(e)}finally{o.f()}return n}},{key:"canRemediate",value:function(){var e=this.values,t=e.authenticators,n=e.authenticator,r=C(this.remediation).options;return!!(t&&t.length&&((0,D.H)(n)&&n.id||this.findMatchedOption(t,r)))}},{key:"getNextStep",value:function(e){var t=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,e),n=C(this.remediation).options.map((function(e){var t=e;return{label:t.label,value:t.relatesTo.key}}));return De(De({},t),{},{options:n})}},{key:"mapAuthenticator",value:function(e){var t=this.values,n=t.authenticators,r=t.authenticator;if((0,D.H)(r)&&r.id)return this.selectedAuthenticator=r,r;var o=function(e,t){var n,r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{var i=function(){var e=r.value;if(n=t.find((function(t){return t.relatesTo.key===e.key})))return"break"};for(o.s();!(r=o.n()).done&&"break"!==i(););}catch(e){o.e(e)}finally{o.f()}return n}(n,e.options);return this.selectedAuthenticator=o.relatesTo,this.selectedOption=o,{id:null==o?void 0:o.value.form.value.find((function(e){return"id"===e.name})).value}}},{key:"getInputAuthenticator",value:function(e){return{name:"authenticator",type:"string",options:e.options.map((function(e){return{label:e.label,value:e.relatesTo.key}}))}}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticators.filter((function(t){return!0!==N(t,e.selectedAuthenticator)}));return De(De({},this.values),{},{authenticators:t})}}]),i}(H);var Ne=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,x.Z)(this,o);var u="recoverPassword"===(n=r.call(this,e,i,a)).options.flow,s=null===(t=C(e).options)||void 0===t?void 0:t.some((function(e){var t=e.relatesTo;return(null==t?void 0:t.key)===D.pc.OKTA_PASSWORD}));return s&&(u||n.values.password)&&(n.values.authenticators=[].concat((0,S.Z)(n.values.authenticators||[]),[{key:D.pc.OKTA_PASSWORD}])),n}return o}(Me);(0,o.Z)(Ne,"remediationName","select-authenticator-authenticate");var Ue=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}(Me);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(Ue,"remediationName","select-authenticator-enroll");var He=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(){var e;(0,x.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,G.Z)(e),"authenticator",void 0),(0,o.Z)((0,G.Z)(e),"map",{identifier:["username"]}),e}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!!this.getData("identifier")&&Y((0,V.Z)(i.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(e){var t,n,r,o=Y((0,V.Z)(i.prototype),"mapAuthenticator",this).call(this,e),a=null===(t=this.selectedOption)||void 0===t?void 0:t.value.form.value.find((function(e){return"methodType"===e.name})),u=this.values.methodType||(null==a?void 0:a.value)||(null==a||null===(n=a.options)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.value);return u?Fe(Fe({},o),{},{methodType:u}):o}},{key:"getInputUsername",value:function(){return{name:"username",type:"string"}}}]),i}(Me);(0,o.Z)(He,"remediationName","select-authenticator-unlock-account");var Ke=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!0}}]),o}(H);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(Ke,"remediationName","select-enroll-profile");var Ge=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,x.Z)(this,i),t=r.call(this,e,n),(0,o.Z)((0,G.Z)(t),"authenticator",void 0),t.authenticator=t.getAuthenticator(),t.formatAuthenticatorData(),t}return(0,Z.Z)(i,[{key:"formatAuthenticatorData",value:function(){var e=this;if(this.getAuthenticatorData())this.values.authenticatorsData=this.values.authenticatorsData.map((function(t){return N(e.authenticator,t)?e.mapAuthenticatorDataFromValues(t):t}));else{var t=this.mapAuthenticatorDataFromValues();t&&this.values.authenticatorsData.push(t)}}},{key:"getAuthenticatorData",value:function(){var e=this;return this.values.authenticatorsData.find((function(t){return N(e.authenticator,t)}))}},{key:"canRemediate",value:function(){var e=this;return this.values.authenticatorsData.some((function(t){return N(e.authenticator,t)}))}},{key:"getNextStep",value:function(e){var t=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,e),n=this.getMethodTypes();return Ve(Ve({},t),n&&{options:n})}},{key:"mapAuthenticatorDataFromValues",value:function(e){var t=this.values,n=t.methodType,r=t.authenticator;!n&&(0,D.H)(r)&&(n=null==r?void 0:r.methodType);var o=this.authenticator,i=Ve(Ve({id:o.id,enrollmentId:o.enrollmentId},e&&e),n&&{methodType:n});return i.methodType?i:null}},{key:"getAuthenticatorFromRemediation",value:function(){return this.remediation.value.find((function(e){return"authenticator"===e.name}))}},{key:"getMethodTypes",value:function(){var e;return null===(e=this.getAuthenticatorFromRemediation().form.value.find((function(e){return"methodType"===e.name})))||void 0===e?void 0:e.options}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticatorsData.filter((function(t){return!0!==N(e.authenticator,t)}));return Ve(Ve({},this.values),{},{authenticatorsData:t})}}]),i}(H);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,x.Z)(this,i),t=r.call(this,e,n),(0,o.Z)((0,G.Z)(t),"shouldProceedWithEmailAuthenticator",void 0),t.shouldProceedWithEmailAuthenticator=!1!==a.shouldProceedWithEmailAuthenticator&&1===t.authenticator.methods.length&&"email"===t.authenticator.methods[0].type,t}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!1!==this.shouldProceedWithEmailAuthenticator||Y((0,V.Z)(i.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(){var e;return!1!==this.shouldProceedWithEmailAuthenticator?null===(e=this.getAuthenticatorFromRemediation().form)||void 0===e?void 0:e.value.reduce((function(e,t){if(t.value)e[t.name]=t.value;else{if(!t.options)throw new w.R("Unsupported authenticator data type: ".concat(t));e[t.name]=t.options[0].value}return e}),{}):this.getAuthenticatorData()}},{key:"getInputAuthenticator",value:function(){var e=this.getAuthenticatorFromRemediation(),t=e.form.value.find((function(e){return"methodType"===e.name}));return t&&t.options?{name:"methodType",type:"string",required:!0,options:t.options}:(0,S.Z)(e.form.value)}},{key:"getValuesAfterProceed",value:function(){var e=this;return this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this),Object.keys(this.values).filter((function(e){return"authenticator"!==e})).reduce((function(t,n){return Ye(Ye({},t),{},(0,o.Z)({},n,e.values[n]))}),{})}}]),i}(Ge);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(We,"remediationName","authenticator-verification-data");var Qe=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"mapAuthenticator",value:function(){var e=this.getAuthenticatorData();return{id:C(this.remediation).form.value.find((function(e){return"id"===e.name})).value,methodType:e.methodType,phoneNumber:e.phoneNumber}}},{key:"getInputAuthenticator",value:function(e){return[{name:"methodType",type:"string"},{name:"phoneNumber",label:"Phone Number",type:"string"}].map((function(t){return $e($e({},e.form.value.find((function(e){return e.name===t.name}))),t)}))}},{key:"mapAuthenticatorDataFromValues",value:function(e){e=Y((0,V.Z)(o.prototype),"mapAuthenticatorDataFromValues",this).call(this,e);var t=this.values.phoneNumber;if(e||t)return $e($e({},e&&e),t&&{phoneNumber:t})}}]),o}(Ge);(0,o.Z)(Qe,"remediationName","authenticator-enrollment-data");var Xe=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!!this.values.skip||"skip"===this.options.step}}]),o}(H);function Je(e){if(Array.isArray(e))return e.map((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:Je(e)}));for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=(0,A.Z)(r[n],2),i=o[0],a=o[1];if(null!=a)if("object"===(0,T.Z)(a)){var u=Object.keys(a);if(["value","form"].includes(i)&&1===u.length&&["value","form"].includes(u[0])){var s=Je(a);Object.entries(s).forEach((function(e){var n=(0,A.Z)(e,2),r=n[0],o=n[1];t[r]=o}))}else t[i]=Je(a)}else t[i]=a}return t}(0,o.Z)(Xe,"remediationName","skip");var et=["href","method","rel","accepts","produces","value","action"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(e){(0,K.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!("function"!=typeof this.remediation.action||"poll"!==this.remediation.name&&!this.remediation.name.endsWith("-poll")&&!this.options.step)}},{key:"getData",value:function(){var e=this;return this.getInputs().reduce((function(t,n){var r=n.name;return t[r]=e.values[r],t}),{})}},{key:"getNextStep",value:function(e,t){var n,r=this.getName(),o=this.getInputs(),a=this.remediation,s=(a.href,a.method,a.rel,a.accepts,a.produces,a.value,a.action),c=(0,_.Z)(a,et);return s?nt(nt(nt({},c),!!o.length&&{inputs:o}),{},{action:(n=(0,i.Z)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.idx.proceed(nt({step:r},n)));case 1:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)})}):nt({},this.remediation)}},{key:"getInputs",value:function(){return(this.remediation.value||[]).filter((function(e){return"stateHandle"!==e.name})).map(Je).map((function(e){return e.type=e.type||"string",e}))}}]),o}(H),ot=["href","method","rel","accepts","produces"];function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e){var t=e.neededToProceed,n=e.interactionCode;return!t.length&&!n}function ft(e){if(e&&Array.isArray(e))return e.reduce((function(e,t){if(t.messages&&(e=[].concat((0,S.Z)(e),(0,S.Z)(t.messages.value))),t.form){var n=ft(t.form.value)||[];e=[].concat((0,S.Z)(e),(0,S.Z)(n))}if(t.options){var r=[];t.options.forEach((function(e){e.value&&"string"!=typeof e.value&&(r=[].concat((0,S.Z)(r),[e.value]))}));var o=ft(r)||[];e=[].concat((0,S.Z)(e),(0,S.Z)(o))}return e}),[])}function lt(e,t){var n,r=[],o=e.rawIdxState,i=e.neededToProceed,a=null===(n=o.messages)||void 0===n?void 0:n.value.map((function(e){return e}));if(a&&(r=[].concat((0,S.Z)(r),(0,S.Z)(a))),!t.useGenericRemediator){var u,s=ut(i);try{for(s.s();!(u=s.n()).done;){var c=ft(u.value.value);c&&(r=[].concat((0,S.Z)(r),(0,S.Z)(c)))}}catch(e){s.e(e)}finally{s.f()}}var f={};return r.reduce((function(e,t){var n,r=null===(n=t.i18n)||void 0===n?void 0:n.key;return r&&f[r]?e:(f[r]=t,e=[].concat((0,S.Z)(e),[t]))}),[])}function pt(e){var t=[],n=e.actions,r=e.neededToProceed;return n["currentAuthenticator-recover"]&&t.push(D.Fw.PASSWORD_RECOVERY),r.some((function(e){return"select-enroll-profile"===e.name}))&&t.push(D.Fw.REGISTRATION),r.some((function(e){return"redirect-idp"===e.name}))&&t.push(D.Fw.SOCIAL_IDP),r.some((function(e){return"unlock-account"===e.name}))&&t.push(D.Fw.ACCOUNT_UNLOCK),t}function ht(e,t,n){var o,a=[],s=Object.values(r).reduce((function(e,t){return t.remediationName&&(e[t.remediationName]=t),e}),{}),c=ut(t.neededToProceed);try{for(c.s();!(o=c.n()).done;){var f=o.value,l=vt(f,{useGenericRemediator:n,remediators:s});if(l){var p=new l(f);a.push(p.getNextStep(e,t.context))}}}catch(e){c.e(e)}finally{c.f()}for(var h=function(){var n,r=(0,A.Z)(v[d],1)[0],o={name:r,action:(n=(0,i.Z)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.idx.proceed({actions:[{name:r,params:n}]}));case 1:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)})};if(r.startsWith("currentAuthenticator")){var s,c=(0,P.YQ)(r,"-"),f=(0,A.Z)(c,2),l=f[0],p=f[1],h=t.rawIdxState[l].value[p],y=(h.href,h.method,h.rel,h.accepts,h.produces,(0,_.Z)(h,ot)),g=null===(s=h.value)||void 0===s?void 0:s.filter((function(e){return"stateHandle"!==e.name}));o=at(at(at({},y),g&&{value:g}),o)}a.push(o)},d=0,v=Object.entries(t.actions||{});d<v.length;d++)h();return a}function dt(e,t,n){var r=(e.neededToProceed||[]).find((function(e){return e.name===t}));return r?r.value.reduce((function(e,t){var r=t.name,o=t.value;return e[r]="stateHandle"===r?o:n[r],e}),{}):((0,R.ZK)('filterValuesForRemediation: "'.concat(t,'" did not match any remediations')),n)}function vt(e,t){var n=t.useGenericRemediator,r=t.remediators;if(e)return n?rt:r[e.name]}function yt(e,t,n){var r,o=n.remediators,i=n.useGenericRemediator;if(!n.step){var a=[];if(i)a.push(new rt(e[0],t,n));else{var u,s=ut(e);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(Object.keys(o).includes(c.name)){if((r=new(vt(c,n))(c,t,n)).canRemediate())return r;a.push(r)}}}catch(e){s.e(e)}finally{s.f()}}return a[0]}var f=e.find((function(e){return e.name===n.step}));if(f){var l=vt(f,n);return l?new l(f,t,n):void 0}(0,R.ZK)('step "'.concat(n.step,'" did not match any remediations'))}function gt(e,t,n){var r=t.getNextStep(e,n.context),o=function(e){return e.neededToProceed.some((function(e){return"skip"===e.name}))}(n),i=function(e){return Object.keys(e.actions).some((function(e){return e.includes("resend")}))}(n);return at(at(at({},r),o&&{canSkip:o}),i&&{canResend:i})}function mt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,b.f)(t)?t:null;if(!r)throw t;var o=ct(r=at(at({},r),{},{requestDidSucceed:!1})),i=lt(r,n);if(o)return{idxResponse:r,terminal:o,messages:i};var a=yt(r.neededToProceed,{},n),u=a&&gt(e,a,r);return at({idxResponse:r,messages:i},u&&{nextStep:u})}function bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t){return Object.keys(t.actions).find((function(t){return!!e.resend&&t.includes("-resend")}))}function Tt(e){return Ot(Ot({},e),{},{resend:void 0})}function St(e,t){var n=e.actions||[];return n=n.filter((function(e){return"string"==typeof e?e!==t:e.name!==t})),Ot(Ot({},e),{},{actions:n})}function _t(e,t,n,r){return At.apply(this,arguments)}function At(){return(At=(0,i.Z)(u().mark((function e(t,n,r,o){var i,a,s,c,f,l,p,h,d,v,y,g,m,b,k,O,E,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(i=n).neededToProceed,s=i.interactionCode,c=o.flow,!s){e.next=4;break}return e.abrupt("return",{idxResponse:n});case 4:if(f=yt(a,r,o),l=Et(r,n),p=o.actions||[],!(h=[].concat((0,S.Z)(p),(0,S.Z)(l&&[l]||[])))){e.next=28;break}d=bt(h),e.prev=10,y=u().mark((function e(){var i,s,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.value,s={},"string"!=typeof i&&(s=i.params||{},i=i.name),c=Tt(r),f=St(o,i),"function"!=typeof n.actions[i]){e.next=19;break}return e.prev=6,e.next=9,n.actions[i](s);case 9:n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{v:mt(t,e.t0,o)});case 16:if("cancel"!==i){e.next=18;break}return e.abrupt("return",{v:{idxResponse:n,canceled:!0}});case 18:return e.abrupt("return",{v:_t(t,n,c,f)});case 19:if(!a.find((function(e){return e.name===i}))){e.next=32;break}return e.prev=21,e.next=24,n.proceed(i,s);case 24:n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(21),e.abrupt("return",{v:mt(t,e.t1,o)});case 31:return e.abrupt("return",{v:_t(t,n,r,f)});case 32:case"end":return e.stop()}}),e,null,[[6,13],[21,28]])})),d.s();case 13:if((v=d.n()).done){e.next=20;break}return e.delegateYield(y(),"t0",15);case 15:if(g=e.t0,"object"!==(0,T.Z)(g)){e.next=18;break}return e.abrupt("return",g.v);case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(10),d.e(e.t1);case 25:return e.prev=25,d.f(),e.finish(25);case 28:if(!(m=ct(n))){e.next=31;break}return e.abrupt("return",{idxResponse:n,terminal:m});case 31:if(f){e.next=48;break}if(!o.step){e.next=45;break}return r=dt(n,o.step,r),e.prev=34,e.next=37,n.proceed(o.step,r);case 37:return n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),e.abrupt("return",{idxResponse:n});case 42:return e.prev=42,e.t2=e.catch(34),e.abrupt("return",mt(t,e.t2,o));case 45:if("default"!==c){e.next=47;break}return e.abrupt("return",{idxResponse:n});case 47:throw new w.R("\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [".concat(a.reduce((function(e,t){return e?e+" ,"+t.name:t.name}),""),"]\n    "));case 48:if(f.canRemediate()){e.next=51;break}return b=gt(t,f,n),e.abrupt("return",{idxResponse:n,nextStep:b});case 51:return k=f.getName(),O=f.getData(),e.prev=53,e.next=56,n.proceed(k,O);case 56:if(n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),r=f.getValuesAfterProceed(),!(o=Ot(Ot({},o),{},{step:void 0})).useGenericRemediator||n.interactionCode||ct(n)){e.next=64;break}return E=yt(n.neededToProceed,r,o),_=gt(t,E,n),e.abrupt("return",{idxResponse:n,nextStep:_});case 64:return e.abrupt("return",_t(t,n,r,o));case 67:return e.prev=67,e.t3=e.catch(53),e.abrupt("return",mt(t,e.t3,o));case 70:case"end":return e.stop()}}),e,null,[[10,22,25,28],[34,42],[53,67]])})))).apply(this,arguments)}var Pt={identify:Pe,"select-authenticator-authenticate":Ne,"select-authenticator-enroll":Ue,"authenticator-enrollment-data":Qe,"authenticator-verification-data":We,"enroll-authenticator":fe,"challenge-authenticator":ke,"challenge-poll":we,"reenroll-authenticator":Ze,"enroll-poll":he,"select-enrollment-channel":ye,"enrollment-channel-data":be,"redirect-idp":je,skip:Xe},Rt={identify:Pe,"identify-recovery":Pe,"select-authenticator-authenticate":Ne,"select-authenticator-enroll":Ue,"challenge-authenticator":ke,"authenticator-verification-data":We,"authenticator-enrollment-data":Qe,"reset-authenticator":Oe,"reenroll-authenticator":Ze,"enroll-poll":he},xt={"select-enroll-profile":Ke,"enroll-profile":Se,"authenticator-enrollment-data":Qe,"select-authenticator-enroll":Ue,"enroll-poll":he,"select-enrollment-channel":ye,"enrollment-channel-data":be,"enroll-authenticator":fe,skip:Xe},Zt={identify:Pe,"select-authenticator-unlock-account":He,"select-authenticator-authenticate":Ne,"challenge-authenticator":ke,"challenge-poll":we,"authenticator-verification-data":We};function jt(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=!0;switch(r){case"register":case"signup":case"enrollProfile":t=xt,o=!1;break;case"recoverPassword":case"resetPassword":t=Rt,n=["currentAuthenticator-recover","currentAuthenticatorEnrollment-recover"],o=!1;break;case"unlockAccount":t=Zt,o=!1,n=["unlock-account"];break;default:t=Pt}return{flow:r,remediators:t,actions:n,withCredentials:o}}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e){var t=Dt({},e);return["flow","remediators","actions","withCredentials","step","useGenericRemediator","exchangeCodeForTokens","shouldProceedWithEmailAuthenticator"].forEach((function(e){delete t[e]})),t}function Mt(e,t){var n=t.options,r=n=Dt(Dt({},e.options.idx),n),o=r.flow,i=r.withCredentials,a=r.remediators,u=r.actions,c=s.IdxStatus.PENDING;if(o=o||e.idx.getFlow()||"default"){e.idx.setFlow(o);var f=jt(e,o);i=void 0!==i?i:f.withCredentials,a=a||f.remediators,u=u||f.actions}return Dt(Dt({},t),{},{options:Dt(Dt({},n),{},{flow:o,withCredentials:i,remediators:a,actions:u}),status:c})}function Nt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,i.Z)(u().mark((function e(t,n){var r,o,i,a,s,f,l,p,h,d,v,g,m,b,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.options,o=r.stateHandle,i=r.withCredentials,a=r.version,s=r.state,f=r.scopes,l=r.recoveryToken,p=r.activationToken,h=r.maxAge,d=r.nonce,g=(0,c.uN)(t,{state:s,recoveryToken:l,activationToken:p}),!o){e.next=9;break}return e.next=6,O(t,{withCredentials:i,version:a,stateHandle:o});case 6:v=e.sent,e.next=20;break;case 9:if(b=null===(m=g)||void 0===m?void 0:m.interactionHandle){e.next=17;break}return t.transactionManager.clear(),e.next=14,y(t,{withCredentials:i,state:s,scopes:f,activationToken:p,recoveryToken:l,maxAge:h,nonce:d});case 14:k=e.sent,b=k.interactionHandle,g=k.meta;case 17:return e.next=19,O(t,{withCredentials:i,version:a,interactionHandle:b});case 19:v=e.sent;case 20:return e.abrupt("return",Dt(Dt({},n),{},{idxResponse:v,meta:g}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,i.Z)(u().mark((function e(t,n){var r,o,i,a,s,c,f,l,p,h,d,v,y,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.idxResponse,o=n.options,i=n.values,a=o.autoRemediate,s=o.remediators,c=o.actions,f=o.flow,l=o.step,p=o.shouldProceedWithEmailAuthenticator,h=o.useGenericRemediator,!1!==a&&(s||c||l)){e.next=5;break}return e.abrupt("return",n);case 5:return i=Dt(Dt({},i),{},{stateHandle:r.rawIdxState.stateHandle}),e.next=8,_t(t,r,i,{remediators:s,actions:c,flow:f,step:l,shouldProceedWithEmailAuthenticator:p,useGenericRemediator:h});case 8:return d=e.sent,v=d.idxResponse,y=d.nextStep,g=d.canceled,r=v,e.abrupt("return",Dt(Dt({},n),{},{idxResponse:r,nextStep:y,canceled:g}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,i.Z)(u().mark((function e(t,n){var r,o,i,a,s,c,f,l,p,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.meta,o=n.idxResponse,i=o.interactionCode,s=(a=r).clientId,c=a.codeVerifier,f=a.ignoreSignature,l=a.redirectUri,p=a.urls,h=a.scopes,e.next=5,t.token.exchangeCodeForTokens({interactionCode:i,clientId:s,codeVerifier:c,ignoreSignature:f,redirectUri:l,scopes:h},p);case 5:return d=e.sent,e.abrupt("return",d.tokens);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,i.Z)(u().mark((function e(t,n){var r,o,i,a,c,f,l,p,h,d,v,y,g,m,b,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.options,o=n.idxResponse,i=n.canceled,a=n.status,c=r.exchangeCodeForTokens,f=!1,l=!1,p=!0,o&&(f=!(!o.requestDidSucceed&&!o.stepUp),v=pt(o),y=ht(t,o,r.useGenericRemediator),g=lt(o,r),m=ct(o)),!m){e.next=15;break}a=s.IdxStatus.TERMINAL,b=Object.keys(o.actions).length>0,k=!!g.find((function(e){return"ERROR"===e.class})),b||k||!0!==o.requestDidSucceed?f=f&&b:l=!0,p=!1,e.next=32;break;case 15:if(!i){e.next=20;break}a=s.IdxStatus.CANCELED,l=!0,e.next=32;break;case 20:if(null==o||!o.interactionCode){e.next=32;break}if(h=o.interactionCode,!1!==c){e.next=27;break}a=s.IdxStatus.SUCCESS,l=!1,e.next=32;break;case 27:return e.next=29,Ht(t,n);case 29:d=e.sent,a=s.IdxStatus.SUCCESS,l=!0;case 32:return e.abrupt("return",Dt(Dt({},n),{},{status:a,interactionCode:h,tokens:d,shouldSaveResponse:f,shouldClearTransaction:l,clearSharedStorage:p,enabledFeatures:v,availableSteps:y,messages:g,terminal:m}));case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e,t){var n=t.error,r=t.status;t.shouldClearTransaction;if(!(0,b.f)(e))throw e;return n=e,r=s.IdxStatus.FAILURE,!0,Dt(Dt({},t),{},{error:n,status:r,shouldClearTransaction:true})}function qt(e){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,i.Z)(u().mark((function e(t){var n,r,o,i,a,s,f,l,p,h,d,v,y,g,m,b,k,w,O,E,T,S,_,A,P,R,x,Z,j=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.length>1&&void 0!==j[1]?j[1]:{},r={options:n,values:It(n)},r=Mt(t,r),e.prev=3,e.next=6,Nt(t,r);case 6:return r=e.sent,e.next=9,Lt(t,r);case 9:r=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),r=Gt(e.t0,r);case 15:return e.next=17,Bt(t,r);case 17:return r=e.sent,i=(o=r).idxResponse,a=o.meta,s=o.shouldSaveResponse,f=o.shouldClearTransaction,l=o.clearSharedStorage,p=o.status,h=o.enabledFeatures,d=o.availableSteps,v=o.tokens,y=o.nextStep,g=o.messages,m=o.error,b=o.interactionCode,f?t.transactionManager.clear({clearSharedStorage:l}):((0,c.r0)(t,Dt({},a)),s&&(O=(w=i).rawIdxState,E=w.requestDidSucceed,t.transactionManager.saveIdxResponse({rawIdxResponse:O,requestDidSucceed:E,stateHandle:null===(k=i.context)||void 0===k?void 0:k.stateHandle,interactionHandle:null==a?void 0:a.interactionHandle}))),S=(T=i||{}).actions,_=T.context,A=T.neededToProceed,P=T.proceed,R=T.rawIdxState,x=T.requestDidSucceed,Z=T.stepUp,e.abrupt("return",Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt({status:p},a&&{meta:a}),h&&{enabledFeatures:h}),d&&{availableSteps:d}),v&&{tokens:v}),y&&{nextStep:y}),g&&g.length&&{messages:g}),m&&{error:m}),Z&&{stepUp:Z}),{},{interactionCode:b,actions:S,context:_,neededToProceed:A,proceed:P,rawIdxState:R,requestDidSucceed:x}));case 22:case"end":return e.stop()}}),e,null,[[3,12]])}))),Yt.apply(this,arguments)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,i.Z)(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=r.length>1&&void 0!==r[1]?r[1]:{}).password&&!n.authenticator&&(n.authenticator=s.AuthenticatorKey.OKTA_PASSWORD),e.abrupt("return",qt(t,zt(zt({},n),{},{flow:"authenticate"})));case 3:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,i.Z)(u().mark((function e(t,n){var r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transactionManager.load(),o=jt(t,r.flow),e.abrupt("return",qt(t,Jt(Jt(Jt({},n),o),{},{actions:["cancel"]})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nn=n(6245),rn=n(1969);var on=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var o=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,B.Z)(this,e)});function i(e,t){var n;return(0,x.Z)(this,i),n=r.call(this,"Enter the OTP code in the originating client: ".concat(t)),(0,o.Z)((0,G.Z)(n),"state",void 0),(0,o.Z)((0,G.Z)(n),"otp",void 0),n.name="EmailVerifyCallbackError",n.state=e,n.otp=t,n}return i}(nn.Z);function an(e){return"EmailVerifyCallbackError"===e.name}function un(e){return/(otp=)/i.test(e)&&/(state=)/i.test(e)}function sn(e){return(0,rn.v)(e)}function cn(e,t){return fn.apply(this,arguments)}function fn(){return(fn=(0,i.Z)(u().mark((function e(t,n){var r,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!un(n)){e.next=9;break}if(r=sn(n),o=r.state,i=r.otp,!t.idx.canProceed({state:o})){e.next=8;break}return e.next=5,t.idx.proceed({state:o,otp:i});case 5:return e.abrupt("return",e.sent);case 8:throw new on(o,i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.uN)(e,t);return!(!n&&!t.stateHandle)}function dn(e){return vn.apply(this,arguments)}function vn(){return vn=(0,i.Z)(u().mark((function e(t){var n,r,o,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},hn(t,n)){e.next=3;break}throw new w.R("Unable to proceed: saved transaction could not be loaded");case 3:return r=n.flow,o=n.state,r||(i=(0,c.uN)(t,{state:o}),r=null==i?void 0:i.flow),e.abrupt("return",qt(t,pn(pn({},n),{},{flow:r})));case 6:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}function yn(e){return gn.apply(this,arguments)}function gn(){return gn=(0,i.Z)(u().mark((function e(t){var n,r,o,a,s,f=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,dn(t,{startPolling:!0});case 3:if(o=e.sent,a=(0,c.uN)(t),null!=(s=null==a||null===(n=a.remediations)||void 0===n?void 0:n.find((function(e){return e.includes("poll")})))&&s.length||(0,R.ZK)("No polling remediations available at the current IDX flow stage"),!Number.isInteger(r.refresh)){e.next=9;break}return e.abrupt("return",new Promise((function(e,n){setTimeout((0,i.Z)(u().mark((function r(){var i,a,s;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{s=null===(i=o.nextStep)||void 0===i||null===(a=i.poll)||void 0===a?void 0:a.refresh,e(s?yn(t,{refresh:s}):o)}catch(e){n(e)}case 1:case"end":return r.stop()}}),r)}))),r.refresh)})));case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e){return wn.apply(this,arguments)}function wn(){return wn=(0,i.Z)(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.transactionManager.clear(),e.abrupt("return",qt(t,bn({exchangeCodeForTokens:!1},n)));case 3:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,i.Z)(u().mark((function e(t){var n,r,o,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},(0,c.$0)(t)){e.next=13;break}return e.next=4,kn(t,En(En({},n),{},{flow:"register",autoRemediate:!1}));case 4:if(r=e.sent,o=r.enabledFeatures,i=r.availableSteps,n.activationToken||!o||o.includes(s.IdxFeature.REGISTRATION)){e.next=10;break}throw new w.R("Registration is not supported based on your current org configuration.");case 10:if(!n.activationToken||null==i||!i.some((function(e){return"identify"===e.name}))){e.next=13;break}throw new w.R("activationToken is not supported based on your current org configuration.");case 13:return e.abrupt("return",qt(t,En(En({},n),{},{flow:"register"})));case 14:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,i.Z)(u().mark((function e(t){var n,r,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=jt(t,"recoverPassword"),e.abrupt("return",qt(t,An(An({},n),r)));case 3:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,i.Z)(u().mark((function e(t,n){var r,o,i,a,s,c,f,l,p,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transactionManager.load()){e.next=3;break}throw new w.R("No transaction data was found in storage");case 3:if(o=r.codeVerifier,i=r.state,a=new URL(n),s=a.searchParams,c=s.get("state"),f=s.get("interaction_code"),!(l=s.get("error"))){e.next=10;break}throw new w.BK(l,s.get("error_description"));case 10:if(c===i){e.next=12;break}throw new w.R("State in redirect uri does not match with transaction state");case 12:if(f){e.next=14;break}throw new w.R("Unable to parse interaction_code from the url");case 14:return e.next=16,t.token.exchangeCodeForTokens({interactionCode:f,codeVerifier:o});case 16:p=e.sent,h=p.tokens,t.tokenManager.setTokens(h);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e){return In.apply(this,arguments)}function In(){return In=(0,i.Z)(u().mark((function e(t){var n,r,o,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=i.length>1&&void 0!==i[1]?i[1]:{}).flow="unlockAccount",(0,c.$0)(t)){e.next=9;break}return e.next=5,kn(t,Cn(Cn({},n),{},{autoRemediate:!1}));case 5:if(r=e.sent,!(o=r.enabledFeatures)||o.includes(s.IdxFeature.ACCOUNT_UNLOCK)){e.next=9;break}throw new w.R("Self Service Account Unlock is not supported based on your current org configuration.");case 9:return e.abrupt("return",qt(t,Cn({},n)));case 10:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}},2620:function(e,t,n){"use strict";n.d(t,{Xc:function(){return p},$0:function(){return d},uN:function(){return v},Co:function(){return y},r0:function(){return m},Jm:function(){return b},Wf:function(){return k},bl:function(){return w},UC:function(){return O}});var r=n(4942),o=n(5861),i=n(7757),a=n.n(i),u=n(3193),s=n(146),c=n(1279);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return h.apply(this,arguments)}function h(){return h=(0,o.Z)(a().mark((function e(t){var n,r,o,i,u,s,f,p,h,d,v,y,g,m,b,k=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.length>1&&void 0!==k[1]?k[1]:{},e.next=3,t.token.prepareTokenParams(n);case 3:return r=e.sent,o=(0,c.H)(t,r),i=l(l({},t.options),n),u=i.flow,s=void 0===u?"default":u,f=i.withCredentials,p=void 0===f||f,h=i.activationToken,d=void 0===h?void 0:h,v=i.recoveryToken,y=void 0===v?void 0:v,g=i.maxAge,m=void 0===g?void 0:g,b=l(l({},o),{},{flow:s,withCredentials:p,activationToken:d,recoveryToken:y,maxAge:m}),e.abrupt("return",b);case 8:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function d(e,t){var n=v(e,t);return!(null==n||!n.interactionHandle)}function v(e,t){var n;t=(0,u.YY)(t),t=l(l({},e.options),t);try{n=e.transactionManager.load(t)}catch(e){}if(n)return k(n,t)?n:void(0,s.ZK)("Saved transaction meta does not match the current configuration. This may indicate that two apps are sharing a storage key.")}function y(e,t){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,u.YY)(n),n=l(l({},t.options),n),!(r=v(t,n))){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",p(t,n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){e.transactionManager.save(t,{muteWarning:!0})}function b(e){e.transactionManager.clear()}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["issuer","clientId","redirectUri","state","codeChallenge","codeChallengeMethod","activationToken","recoveryToken"];if(!1===O(e,t,n))return!1;var r=t.flow;return!1!==w(e,r)}function w(e,t){return!(t&&"default"!==t&&"proceed"!==t)||t===e.flow}function O(e,t,n){return!n.some((function(n){var r=t[n];if(r&&r!==e[n])return!0}))}},480:function(e,t,n){"use strict";function r(e){return e&&e.version}function o(e){return e&&r(e.rawIdxState)}n.d(t,{P:function(){return r},f:function(){return o}})},1384:function(e,t,n){"use strict";var r,o,i;function a(e){return e&&(e.key||e.id)}n.d(t,{pc:function(){return o},Fw:function(){return i},Qd:function(){return r},H:function(){return a}}),function(e){e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.FAILURE="FAILURE",e.TERMINAL="TERMINAL",e.CANCELED="CANCELED"}(r||(r={})),function(e){e.OKTA_PASSWORD="okta_password",e.OKTA_EMAIL="okta_email",e.PHONE_NUMBER="phone_number",e.GOOGLE_AUTHENTICATOR="google_otp",e.SECURITY_QUESTION="security_question",e.OKTA_VERIFY="okta_verify",e.WEBAUTHN="webauthn"}(o||(o={})),function(e){e.PASSWORD_RECOVERY="recover-password",e.REGISTRATION="enroll-profile",e.SOCIAL_IDP="redirect-idp",e.ACCOUNT_UNLOCK="unlock-account"}(i||(i={}))},7938:function(e,t,n){"use strict";n.d(t,{BaseTransaction:function(){return v},EmailChallengeTransaction:function(){return k},EmailRole:function(){return N},EmailStatusTransaction:function(){return b},EmailTransaction:function(){return m},PhoneTransaction:function(){return w},ProfileSchemaTransaction:function(){return g},ProfileTransaction:function(){return y},Status:function(){return U},addEmail:function(){return V},addPhone:function(){return Q},deleteEmail:function(){return G},deletePhone:function(){return X},getEmail:function(){return B},getEmailChallenge:function(){return Y},getEmails:function(){return K},getPhone:function(){return $},getPhones:function(){return z},getProfile:function(){return L},getProfileSchema:function(){return H},sendEmailChallenge:function(){return q},sendPhoneChallenge:function(){return J},updateProfile:function(){return F},verifyEmailChallenge:function(){return W},verifyPhoneChallenge:function(){return ee}});var r=n(5861),o=n(7757),i=n.n(o),a=n(4942),u=n(1002),s=n(5671),c=n(7326),f=n(136),l=n(2963),p=n(1120),h=n(4925),d=["headers"],v=function e(t,n){var r=this;(0,s.Z)(this,e),(0,a.Z)(this,"headers",void 0);var o=n.res,i=o.headers,u=(0,h.Z)(o,d);i&&(this.headers=i),Object.keys(u).forEach((function(e){"_links"!==e&&(r[e]=u[e])}))};var y=function(e){(0,f.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function o(e,t){var n;(0,s.Z)(this,o),n=r.call(this,e,t),(0,a.Z)((0,c.Z)(n),"createdAt",void 0),(0,a.Z)((0,c.Z)(n),"modifiedAt",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0);var i=t.res,u=i.createdAt,f=i.modifiedAt,l=i.profile;return n.createdAt=u,n.modifiedAt=f,n.profile=l,n}return o}(v);var g=function(e){(0,f.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function o(e,t){var n;return(0,s.Z)(this,o),n=r.call(this,e,t),(0,a.Z)((0,c.Z)(n),"properties",void 0),n.properties=t.res.properties,n}return o}(v);var m=function(e){(0,f.Z)(u,e);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(e,t){var n;(0,s.Z)(this,u),n=o.call(this,e,t),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"roles",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0),(0,a.Z)((0,c.Z)(n),"get",void 0),(0,a.Z)((0,c.Z)(n),"delete",void 0),(0,a.Z)((0,c.Z)(n),"challenge",void 0),(0,a.Z)((0,c.Z)(n),"poll",void 0),(0,a.Z)((0,c.Z)(n),"verify",void 0);var f,l=t.accessToken,p=t.res,h=p.id,d=p.profile,v=p.roles,y=p.status,g=p._links;return n.id=h,n.profile=d,n.roles=v,n.status=y,n.get=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"get",links:g,transactionClassName:"EmailTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),n.delete=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"delete",links:g}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),n.challenge=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"challenge",links:g,transactionClassName:"EmailChallengeTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),g.poll&&(n.poll=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"poll",links:g,transactionClassName:"EmailStatusTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))),g.verify&&(n.verify=(f=(0,r.Z)(i().mark((function t(n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:l,methodName:"verify",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),function(e){return f.apply(this,arguments)})),n}return u}(v);var b=function(e){(0,f.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function o(e,t){var n;(0,s.Z)(this,o),n=r.call(this,e,t),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"expiresAt",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0);var i=t.res,u=i.id,f=i.profile,l=i.expiresAt,p=i.status;return n.id=u,n.expiresAt=l,n.profile=f,n.status=p,n}return o}(v);var k=function(e){(0,f.Z)(u,e);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(e,t){var n;(0,s.Z)(this,u),n=o.call(this,e,t),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"expiresAt",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0),(0,a.Z)((0,c.Z)(n),"poll",void 0),(0,a.Z)((0,c.Z)(n),"verify",void 0);var f,l=t.accessToken,p=t.res,h=p.id,d=p.expiresAt,v=p.profile,y=p.status,g=p._links;return n.id=h,n.expiresAt=d,n.profile=v,n.status=y,n.poll=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"poll",links:g,transactionClassName:"EmailStatusTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),n.verify=(f=(0,r.Z)(i().mark((function t(n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:l,methodName:"verify",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),function(e){return f.apply(this,arguments)}),n}return u}(v);var w=function(e){(0,f.Z)(u,e);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(e,t){var n;(0,s.Z)(this,u),n=o.call(this,e,t),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0),(0,a.Z)((0,c.Z)(n),"get",void 0),(0,a.Z)((0,c.Z)(n),"delete",void 0),(0,a.Z)((0,c.Z)(n),"challenge",void 0),(0,a.Z)((0,c.Z)(n),"verify",void 0);var f,l,p=t.res,h=t.accessToken,d=p.id,v=p.profile,y=p.status,g=p._links;return n.id=d,n.profile=v,n.status=y,n.get=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:h,methodName:"get",links:g,transactionClassName:"PhoneTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),n.delete=(0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:h,methodName:"delete",links:g}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),n.challenge=(f=(0,r.Z)(i().mark((function t(n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:h,methodName:"challenge",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),function(e){return f.apply(this,arguments)}),g.verify&&(n.verify=(l=(0,r.Z)(i().mark((function t(n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:h,methodName:"verify",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),function(e){return l.apply(this,arguments)})),n}return u}(v),O=n(7735),E=n(7301);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){if(!e)throw new E.R("Missing header string");return e.split(",").map((function(e){return e.trim()})).map((function(e){return e.split("=")})).reduce((function(e,t){return e[t[0]]=t[1].replace(/^"(.*)"$/,"$1"),e}),{})};function A(e,t){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u,s,c,f,l,p,h,d,T,A,P,R,x,Z,j,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.tokenManager.getTokensSync(),o=r.accessToken,a=r.idToken,u=null==a?void 0:a.idToken,s=n.accessToken||(null==o?void 0:o.accessToken),c=t.options.issuer,f=n.url,l=n.method,p=n.payload,h=f.startsWith(c)?f:"".concat(c).concat(f),s){e.next=8;break}throw new E.R("AccessToken is required to request MyAccount API endpoints.");case 8:return e.prev=8,e.next=11,(0,O.c3)(t,S({headers:{Accept:"*/*;okta-version=1.0.0"},accessToken:s,url:h,method:l},p&&{args:p}));case 11:d=e.sent,e.next=28;break;case 14:if(e.prev=14,e.t0=e.catch(8),A=e.t0.xhr,!u||403!==(null==A?void 0:A.status)||null==A||null===(T=A.headers)||void 0===T||!T["www-authenticate"]){e.next=27;break}if(R=_(null==A||null===(P=A.headers)||void 0===P?void 0:P["www-authenticate"]),x=R.error,Z=R.error_description,j=R.max_age,"insufficient_authentication_context"!==x){e.next=24;break}throw new E.Ws({errorSummary:x,errorCauses:[{errorSummary:Z}]},A,{max_age:+j});case 24:case 27:throw e.t0;case 25:e.next=28;break;case 28:if(C={EmailTransaction:m,EmailStatusTransaction:b,EmailChallengeTransaction:k,ProfileTransaction:y,ProfileSchemaTransaction:g,PhoneTransaction:w}[n.transactionClassName]||v,!Array.isArray(d)){e.next=32;break}return e.abrupt("return",d.map((function(e){return new C(t,{res:e,accessToken:s})})));case 32:return e.abrupt("return",new C(t,{res:d,accessToken:s}));case 33:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}function R(e){for(var t=e.oktaAuth,n=e.accessToken,o=e.methodName,a=e.links,s=e.transactionClassName,c=function(){var e,u=l[f];if(u.toLowerCase()===o){var c=a.self;return{v:(e=(0,r.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(t,{accessToken:n,url:c.href,method:u,payload:r,transactionClassName:s}));case 1:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}}},f=0,l=["GET","POST","PUT","DELETE"];f<l.length;f++){var p=c();if("object"===(0,u.Z)(p))return p.v}var h,d=a[o];if(!d)throw new E.R("No link is found with methodName: ".concat(o));return h=(0,r.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(t,{accessToken:n,url:d.href,method:d.hints.allow[0],payload:r,transactionClassName:s}));case 1:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}}var x,Z,j,C,D,I,M,N,U,L=(x=(0,r.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/profile",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"ProfileTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)}),F=(Z=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).payload,a=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/profile",method:"PUT",payload:o,accessToken:a,transactionClassName:"ProfileTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return Z.apply(this,arguments)}),H=(j=(0,r.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/profile/schema",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"ProfileSchemaTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return j.apply(this,arguments)}),K=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/emails",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"EmailTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).id,a=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o),method:"GET",accessToken:a,transactionClassName:"EmailTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).accessToken,a=r.payload,e.next=3,A(t,{url:"/idp/myaccount/emails",method:"POST",payload:a,accessToken:o,transactionClassName:"EmailTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=(C=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).id,a=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o),method:"DELETE",accessToken:a});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return C.apply(this,arguments)}),q=(D=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).id,a=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o,"/challenge"),method:"POST",accessToken:a,transactionClassName:"EmailChallengeTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)}),Y=(I=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).emailId,a=r.challengeId,u=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o,"/challenge/").concat(a),method:"POST",accessToken:u,transactionClassName:"EmailChallengeTransaction"});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)}),W=(M=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).emailId,a=r.challengeId,u=r.payload,s=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o,"/challenge/").concat(a,"/verify"),method:"POST",payload:u,accessToken:s});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return M.apply(this,arguments)}),z=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/phones",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"PhoneTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).accessToken,a=r.id,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(a),method:"GET",accessToken:o,transactionClassName:"PhoneTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).accessToken,a=r.payload,e.next=3,A(t,{url:"/idp/myaccount/phones",method:"POST",payload:a,accessToken:o,transactionClassName:"PhoneTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).id,a=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(o),method:"DELETE",accessToken:a});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).accessToken,a=r.id,u=r.payload,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(a,"/challenge"),method:"POST",payload:u,accessToken:o});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n).id,a=r.payload,u=r.accessToken,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(o,"/verify"),method:"POST",payload:a,accessToken:u});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY"}(N||(N={})),function(e){e.VERIFIED="VERIFIED",e.UNVERIFIED="UNVERIFIED"}(U||(U={}))},1237:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(7301),o=n(9326);function i(e){var t,n=e.split(".");try{t={header:JSON.parse((0,o.base64UrlToString)(n[0])),payload:JSON.parse((0,o.base64UrlToString)(n[1])),signature:n[2]}}catch(e){throw new r.R("Malformed token")}return t}},52:function(e,t,n){"use strict";n.d(t,{E:function(){return a},k:function(){return u}});var r=n(7735),o=n(3193),i=n(9123);function a(e,t){var n=t||e.options.issuer;return(0,r.U2)(e,n+"/.well-known/openid-configuration",{cacheResponse:!0})}function u(e,t,n){var u=e.storageManager.getHttpCache(e.options.cookies);return a(e,t).then((function(t){var a=t.jwks_uri,s=u.getStorage()[a];if(s&&Date.now()/1e3<s.expiresAt){var c=(0,o.sE)(s.response.keys,{kid:n});if(c)return c}return u.clearStorage(a),(0,r.U2)(e,a,{cacheResponse:!0}).then((function(e){var t=(0,o.sE)(e.keys,{kid:n});if(t)return t;throw new i.Z("The key id, "+n+", was not found in the server's keys")}))}))}},8676:function(e,t,n){"use strict";n.d(t,{s:function(){return p}});var r=n(5861),o=n(7757),i=n.n(o),a=n(3193),u=n(7599),s=n(7301),c=n(1260),f=n(1060);function l(e,t){if(e.error&&e.error_description)throw new s.BK(e.error,e.error_description);if(e.state!==t.state)throw new s.R("OAuth flow response state doesn't match request state")}function p(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t,n,r,o){var p,h,d,v,y,g,m,b,k,w,O,E,T,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===t.options.pkce||!r.code&&!r.interaction_code){e.next=3;break}return e.abrupt("return",t.token.exchangeCodeForTokens(Object.assign({},n,{authorizationCode:r.code,interactionCode:r.interaction_code}),o));case 3:if(n=n||(0,f.Dx)(t),o=o||(0,u.Fc)(t,n),p=n.responseType||[],Array.isArray(p)||(p=[p]),h=r.scope?r.scope.split(" "):(0,a.d9)(n.scopes),d=n.clientId||t.options.clientId,l(r,n),v={},y=r.expires_in,g=r.token_type,m=r.access_token,b=r.id_token,k=r.refresh_token,w=Math.floor(Date.now()/1e3),m&&(O=t.token.decode(m),v.accessToken={accessToken:m,claims:O.payload,expiresAt:Number(y)+w,tokenType:g,scopes:h,authorizeUrl:o.authorizeUrl,userinfoUrl:o.userinfoUrl}),k&&(v.refreshToken={refreshToken:k,expiresAt:Number(y)+w,scopes:h,tokenUrl:o.tokenUrl,authorizeUrl:o.authorizeUrl,issuer:o.issuer}),!b){e.next=27;break}return E=t.token.decode(b),T={idToken:b,claims:E.payload,expiresAt:E.payload.exp-E.payload.iat+w,scopes:h,authorizeUrl:o.authorizeUrl,issuer:o.issuer,clientId:d},S={clientId:d,issuer:o.issuer,nonce:n.nonce,accessToken:m},void 0!==n.ignoreSignature&&(S.ignoreSignature=n.ignoreSignature),e.next=26,(0,c.W)(t,T,S);case 26:v.idToken=T;case 27:if(-1===p.indexOf("token")||v.accessToken){e.next=29;break}throw new s.R('Unable to parse OAuth flow response: response type "token" was requested but "access_token" was not returned.');case 29:if(-1===p.indexOf("id_token")||v.idToken){e.next=31;break}throw new s.R('Unable to parse OAuth flow response: response type "id_token" was requested but "id_token" was not returned.');case 31:return e.abrupt("return",{tokens:v,state:r.state,code:r.code});case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1279:function(e,t,n){"use strict";n.d(t,{NH:function(){return g.NH},iC:function(){return g.iC},vz:function(){return g.vz},R0:function(){return l},_6:function(){return f},H:function(){return g.H},TD:function(){return m.T},rz:function(){return G},PY:function(){return g.PY},aV:function(){return g.aV},Dx:function(){return g.Dx},O2:function(){return g.O2},km:function(){return y.k},zf:function(){return g.zf},Xp:function(){return g.Xp},Fc:function(){return g.Fc},LP:function(){return x},bG:function(){return B},ES:function(){return y.E},dh:function(){return q},Hq:function(){return Y},y6:function(){return Z},sw:function(){return R.s},ZP:function(){return g.ZP},hg:function(){return g.hg},d_:function(){return g.d_},kU:function(){return g.kU},tC:function(){return g.tC},Ik:function(){return g.Ik},wc:function(){return g.wc},Cf:function(){return g.Cf},gM:function(){return g.gM},Qs:function(){return g.Qs},Yo:function(){return g.Yo},$E:function(){return g.$E},q0:function(){return g.q0},Rl:function(){return g.Rl},pU:function(){return g.pU},ko:function(){return z.ko},U5:function(){return g.U5},Dp:function(){return v},ti:function(){return d},mi:function(){return g.mi},wu:function(){return g.wu},ys:function(){return g.ys},$m:function(){return U},IK:function(){return F},Rm:function(){return D},PX:function(){return S},vL:function(){return g.vL},pj:function(){return g.pj},br:function(){return g.br},Rp:function(){return g.Rp},WX:function(){return K.W}});var r=n(4942),o=n(4771),i=n(3193),a=n(6718),u=n(7301);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(!e.clientId)throw new u.R("A clientId must be specified in the OktaAuth constructor to get a token");if((0,o.HD)(e.responseType)&&-1!==e.responseType.indexOf(" "))throw new u.R("Multiple OAuth responseTypes must be defined as an array");var t={client_id:e.clientId,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod,display:e.display,idp:e.idp,idp_scope:e.idpScope,login_hint:e.loginHint,max_age:e.maxAge,nonce:e.nonce,prompt:e.prompt,redirect_uri:e.redirectUri,response_mode:e.responseMode,response_type:e.responseType,sessionToken:e.sessionToken,state:e.state};if(t=(0,i.YY)(t),["idp_scope","response_type"].forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(" "))})),-1!==e.responseType.indexOf("id_token")&&-1===e.scopes.indexOf("openid"))throw new u.R("openid scope must be specified in the scopes argument when requesting an id_token");return t.scope=e.scopes.join(" "),t}function l(e){var t=f(e);return(0,a.UK)(c(c({},t),e.extraParams&&c({},e.extraParams)))}var p=n(885),h=n(7735);function d(e,t,n){!function(e){if(!e.clientId)throw new u.R("A clientId must be specified in the OktaAuth constructor to get a token");if(!e.redirectUri)throw new u.R("The redirectUri passed to /authorize must also be passed to /token");if(!e.authorizationCode&&!e.interactionCode)throw new u.R("An authorization code (returned from /authorize) must be passed to /token");if(!e.codeVerifier)throw new u.R('The "codeVerifier" (generated and saved by your app) must be passed to /token')}(t);var r=function(e,t){var n=(0,i.YY)({client_id:t.clientId,redirect_uri:t.redirectUri,grant_type:t.interactionCode?"interaction_code":"authorization_code",code_verifier:t.codeVerifier});t.interactionCode?n.interaction_code=t.interactionCode:t.authorizationCode&&(n.code=t.authorizationCode);var r=e.options.clientSecret;return r&&(n.client_secret=r),(0,a.UK)(n).slice(1)}(e,t);return(0,h.c3)(e,{url:n.tokenUrl,method:"POST",args:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function v(e,t,n){return(0,h.c3)(e,{url:n.tokenUrl,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},args:Object.entries({client_id:t.clientId,grant_type:"refresh_token",scope:n.scopes.join(" "),refresh_token:n.refreshToken}).map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return n+"="+encodeURIComponent(r)})).join("&")})}var y=n(52),g=n(1060),m=n(1237),b=n(5861),k=n(7757),w=n.n(k),O=n(7599),E=n(9326),T=n(9123);function S(e,t){return _.apply(this,arguments)}function _(){return(_=(0,b.Z)(w().mark((function e(t,n){var r,o,i,u,s,c,f;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",o="",n&&(r=n.accessToken,o=n.refreshToken),r||o){e.next=5;break}throw new T.Z("A valid access or refresh token object is required");case 5:if(i=t.options.clientId,u=t.options.clientSecret,i){e.next=9;break}throw new T.Z("A clientId must be specified in the OktaAuth constructor to revoke a token");case 9:return s=(0,O.Fc)(t).revokeUrl,c=(0,a.UK)({token_type_hint:o?"refresh_token":"access_token",token:o||r}).slice(1),f=u?(0,E.btoa)("".concat(i,":").concat(u)):(0,E.btoa)(i),e.abrupt("return",(0,h.v_)(t,s,c,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+f}}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(2852),P=n(6898),R=n(8676);function x(e,t){if(arguments.length>2)return Promise.reject(new T.Z('As of version 3.0, "getToken" takes only a single set of options'));var n=(t=t||{}).popupWindow;return t.popupWindow=void 0,(0,P.wu)(e,t).then((function(r){var o,i;switch(t.sessionToken?Object.assign(r,{prompt:"none",responseMode:"okta_post_message",display:null}):t.idp&&Object.assign(r,{display:"popup"}),i=(0,g.Fc)(e,r),o=(t.codeVerifier?i.tokenUrl:i.authorizeUrl)+l(r),r.sessionToken||null===r.display?"IFRAME":"popup"===r.display?"POPUP":"IMPLICIT"){case"IFRAME":var a=(0,g.iC)(e,t.timeout,r.state),u=(0,g.Rl)(o);return a.then((function(t){return(0,R.s)(e,r,t,i)})).finally((function(){var e;document.body.contains(u)&&(null===(e=u.parentElement)||void 0===e||e.removeChild(u))}));case"POPUP":var s;if("okta_post_message"===r.responseMode){if(!e.features.isPopupPostMessageSupported())throw new T.Z("This browser doesn't have full postMessage support");s=(0,g.iC)(e,t.timeout,r.state)}return n&&n.location.assign(o),new Promise((function(e,t){var r=setInterval((function(){n&&!n.closed||(clearInterval(r),t(new T.Z("Unable to parse OAuth flow response")))}),100);s.then((function(t){clearInterval(r),e(t)})).catch((function(e){clearInterval(r),t(e)}))})).then((function(t){return(0,R.s)(e,r,t,i)})).finally((function(){n&&!n.closed&&n.close()}));default:throw new T.Z("The full page redirect flow is not supported")}}))}function Z(e,t){return arguments.length>2?Promise.reject(new u.R('As of version 3.0, "getWithoutPrompt" takes only a single set of options')):(t=(0,i.d9)(t)||{},Object.assign(t,{prompt:"none",responseMode:"okta_post_message",display:null}),x(e,t))}var j=n(6635),C=n(9912);function D(e,t,n){return I.apply(this,arguments)}function I(){return(I=(0,b.Z)(w().mark((function e(t,n,r){var o,i,a,s,c,f,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.options.clientId){e.next=3;break}throw new u.R("A clientId must be specified in the OktaAuth constructor to renew tokens");case 3:return e.prev=3,i=Object.assign({},n,{clientId:o}),e.next=7,v(t,i,r);case 7:return a=e.sent,s=(0,O.Fc)(t,n),e.next=11,(0,R.s)(t,i,a,s);case 11:return c=e.sent,f=c.tokens,(l=f.refreshToken)&&!(0,j.q)(l,r)&&t.tokenManager.updateRefreshToken(l),e.abrupt("return",f);case 18:throw e.prev=18,e.t0=e.catch(3),(0,C.$E)(e.t0)&&t.tokenManager.removeRefreshToken(),e.t0;case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function M(){throw new u.R("Renew must be passed a token with an array of scopes and an accessToken or idToken")}function N(e,t){return(0,A.isIDToken)(e)?t.idToken:(0,A.isAccessToken)(e)?t.accessToken:void M()}function U(e,t){return L.apply(this,arguments)}function L(){return(L=(0,b.Z)(w().mark((function e(t,n){var r,o,i,a,u,s,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,A.isIDToken)(n)||(0,A.isAccessToken)(n)||M(),!(r=t.tokenManager.getTokensSync()).refreshToken){e.next=7;break}return e.next=5,D(t,{scopes:n.scopes},r.refreshToken);case 5:return r=e.sent,e.abrupt("return",N(n,r));case 7:return o=t.options.pkce?"code":(0,A.isAccessToken)(n)?"token":"id_token",a=(i=n).scopes,u=i.authorizeUrl,s=i.userinfoUrl,c=i.issuer,e.abrupt("return",Z(t,{responseType:o,scopes:a,authorizeUrl:u,userinfoUrl:s,issuer:c}).then((function(e){return N(n,e.tokens)})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return H.apply(this,arguments)}function H(){return(H=(0,b.Z)(w().mark((function e(t,n){var r,o,i,a,s,c,f,l,p;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.tokenManager.getTokensSync()).refreshToken){e.next=3;break}return e.abrupt("return",D(t,n||{},r.refreshToken));case 3:if(r.accessToken||r.idToken){e.next=5;break}throw new u.R("renewTokens() was called but there is no existing token");case 5:if(o=r.accessToken||{},i=r.idToken||{},a=o.scopes||i.scopes){e.next=10;break}throw new u.R("renewTokens: invalid tokens: could not read scopes");case 10:if(s=o.authorizeUrl||i.authorizeUrl){e.next=13;break}throw new u.R("renewTokens: invalid tokens: could not read authorizeUrl");case 13:return c=o.userinfoUrl||t.options.userinfoUrl,f=i.issuer||t.options.issuer,n=Object.assign({scopes:a,authorizeUrl:s,userinfoUrl:c,issuer:f},n),t.options.pkce?n.responseType="code":(l=(0,g.Dx)(t),p=l.responseType,n.responseType=p),e.abrupt("return",Z(t,n).then((function(e){return e.tokens})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=n(1260);function B(e,t,n){return V.apply(this,arguments)}function V(){return(V=(0,b.Z)(w().mark((function e(t,n,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.next=3,t.tokenManager.getTokens();case 3:n=e.sent.accessToken;case 4:if(r){e.next=8;break}return e.next=7,t.tokenManager.getTokens();case 7:r=e.sent.idToken;case 8:if(n&&(0,A.isAccessToken)(n)){e.next=10;break}return e.abrupt("return",Promise.reject(new u.R("getUserInfo requires an access token object")));case 10:if(r&&(0,A.isIDToken)(r)){e.next=12;break}return e.abrupt("return",Promise.reject(new u.R("getUserInfo requires an ID token object")));case 12:return e.abrupt("return",(0,h.c3)(t,{url:n.userinfoUrl,method:"GET",accessToken:n.accessToken}).then((function(e){return e.sub===r.claims.sub?e:Promise.reject(new u.R("getUserInfo request was rejected due to token mismatch"))})).catch((function(e){var t;if(e.xhr&&(401===e.xhr.status||403===e.xhr.status)&&(e.xhr.headers&&(0,o.mf)(e.xhr.headers.get)&&e.xhr.headers.get("WWW-Authenticate")?t=e.xhr.headers.get("WWW-Authenticate"):(0,o.mf)(e.xhr.getResponseHeader)&&(t=e.xhr.getResponseHeader("WWW-Authenticate")),t)){var n=t.match(/error="(.*?)"/)||[],r=t.match(/error_description="(.*?)"/)||[],i=n[1],a=r[1];i&&a&&(e=new u.BK(i,a))}throw e})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n){n=n||(0,g.Fc)(e,t);var r=t=Object.assign({},(0,g.Dx)(e),(0,i.d9)(t)),o=r.authorizationCode,a=r.interactionCode,u=r.codeVerifier,s=r.clientId,c=r.redirectUri,f=r.scopes,l=r.ignoreSignature,p=r.state;return d(e,{clientId:s,redirectUri:c,authorizationCode:o,interactionCode:a,codeVerifier:u},n).then((function(t){var r=["token"];-1!==f.indexOf("openid")&&r.push("id_token");var i={clientId:s,redirectUri:c,scopes:f,responseType:r,ignoreSignature:l};return(0,R.s)(e,i,t,n).then((function(e){return e.code=o,e.state=p,e}))})).finally((function(){e.transactionManager.clear()}))}function q(e,t){if(arguments.length>2)return Promise.reject(new u.R('As of version 3.0, "getWithPopup" takes only a single set of options'));var n=(0,g.pU)("/",t);return t=(0,i.d9)(t)||{},Object.assign(t,{display:"popup",responseMode:"okta_post_message",popupWindow:n}),x(e,t)}function Y(e,t){return W.apply(this,arguments)}function W(){return W=(0,b.Z)(w().mark((function e(t,n){var r,o,a,s=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>2)){e.next=2;break}return e.abrupt("return",Promise.reject(new u.R('As of version 3.0, "getWithRedirect" takes only a single set of options')));case 2:return n=(0,i.d9)(n)||{},e.next=5,(0,g.wu)(t,n);case 5:r=e.sent,o=(0,g.H)(t,r),a=o.urls.authorizeUrl+l(r),t.transactionManager.save(o,{oauth:!0}),t.token.getWithRedirect._setLocation(a);case 10:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var z=n(5372)},5372:function(e,t,n){"use strict";n.d(t,{Tp:function(){return l},ko:function(){return h}});var r=n(5861),o=n(7757),i=n.n(o),a=n(7301),u=n(1060),s=n(4771),c=n(8676);function f(e){var t=e.options.pkce?"query":"fragment";return e.options.responseMode||t}function l(e,t){t=t||{},(0,s.HD)(t)&&(t={url:t});var n,r=t.url,o=t.responseMode||f(e),i=e.token.parseFromUrl._getLocation();if(!(n="query"===o?r?r.substring(r.indexOf("?")):i.search:r?r.substring(r.indexOf("#")):i.hash))throw new a.R("Unable to parse a token from the url");return(0,u.vL)(n)}function p(e,t){"query"===(t.responseMode||f(e))?function(e){var t=e.token.parseFromUrl._getHistory(),n=e.token.parseFromUrl._getDocument(),r=e.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,r.pathname+r.hash):r.search=""}(e):function(e){var t=e.token.parseFromUrl._getHistory(),n=e.token.parseFromUrl._getDocument(),r=e.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,r.pathname+r.search):r.hash=""}(e)}function h(e,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t,n){var r,o,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},(0,s.HD)(n)&&(n={url:n}),r=l(t,n),o=r.state,f=t.transactionManager.load({oauth:!0,pkce:t.options.pkce,state:o})){e.next=7;break}return e.abrupt("return",Promise.reject(new a.R("Unable to retrieve OAuth redirect params from storage")));case 7:return h=f.urls,delete f.urls,n.url||p(t,n),e.abrupt("return",(0,c.s)(t,f,r,h).catch((function(e){throw(0,u.Cf)(e)||t.transactionManager.clear({state:o}),e})).then((function(e){return t.transactionManager.clear({state:o}),e})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7756:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(7599),o=n(415),i=n(3193);function a(e){var t=e.options,n=t.pkce,a=t.clientId,u=t.redirectUri,s=t.responseType,c=t.responseMode,f=t.scopes,l=t.state,p=t.ignoreSignature,h=(0,o.isBrowser)()?window.location.href:void 0;return(0,i.YY)({pkce:n,clientId:a,redirectUri:u||h,responseType:s||["token","id_token"],responseMode:c,state:l||(0,r.aV)(),nonce:(0,r.NH)(),scopes:f||["openid","email"],ignoreSignature:p})}},9912:function(e,t,n){"use strict";n.d(t,{Cf:function(){return o},tC:function(){return i},$E:function(){return a}});var r=n(7301);function o(e){return"OAuthError"===e.name&&"interaction_required"===e.errorCode}function i(e,t){if("AuthApiError"!==t.name)return!1;var n=t.xhr,r=null==n?void 0:n.responseJSON;return e.options.pkce&&"invalid_grant"===(null==r?void 0:r.error)}function a(e){return(0,r.eo)(e)&&"invalid_grant"===e.errorCode&&"The refresh token is invalid or expired."===e.errorSummary}},1060:function(e,t,n){"use strict";n.d(t,{NH:function(){return o},iC:function(){return s},vz:function(){return _.vz},H:function(){return T},PY:function(){return k.NH},aV:function(){return k.aV},Dx:function(){return c.D},O2:function(){return g},zf:function(){return k.zf},Xp:function(){return k.Xp},Fc:function(){return k.Fc},ZP:function(){return p},hg:function(){return d},d_:function(){return h},kU:function(){return l},tC:function(){return f.tC},Ik:function(){return y},wc:function(){return b},Cf:function(){return f.Cf},gM:function(){return m},Qs:function(){return v},Yo:function(){return A.Y},$E:function(){return f.$E},q0:function(){return A.q},Rl:function(){return a},pU:function(){return u},U5:function(){return S.Z},mi:function(){return _.mi},wu:function(){return _.wu},ys:function(){return i},vL:function(){return P.v},pj:function(){return x},br:function(){return _.br},Rp:function(){return j}});var r=n(7301);function o(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function i(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function a(e){var t=document.createElement("iframe");return t.style.display="none",t.src=e,document.body.appendChild(t)}function u(e,t){var n=t.popupTitle||"External Identity Provider User Authentication";return window.open(e,n,"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600")}function s(e,t,n){var a,u;return new Promise((function(i,s){a=function(t){if(t.data&&t.data.state===n)return t.origin!==e.getIssuerOrigin()?s(new r.R("The request does not match client configuration")):void i(t.data)},o(window,"message",a),u=setTimeout((function(){s(new r.R("OAuth flow timed out"))}),t||12e4)})).finally((function(){clearTimeout(u),i(window,"message",a)}))}var c=n(7756),f=n(9912);function l(e){return/((id|access)_token=)/i.test(e)}function p(e){return/(code=)/i.test(e)}function h(e){return/(interaction_code=)/i.test(e)}function d(e){return/(error=)/i.test(e)||/(error_description)/i.test(e)}function v(e,t){var n=t.options;return!(!e||!n.redirectUri)&&0===e.indexOf(n.redirectUri)}function y(e){return e.pkce||"code"===e.responseType||"query"===e.responseMode}function g(e){return y(e)&&"fragment"!==e.responseMode?window.location.search:window.location.hash}function m(e){if(!v(window.location.href,e))return!1;var t=y(e.options),n=g(e.options);return!!d(n)||(t?p(n)||h(n):l(window.location.hash))}function b(e,t){if(!t){if(!m(e))return!1;t=g(e.options)}return/(error=interaction_required)/i.test(t)}var k=n(7599),w=n(4942);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n={issuer:e.options.issuer,urls:(0,k.Fc)(e,t),clientId:t.clientId,redirectUri:t.redirectUri,responseType:t.responseType,responseMode:t.responseMode,scopes:t.scopes,state:t.state,nonce:t.nonce,ignoreSignature:t.ignoreSignature};return!1===t.pkce?n:E(E({},n),{},{codeVerifier:t.codeVerifier,codeChallengeMethod:t.codeChallengeMethod,codeChallenge:t.codeChallenge})}var S=n(3611),_=n(6898),A=n(6635),P=n(1969),R=n(9123);function x(e,t,n){var r=n.clientId,o=n.issuer,i=n.nonce;if(!t||!o||!r)throw new R.Z("The jwt, iss, and aud arguments are all required");if(i&&t.nonce!==i)throw new R.Z("OAuth flow response nonce doesn't match request nonce");var a=Math.floor(Date.now()/1e3);if(t.iss!==o)throw new R.Z("The issuer ["+t.iss+"] does not match ["+o+"]");if(t.aud!==r)throw new R.Z("The audience ["+t.aud+"] does not match ["+r+"]");if(t.iat>t.exp)throw new R.Z("The JWT expired before it was issued");if(!e.options.ignoreLifetime){if(a-e.options.maxClockSkew>t.exp)throw new R.Z("The JWT expired and is no longer valid");if(t.iat>a+e.options.maxClockSkew)throw new R.Z("The JWT was issued in the future")}}var Z=n(2852);function j(e,t){if(!(0,Z.isIDToken)(e)&&!(0,Z.isAccessToken)(e)&&!(0,Z.isRefreshToken)(e))throw new r.R("Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property");if("accessToken"===t&&!(0,Z.isAccessToken)(e))throw new r.R("invalid accessToken");if("idToken"===t&&!(0,Z.isIDToken)(e))throw new r.R("invalid idToken");if("refreshToken"===t&&!(0,Z.isRefreshToken)(e))throw new r.R("invalid refreshToken")}},7599:function(e,t,n){"use strict";n.d(t,{aV:function(){return a},NH:function(){return u},zf:function(){return c},Xp:function(){return f},Fc:function(){return l}});var r=n(8750),o=n(6718),i=n(9123);function a(){return(0,r.uh)(64)}function u(){return(0,r.uh)(64)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.Qj)(t.issuer)||e.options.issuer;return n}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(e,t),r=n.indexOf("/oauth2")>0?n:n+"/oauth2";return r}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(e,t),r=n.split("/oauth2")[0];return r}function l(e,t){if(arguments.length>2)throw new i.Z('As of version 3.0, "getOAuthUrls" takes only a single set of options');t=t||{};var n=(0,o.Qj)(t.authorizeUrl)||e.options.authorizeUrl,r=s(e,t),a=(0,o.Qj)(t.userinfoUrl)||e.options.userinfoUrl,u=(0,o.Qj)(t.tokenUrl)||e.options.tokenUrl,f=(0,o.Qj)(t.logoutUrl)||e.options.logoutUrl,l=(0,o.Qj)(t.revokeUrl)||e.options.revokeUrl,p=c(e,t);return{issuer:r,authorizeUrl:n=n||p+"/v1/authorize",userinfoUrl:a=a||p+"/v1/userinfo",tokenUrl:u=u||p+"/v1/token",revokeUrl:l=l||p+"/v1/revoke",logoutUrl:f=f||p+"/v1/logout"}}},3611:function(e,t,n){"use strict";var r=n(9326),o=n(1971);function i(e){return("0"+e.toString(16)).substr(-2)}t.Z={DEFAULT_CODE_CHALLENGE_METHOD:o.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:function(e){var t,n,a=e||"";return a.length<o.MIN_VERIFIER_LENGTH&&(a+=(t=o.MIN_VERIFIER_LENGTH-a.length,n=new Uint8Array(Math.ceil(t/2)),r.webcrypto.getRandomValues(n),Array.from(n,i).join("").slice(0,t))),encodeURIComponent(a).slice(0,o.MAX_VERIFIER_LENGTH)},computeChallenge:function(e){var t=(new TextEncoder).encode(e);return r.webcrypto.subtle.digest("SHA-256",t).then((function(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return(0,r.stringToBase64Url)(t)}))}}},6898:function(e,t,n){"use strict";n.d(t,{vz:function(){return d},br:function(){return v},mi:function(){return g},wu:function(){return b}});var r=n(4942),o=n(5861),i=n(7757),a=n.n(i),u=n(52),s=n(7301),c=n(7756),f=n(1971),l=n(3611);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){if(!e.features.isPKCESupported()){var t="PKCE requires a modern browser with encryption support running in a secure context.";throw e.features.isHTTPS()||(t+="\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol."),e.features.hasTextEncoder()||(t+='\n"TextEncoder" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.'),new s.R(t)}}function v(e,t){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||t.options.codeChallengeMethod||f.DEFAULT_CODE_CHALLENGE_METHOD,e.next=3,(0,u.E)(t);case 3:if(-1!==(e.sent.code_challenge_methods_supported||[]).indexOf(n)){e.next=7;break}throw new s.R("Invalid code_challenge_method");case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(a().mark((function e(t,n){var r,o,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(r=n).codeVerifier,i=r.codeChallenge,u=r.codeChallengeMethod,i=i||t.options.codeChallenge){e.next=8;break}return d(t),o=o||l.Z.generateVerifier(),e.next=7,l.Z.computeChallenge(o);case 7:i=e.sent;case 8:return e.next=10,v(t,u);case 10:return u=e.sent,n=h(h({},n),{},{responseType:"code",codeVerifier:o,codeChallenge:i,codeChallengeMethod:u}),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return k.apply(this,arguments)}function k(){return k=(0,o.Z)(a().mark((function e(t){var n,r,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=(0,c.D)(t),!1!==(n=h(h({},r),n)).pkce){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",g(t,n));case 6:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}},6635:function(e,t,n){"use strict";n.d(t,{q:function(){return o},Y:function(){return i}});var r=n(7301);function o(e,t){return e.refreshToken===t.refreshToken}function i(e){return!(!(0,r.Tw)(e)||!e.xhr||!e.xhr.responseJSON||"invalid_grant"!==e.xhr.responseJSON.error)}},1969:function(e,t,n){"use strict";function r(e){var t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=e||"";"#"===r.charAt(0)&&"/"===r.charAt(1)&&(r=r.substring(2)),"#"!==r.charAt(0)&&"?"!==r.charAt(0)||(r=r.substring(1));for(var o,i={};o=n.exec(r);){var a=o[1],u=o[2];i[a]="id_token"===a||"access_token"===a||"code"===a?u:decodeURIComponent(u.replace(t," "))}return i}n.d(t,{v:function(){return r}})},1260:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var r=n(5861),o=n(7757),i=n.n(o),a=n(52),u=n(1060),s=n(7301),c=n(1237),f=n(9326);function l(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t,n,r){var o,l,p,h,d,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.idToken){e.next=2;break}throw new s.R("Only idTokens may be verified");case 2:return o=(0,c.T)(n.idToken),l=(null==r?void 0:r.issuer)||t.options.issuer,e.next=6,(0,a.E)(t,l);case 6:if(p=e.sent,h=p.issuer,d=Object.assign({clientId:t.options.clientId,ignoreSignature:t.options.ignoreSignature},r,{issuer:h}),(0,u.pj)(t,o.payload,d),1!=d.ignoreSignature&&t.features.isTokenVerifySupported()){e.next=12;break}return e.abrupt("return",n);case 12:return e.next=14,(0,a.k)(t,n.issuer,o.header.kid);case 14:return v=e.sent,e.next=17,f.verifyToken(n.idToken,v);case 17:if(e.sent){e.next=20;break}throw new s.R("The token signature is not valid");case 20:if(!(r&&r.accessToken&&n.claims.at_hash)){e.next=26;break}return e.next=23,f.getOidcHash(r.accessToken);case 23:if(e.sent===n.claims.at_hash){e.next=26;break}throw new s.R("Token hash verification failed");case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},3291:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(5671),o=n(4942),i=n(7735),a=n(3193),u=n(6718),s=n(4771),c=n(9123),f=n(459),l=n(8903),p=n(4393),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,r.Z)(this,e),(0,o.Z)(this,"next",void 0),(0,o.Z)(this,"cancel",void 0),(0,o.Z)(this,"skip",void 0),(0,o.Z)(this,"unlock",void 0),(0,o.Z)(this,"changePassword",void 0),(0,o.Z)(this,"resetPassword",void 0),(0,o.Z)(this,"answer",void 0),(0,o.Z)(this,"recovery",void 0),(0,o.Z)(this,"verify",void 0),(0,o.Z)(this,"resend",void 0),(0,o.Z)(this,"activate",void 0),(0,o.Z)(this,"poll",void 0),(0,o.Z)(this,"prev",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"stateToken",void 0),(0,o.Z)(this,"sessionToken",void 0),(0,o.Z)(this,"status",void 0),(0,o.Z)(this,"user",void 0),(0,o.Z)(this,"factor",void 0),(0,o.Z)(this,"factors",void 0),(0,o.Z)(this,"policy",void 0),(0,o.Z)(this,"scopes",void 0),(0,o.Z)(this,"target",void 0),(0,o.Z)(this,"authentication",void 0),this.data=void 0,this.status=void 0,n){if(this.data=n,this.data.interactionHandle)return void(this.status=n.status);Object.assign(this,v(t,n,n,{})),delete this.stateToken,"RECOVERY_CHALLENGE"!==n.status||n._links||(this.cancel=function(){return Promise.resolve(t.tx.createTransaction())})}};function d(e,t,n,r,o){if(Array.isArray(r))return function(i,u){if(!i)throw new c.Z("Must provide a link name");var s=(0,a.sE)(r,{name:i});if(!s)throw new c.Z("No link found for that name");return d(e,t,n,s,o)(u)};if(r.hints&&r.hints.allow&&1===r.hints.allow.length)switch(r.hints.allow[0]){case"GET":return function(){return(0,i.U2)(e,r.href,{withCredentials:!0})};case"POST":return function(i){o&&o.isPolling&&(o.isPolling=!1);var s=(0,f.$)(t,i);"MFA_ENROLL"!==t.status&&"FACTOR_ENROLL"!==t.status||Object.assign(s,{factorType:n.factorType,provider:n.provider});var l={},h=s.autoPush;if(void 0!==h){if("function"==typeof h)try{l.autoPush=!!h()}catch(e){return Promise.reject(new c.Z("AutoPush resulted in an error."))}else null!==h&&(l.autoPush=!!h);s=(0,a.CE)(s,"autoPush")}var d=s.rememberDevice;if(void 0!==d){if("function"==typeof d)try{l.rememberDevice=!!d()}catch(e){return Promise.reject(new c.Z("RememberDevice resulted in an error."))}else null!==d&&(l.rememberDevice=!!d);s=(0,a.CE)(s,"rememberDevice")}else s.profile&&void 0!==s.profile.updatePhone&&(s.profile.updatePhone&&(l.updatePhone=!0),s.profile=(0,a.CE)(s.profile,"updatePhone"));var v=r.href+(0,u.UK)(l);return(0,p.TG)(e,v,s)}}}function v(e,t,n,r){if(n=n||t,n=(0,a.d9)(n),Array.isArray(n)){for(var o=[],i=0,u=n.length;i<u;i++)o.push(v(e,t,n[i],r));return o}var c=n._embedded||{};for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&((0,s.Kn)(c[f])||Array.isArray(c[f]))&&(c[f]=v(e,t,c[f],r));var p=function(e,t,n,r){var o={};for(var i in n._links)if(Object.prototype.hasOwnProperty.call(n._links,i)){var a=n._links[i];if("next"===i&&(i=a.name),a.type)o[i]=a;else if("poll"===i)o.poll=(0,l.I)(e,t,r);else{var u=d(e,t,n,a,r);u&&(o[i]=u)}}return o}(e,t,n,r);return Object.assign(c,p),n=(0,a.CE)(n,"_embedded","_links"),Object.assign(n,c),n}},5760:function(){},4393:function(e,t,n){"use strict";n.d(t,{L0:function(){return u},oN:function(){return s},LB:function(){return c},FO:function(){return f},lI:function(){return l},TG:function(){return p}});var r=n(7735),o=n(9123),i=n(1971),a=n(459);function u(e,t){return t=(0,a.$)(e,t),(0,r.v_)(e,e.getIssuerOrigin()+"/api/v1/authn",t,{withCredentials:!0})}function s(e,t){if(!t||!t.stateToken){var n=e.tx.exists._get(i.STATE_TOKEN_KEY_NAME);if(!n)return Promise.reject(new o.Z("No transaction to resume"));t={stateToken:n}}return e.tx.status(t).then((function(t){return e.tx.createTransaction(t)}))}function c(e,t){if(!t||!t.stateToken){var n=e.tx.exists._get(i.STATE_TOKEN_KEY_NAME);if(!n)return Promise.reject(new o.Z("No transaction to evaluate"));t={stateToken:n}}return f(e,t).then((function(t){return e.tx.createTransaction(t)}))}function f(e,t){return t=(0,a.$)(e,t),(0,r.v_)(e,e.getIssuerOrigin()+"/api/v1/authn/introspect",t,{withCredentials:!0})}function l(e){return!!e.tx.exists._get(i.STATE_TOKEN_KEY_NAME)}function p(e,t,n,o){return o=Object.assign({withCredentials:!0},o),(0,r.v_)(e,t,n,o).then((function(t){return e.tx.createTransaction(t)}))}},2375:function(e,t,n){"use strict";n.r(t),n.d(t,{introspectAuthn:function(){return r.LB},postToTransaction:function(){return r.TG},resumeTransaction:function(){return r.oN},transactionExists:function(){return r.lI},transactionStatus:function(){return r.L0},transactionStep:function(){return r.FO},AuthTransaction:function(){return o.D},getPollFn:function(){return i.I},addStateToken:function(){return c.$},getStateToken:function(){return c.q}});var r=n(4393),o=n(3291),i=n(8903),a=n(5760),u={};for(var s in a)["default","introspectAuthn","postToTransaction","resumeTransaction","transactionExists","transactionStatus","transactionStep","AuthTransaction","getPollFn"].indexOf(s)<0&&(u[s]=function(e){return a[e]}.bind(0,s));n.d(t,u);var c=n(459)},8903:function(e,t,n){"use strict";n.d(t,{I:function(){return p}});var r=n(7735),o=n(4771),i=n(3193),a=n(6718),u=n(8750),s=n(1971),c=n(9123),f=n(6573),l=n(459);function p(e,t,n){return function(p){var h,d,v,y;(0,o.hj)(p)?h=p:(0,o.Kn)(p)&&(h=p.delay,d=p.rememberDevice,v=p.autoPush,y=p.transactionCallBack),h||0===h||(h=s.DEFAULT_POLLING_DELAY);var g=(0,i.Rg)(t,"next","poll");n.isPolling=!0;var m=0;return function o(){return n.isPolling?function(){var n={};if("function"==typeof v)try{n.autoPush=!!v()}catch(e){return Promise.reject(new c.Z("AutoPush resulted in an error."))}else null!=v&&(n.autoPush=!!v);if("function"==typeof d)try{n.rememberDevice=!!d()}catch(e){return Promise.reject(new c.Z("RememberDevice resulted in an error."))}else null!=d&&(n.rememberDevice=!!d);var o=g.href+(0,a.UK)(n);return(0,r.v_)(e,o,(0,l.q)(t),{saveAuthnState:!1,withCredentials:!0})}().then((function(t){if(m=0,t.factorResult&&"WAITING"===t.factorResult){if(!n.isPolling)throw new f.Z;return"function"==typeof y&&y(t),(0,u.gw)(h).then(o)}return n.isPolling=!1,e.tx.createTransaction(t)})).catch((function(e){if(e.xhr&&(0===e.xhr.status||429===e.xhr.status)&&m<=4){var t=1e3*Math.pow(2,m);return m++,(0,u.gw)(t).then(o)}throw e})):Promise.reject(new f.Z)}().catch((function(e){throw n.isPolling=!1,e}))}}},459:function(e,t,n){"use strict";function r(e,t){var n={};return Object.assign(n,t),!n.stateToken&&e.stateToken&&(n.stateToken=e.stateToken),n}function o(e){return r(e)}n.d(t,{$:function(){return r},q:function(){return o}})},3031:function(){},2516:function(){},3833:function(){},9573:function(){},4283:function(e,t,n){"use strict";function r(e){return!!(e&&(e.accessToken||e.idToken||e.refreshToken)&&Array.isArray(e.scopes))}function o(e){return e&&e.accessToken}function i(e){return e&&e.idToken}function a(e){return e&&e.refreshToken}n.d(t,{hD:function(){return r},hv:function(){return o},sI:function(){return i},z9:function(){return a}})},4444:function(e,t,n){"use strict";n.d(t,{$Y:function(){return r},E:function(){return o},O3:function(){return i},FT:function(){return a},$I:function(){return u},zr:function(){return s}});var r="expired",o="renewed",i="added",a="removed",u="error",s="set_storage"},1925:function(e,t,n){"use strict";n.d(t,{G5:function(){return i},ZT:function(){return a},sG:function(){return u},rZ:function(){return s},mH:function(){return c}});var r=n(1002);function o(e){return!(!e||"object"!==(0,r.Z)(e)||0===Object.values(e).length)}function i(e){return!(!o(e)||!e.redirectUri&&!e.responseType)}function a(e){return!!i(e)&&!!e.codeVerifier}function u(e){return!!a(e)&&!!e.interactionHandle}function s(e){return!!o(e)&&void 0===Object.values(e).find((function(e){return"string"!=typeof e}))}function c(e){return!(!i(e)&&!s(e))}},6854:function(){},2852:function(e,t,n){"use strict";n.r(t),n.d(t,{isCustomAuthTransactionMeta:function(){return a.rZ},isIdxTransactionMeta:function(){return a.sG},isOAuthTransactionMeta:function(){return a.G5},isPKCETransactionMeta:function(){return a.ZT},isTransactionMeta:function(){return a.mH},AuthenticatorKey:function(){return s.pc},IdxFeature:function(){return s.Fw},IdxStatus:function(){return s.Qd},isAuthenticator:function(){return s.H},isAccessToken:function(){return f.hv},isIDToken:function(){return f.sI},isRefreshToken:function(){return f.z9},isToken:function(){return f.hD},EVENT_ADDED:function(){return l.O3},EVENT_ERROR:function(){return l.$I},EVENT_EXPIRED:function(){return l.$Y},EVENT_REMOVED:function(){return l.FT},EVENT_RENEWED:function(){return l.E},EVENT_SET_STORAGE:function(){return l.zr},BaseTransaction:function(){return d.BaseTransaction},EmailChallengeTransaction:function(){return d.EmailChallengeTransaction},EmailRole:function(){return d.EmailRole},EmailStatusTransaction:function(){return d.EmailStatusTransaction},EmailTransaction:function(){return d.EmailTransaction},PhoneTransaction:function(){return d.PhoneTransaction},ProfileSchemaTransaction:function(){return d.ProfileSchemaTransaction},ProfileTransaction:function(){return d.ProfileTransaction},Status:function(){return d.Status},addEmail:function(){return d.addEmail},addPhone:function(){return d.addPhone},deleteEmail:function(){return d.deleteEmail},deletePhone:function(){return d.deletePhone},getEmail:function(){return d.getEmail},getEmailChallenge:function(){return d.getEmailChallenge},getEmails:function(){return d.getEmails},getPhone:function(){return d.getPhone},getPhones:function(){return d.getPhones},getProfile:function(){return d.getProfile},getProfileSchema:function(){return d.getProfileSchema},sendEmailChallenge:function(){return d.sendEmailChallenge},sendPhoneChallenge:function(){return d.sendPhoneChallenge},updateProfile:function(){return d.updateProfile},verifyEmailChallenge:function(){return d.verifyEmailChallenge},verifyPhoneChallenge:function(){return d.verifyPhoneChallenge}});var r=n(2516),o={};for(var i in r)"default"!==i&&(o[i]=function(e){return r[e]}.bind(0,i));n.d(t,o);var a=n(1925),u=n(3031);for(var i in o={},u)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta"].indexOf(i)<0&&(o[i]=function(e){return u[e]}.bind(0,i));n.d(t,o);var s=n(1384),c=n(3833);for(var i in o={},c)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta","AuthenticatorKey","IdxFeature","IdxStatus","isAuthenticator"].indexOf(i)<0&&(o[i]=function(e){return c[e]}.bind(0,i));n.d(t,o);var f=n(4283),l=n(4444),p=n(9573);for(var i in o={},p)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta","AuthenticatorKey","IdxFeature","IdxStatus","isAuthenticator","isAccessToken","isIDToken","isRefreshToken","isToken","EVENT_ADDED","EVENT_ERROR","EVENT_EXPIRED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE"].indexOf(i)<0&&(o[i]=function(e){return p[e]}.bind(0,i));n.d(t,o);var h=n(6854);for(var i in o={},h)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta","AuthenticatorKey","IdxFeature","IdxStatus","isAuthenticator","isAccessToken","isIDToken","isRefreshToken","isToken","EVENT_ADDED","EVENT_ERROR","EVENT_EXPIRED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE"].indexOf(i)<0&&(o[i]=function(e){return h[e]}.bind(0,i));n.d(t,o);var d=n(7938)},146:function(e,t,n){"use strict";function r(){return"undefined"!=typeof window?window.console:"undefined"!=typeof console?console:void 0}function o(){var e=r();return e&&e.log?e:{log:function(){},warn:function(){},group:function(){},groupEnd:function(){}}}function i(e){o().warn("[okta-auth-sdk] WARN: "+e)}function a(e){o().warn("[okta-auth-sdk] DEPRECATION: "+e)}function u(e,t){return function(){return a(e),t.apply(null,arguments)}}n.d(t,{sW:function(){return r},dr:function(){return o},ZK:function(){return i},Rn:function(){return a},VA:function(){return u}})},305:function(e,t,n){"use strict";n.d(t,{Rn:function(){return r.Rn},VA:function(){return r.VA},dr:function(){return r.dr},sW:function(){return r.sW},ZK:function(){return r.ZK},gw:function(){return o.gw},uh:function(){return o.uh},ng:function(){return o.ng},YQ:function(){return o.YQ},ak:function(){return i.ak},d9:function(){return i.d9},l7:function(){return i.l7},sE:function(){return i.sE},Rg:function(){return i.Rg},CE:function(){return i.CE},YY:function(){return i.YY},mf:function(){return a.mf},hj:function(){return a.hj},Kn:function(){return a.Kn},tI:function(){return a.tI},HD:function(){return a.HD},sD:function(){return u.sD},Qj:function(){return u.Qj},BY:function(){return u.BY},UK:function(){return u.UK},QN:function(){return u.QN},f5:function(){return s.f}});var r=n(146),o=n(8750),i=n(3193),a=n(4771),u=n(6718),s=n(1524)},8750:function(e,t,n){"use strict";function r(e){var t=e.match(/\d+/g),n=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return new Date(n).toUTCString()}function o(e){for(var t="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,o=t.length;r<e;++r)n+=t[Math.floor(Math.random()*o)];return n}function i(e){return new Promise((function(t){setTimeout(t,e)}))}function a(e,t){var n=e.split(t);return[n[0],n.splice(1,n.length).join(t)]}n.d(t,{ng:function(){return r},uh:function(){return o},gw:function(){return i},YQ:function(){return a}})},3193:function(e,t,n){"use strict";function r(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return r=n.concat(r),e.apply(t,r)}}function o(){var e=arguments[0],t=[].slice.call(arguments,1);return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&(e[n]=t[n])})),e}function i(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];null!=r&&(t[n]=r)}return t}function a(e){if(e){var t=JSON.stringify(e);if(t)return JSON.parse(t)}return e}function u(e){for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1==r.indexOf(i)&&(t[i]=e[i]);return a(t)}function s(e,t){for(var n=e.length;n--;){var r=e[n],o=!0;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r[i]!==t[i]){o=!1;break}if(o)return r}}function c(e,t,n){if(e&&e._links){var r=a(e._links[t]);return r&&r.name&&n?r.name===n?r:void 0:r}}n.d(t,{ak:function(){return r},l7:function(){return o},YY:function(){return i},d9:function(){return a},CE:function(){return u},sE:function(){return s},Rg:function(){return c}})},1524:function(e,t,n){"use strict";function r(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}n.d(t,{f:function(){return r}})},4771:function(e,t,n){"use strict";function r(e){return"[object String]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"[object Number]"===Object.prototype.toString.call(e)}function a(e){return!!e&&"[object Function]"==={}.toString.call(e)}function u(e){return e&&e.finally&&"function"==typeof e.finally}n.d(t,{HD:function(){return r},Kn:function(){return o},hj:function(){return i},mf:function(){return a},tI:function(){return u}})},6718:function(e,t,n){"use strict";function r(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r(e)?e:(t=u(t),"/"===e[0]?"".concat(t).concat(e):"".concat(t,"/").concat(e))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r(e)&&(e=e.substring(t.length)),"/"===e[0]?e:"/".concat(e)}function a(e){var t=[];if(null!==e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.length?"?"+t.join("&"):""}function u(e){if(e){var t=e.replace(/^\s+|\s+$/gm,"");return t.replace(/\/+$/,"")}}n.d(t,{sD:function(){return r},BY:function(){return o},QN:function(){return i},UK:function(){return a},Qj:function(){return u}})},3615:function(e,t,n){"use strict";var r=n(4575),o=n(3913),i=n(2205),a=n(8585),u=n(9754);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){i(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=u(t);if(n){var o=u(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return a(this,e)});function c(e){var t;return r(this,c),(t=s.call(this,e||"Promise was canceled")).name="CancelError",t}return o(c,[{key:"isCanceled",get:function(){return!0}}]),c}(n(5957)(Error)),f=function(){function e(t){var n=this;r(this,e),this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((function(e,r){n._reject=r;var o=function(e){if(!n._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");n._cancelHandlers.push(e)};return Object.defineProperties(o,{shouldReject:{get:function(){return n._rejectOnCancel},set:function(e){n._rejectOnCancel=e}}}),t((function(t){n._isCanceled&&o.shouldReject||(n._isPending=!1,e(t))}),(function(e){n._isPending=!1,r(e)}),o)}))}return o(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this._cancelHandlers);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(e){n.e(e)}finally{n.f()}}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new c(e))}}},{key:"isCanceled",get:function(){return this._isCanceled}}],[{key:"fn",value:function(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return new e((function(e,n,o){r.push(o),t.apply(void 0,r).then(e,n)}))}}}]),e}();Object.setPrototypeOf(f.prototype,Promise.prototype),e.exports=f,e.exports.CancelError=c},4098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function k(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];w.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,n){return new Promise((function(r,i){var a=new b(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function s(){u.abort()}u.onload=function(){var e,t,n={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;r(new w(o,n))},u.onerror=function(){i(new TypeError("Network request failed"))},u.ontimeout=function(){i(new TypeError("Network request failed"))},u.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&o&&(u.responseType="blob"),a.headers.forEach((function(e,t){u.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",s),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",s)}),u.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=b,e.Response=w),t.Headers=p,t.Request=b,t.Response=w,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},5643:function(e){e.exports=!1},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=f(e,t,n);if("normal"===s.type){if(r=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function m(){}var b={};b[i]=function(){return this};var k=Object.getPrototypeOf,w=k&&k(k(R([])));w&&w!==n&&r.call(w,i)&&(b=w);var O=m.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,u){var s=f(e[o],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function R(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return g.prototype=O.constructor=m,m.constructor=g,g.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(O),s(O,u,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},4279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=t},199:function(){},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return o}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return o}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9611);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002),o=n(7326);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(181);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907),o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{OktaAuth:function(){return t.Z},ACCESS_TOKEN_STORAGE_KEY:function(){return o.ACCESS_TOKEN_STORAGE_KEY},CACHE_STORAGE_NAME:function(){return o.CACHE_STORAGE_NAME},DEFAULT_CACHE_DURATION:function(){return o.DEFAULT_CACHE_DURATION},DEFAULT_CODE_CHALLENGE_METHOD:function(){return o.DEFAULT_CODE_CHALLENGE_METHOD},DEFAULT_MAX_CLOCK_SKEW:function(){return o.DEFAULT_MAX_CLOCK_SKEW},DEFAULT_POLLING_DELAY:function(){return o.DEFAULT_POLLING_DELAY},IDX_API_VERSION:function(){return o.IDX_API_VERSION},IDX_RESPONSE_STORAGE_NAME:function(){return o.IDX_RESPONSE_STORAGE_NAME},ID_TOKEN_STORAGE_KEY:function(){return o.ID_TOKEN_STORAGE_KEY},MAX_VERIFIER_LENGTH:function(){return o.MAX_VERIFIER_LENGTH},MIN_VERIFIER_LENGTH:function(){return o.MIN_VERIFIER_LENGTH},ORIGINAL_URI_STORAGE_NAME:function(){return o.ORIGINAL_URI_STORAGE_NAME},PKCE_STORAGE_NAME:function(){return o.PKCE_STORAGE_NAME},REDIRECT_NONCE_COOKIE_NAME:function(){return o.REDIRECT_NONCE_COOKIE_NAME},REDIRECT_OAUTH_PARAMS_NAME:function(){return o.REDIRECT_OAUTH_PARAMS_NAME},REDIRECT_STATE_COOKIE_NAME:function(){return o.REDIRECT_STATE_COOKIE_NAME},REFERRER_PATH_STORAGE_KEY:function(){return o.REFERRER_PATH_STORAGE_KEY},REFRESH_TOKEN_STORAGE_KEY:function(){return o.REFRESH_TOKEN_STORAGE_KEY},SHARED_TRANSACTION_STORAGE_NAME:function(){return o.SHARED_TRANSACTION_STORAGE_NAME},STATE_TOKEN_KEY_NAME:function(){return o.STATE_TOKEN_KEY_NAME},TOKEN_STORAGE_NAME:function(){return o.TOKEN_STORAGE_NAME},TRANSACTION_STORAGE_NAME:function(){return o.TRANSACTION_STORAGE_NAME},authenticate:function(){return i.YR},canProceed:function(){return i.Ch},cancel:function(){return i.al},clearTransactionMeta:function(){return i.Jm},createTransactionMeta:function(){return i.Xc},getSavedTransactionMeta:function(){return i.uN},getTransactionMeta:function(){return i.Co},handleEmailVerifyCallback:function(){return i.Jn},handleInteractionCodeRedirect:function(){return i.Xx},hasSavedInteractionHandle:function(){return i.$0},interact:function(){return i.EW},introspect:function(){return i.L8},isEmailVerifyCallback:function(){return i.GA},isEmailVerifyCallbackError:function(){return i.gc},isTransactionMetaValid:function(){return i.Wf},isTransactionMetaValidForFlow:function(){return i.bl},isTransactionMetaValidForOptions:function(){return i.UC},parseEmailVerifyCallback:function(){return i.mo},poll:function(){return i.$l},proceed:function(){return i.xc},recoverPassword:function(){return i.M4},register:function(){return i.z2},saveTransactionMeta:function(){return i.r0},startTransaction:function(){return i.Yr},unlockAccount:function(){return i.le},AuthApiError:function(){return f.Ws},AuthPollStopError:function(){return f.j2},AuthSdkError:function(){return f.R},OAuthError:function(){return f.BK},isAuthApiError:function(){return f.Tw},isOAuthError:function(){return f.eo},addListener:function(){return l.NH},addPostMessageListener:function(){return l.iC},assertPKCESupport:function(){return l.vz},buildAuthorizeParams:function(){return l.R0},convertTokenParamsToOAuthParams:function(){return l._6},createOAuthMeta:function(){return l.H},decodeToken:function(){return l.TD},exchangeCodeForTokens:function(){return l.rz},generateNonce:function(){return l.PY},generateState:function(){return l.aV},getDefaultTokenParams:function(){return l.Dx},getHashOrSearch:function(){return l.O2},getKey:function(){return l.km},getOAuthBaseUrl:function(){return l.zf},getOAuthDomain:function(){return l.Xp},getOAuthUrls:function(){return l.Fc},getToken:function(){return l.LP},getUserInfo:function(){return l.bG},getWellKnown:function(){return l.ES},getWithPopup:function(){return l.dh},getWithRedirect:function(){return l.Hq},getWithoutPrompt:function(){return l.y6},handleOAuthResponse:function(){return l.sw},hasAuthorizationCode:function(){return l.ZP},hasErrorInUrl:function(){return l.hg},hasInteractionCode:function(){return l.d_},hasTokensInHash:function(){return l.kU},isAuthorizationCodeError:function(){return l.tC},isCodeFlow:function(){return l.Ik},isInteractionRequired:function(){return l.wc},isInteractionRequiredError:function(){return l.Cf},isLoginRedirect:function(){return l.gM},isRedirectUri:function(){return l.Qs},isRefreshTokenError:function(){return l.Yo},isRefreshTokenInvalidError:function(){return l.$E},isSameRefreshToken:function(){return l.q0},loadFrame:function(){return l.Rl},loadPopup:function(){return l.pU},parseFromUrl:function(){return l.ko},pkce:function(){return l.U5},postRefreshToken:function(){return l.Dp},postToTokenEndpoint:function(){return l.ti},preparePKCE:function(){return l.mi},prepareTokenParams:function(){return l.wu},removeListener:function(){return l.ys},renewToken:function(){return l.$m},renewTokens:function(){return l.IK},renewTokensWithRefresh:function(){return l.Rm},revokeToken:function(){return l.PX},urlParamsToObject:function(){return l.vL},validateClaims:function(){return l.pj},validateCodeChallengeMethod:function(){return l.br},validateToken:function(){return l.Rp},verifyToken:function(){return l.WX},StorageManager:function(){return p.A},TokenManager:function(){return h.M},AuthStateManager:function(){return d.E},INITIAL_AUTH_STATE:function(){return d.a},bind:function(){return v.ak},clone:function(){return v.d9},delay:function(){return v.gw},deprecate:function(){return v.Rn},deprecateWrap:function(){return v.VA},extend:function(){return v.l7},find:function(){return v.sE},genRandomString:function(){return v.uh},getConsole:function(){return v.dr},getLink:function(){return v.Rg},getNativeConsole:function(){return v.sW},isAbsoluteUrl:function(){return v.sD},isFunction:function(){return v.mf},isLocalStorageAvailable:function(){return v.f5},isNumber:function(){return v.hj},isObject:function(){return v.Kn},isPromise:function(){return v.tI},isString:function(){return v.HD},isoToUTCString:function(){return v.ng},omit:function(){return v.CE},removeNils:function(){return v.YY},removeTrailingSlash:function(){return v.Qj},split2:function(){return v.YQ},toAbsoluteUrl:function(){return v.BY},toQueryString:function(){return v.UK},toRelativeUrl:function(){return v.QN},warn:function(){return v.ZK},crypto:function(){return e}});var e=n(9326),t=n(3415),o=n(1971),i=n(4516),a=n(2852),u={};for(var s in a)["default","OktaAuth","crypto","ACCESS_TOKEN_STORAGE_KEY","CACHE_STORAGE_NAME","DEFAULT_CACHE_DURATION","DEFAULT_CODE_CHALLENGE_METHOD","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_POLLING_DELAY","IDX_API_VERSION","IDX_RESPONSE_STORAGE_NAME","ID_TOKEN_STORAGE_KEY","MAX_VERIFIER_LENGTH","MIN_VERIFIER_LENGTH","ORIGINAL_URI_STORAGE_NAME","PKCE_STORAGE_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_OAUTH_PARAMS_NAME","REDIRECT_STATE_COOKIE_NAME","REFERRER_PATH_STORAGE_KEY","REFRESH_TOKEN_STORAGE_KEY","SHARED_TRANSACTION_STORAGE_NAME","STATE_TOKEN_KEY_NAME","TOKEN_STORAGE_NAME","TRANSACTION_STORAGE_NAME","authenticate","canProceed","cancel","clearTransactionMeta","createTransactionMeta","getSavedTransactionMeta","getTransactionMeta","handleEmailVerifyCallback","handleInteractionCodeRedirect","hasSavedInteractionHandle","interact","introspect","isEmailVerifyCallback","isEmailVerifyCallbackError","isTransactionMetaValid","isTransactionMetaValidForFlow","isTransactionMetaValidForOptions","parseEmailVerifyCallback","poll","proceed","recoverPassword","register","saveTransactionMeta","startTransaction","unlockAccount"].indexOf(s)<0&&(u[s]=function(e){return a[e]}.bind(0,s));n.d(r,u);var c=n(2375);for(var s in u={},c)["default","OktaAuth","crypto","ACCESS_TOKEN_STORAGE_KEY","CACHE_STORAGE_NAME","DEFAULT_CACHE_DURATION","DEFAULT_CODE_CHALLENGE_METHOD","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_POLLING_DELAY","IDX_API_VERSION","IDX_RESPONSE_STORAGE_NAME","ID_TOKEN_STORAGE_KEY","MAX_VERIFIER_LENGTH","MIN_VERIFIER_LENGTH","ORIGINAL_URI_STORAGE_NAME","PKCE_STORAGE_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_OAUTH_PARAMS_NAME","REDIRECT_STATE_COOKIE_NAME","REFERRER_PATH_STORAGE_KEY","REFRESH_TOKEN_STORAGE_KEY","SHARED_TRANSACTION_STORAGE_NAME","STATE_TOKEN_KEY_NAME","TOKEN_STORAGE_NAME","TRANSACTION_STORAGE_NAME","authenticate","canProceed","cancel","clearTransactionMeta","createTransactionMeta","getSavedTransactionMeta","getTransactionMeta","handleEmailVerifyCallback","handleInteractionCodeRedirect","hasSavedInteractionHandle","interact","introspect","isEmailVerifyCallback","isEmailVerifyCallbackError","isTransactionMetaValid","isTransactionMetaValidForFlow","isTransactionMetaValidForOptions","parseEmailVerifyCallback","poll","proceed","recoverPassword","register","saveTransactionMeta","startTransaction","unlockAccount","AuthenticatorKey","BaseTransaction","EVENT_ADDED","EVENT_ERROR","EVENT_EXPIRED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE","EmailChallengeTransaction","EmailRole","EmailStatusTransaction","EmailTransaction","IdxFeature","IdxStatus","PhoneTransaction","ProfileSchemaTransaction","ProfileTransaction","Status","addEmail","addPhone","deleteEmail","deletePhone","getEmail","getEmailChallenge","getEmails","getPhone","getPhones","getProfile","getProfileSchema","isAccessToken","isAuthenticator","isCustomAuthTransactionMeta","isIDToken","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isRefreshToken","isToken","isTransactionMeta","sendEmailChallenge","sendPhoneChallenge","updateProfile","verifyEmailChallenge","verifyPhoneChallenge"].indexOf(s)<0&&(u[s]=function(e){return c[e]}.bind(0,s));n.d(r,u);var f=n(7301),l=n(1279),p=n(6311),h=(n(6529),n(8092)),d=n(7913),v=n(305)}(),r}()}));
//# sourceMappingURL=okta-auth-js.umd.js.map